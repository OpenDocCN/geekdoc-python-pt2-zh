## **语言学入门**

![Image](../Images/comm1.jpg)

书中的大部分章节专注于分析句子结构，利用spaCy识别词序中的模式。要理解句子分析和模式，你需要具备一些语言学基础知识。本附录包含了一个语言学入门知识，供你参考。

### **依赖语法与短语结构语法**

默认情况下，spaCy使用的是依赖语法，而不是语言学中更常用的短语结构语法。本节解释了这两种语法类型之间的区别。如果你有一定的语言学背景，可能会觉得这些信息很有帮助。

也被称为基于成分的语法，*短语结构语法*基于词语如何组合形成句子中的成分来建模自然语言。在句法中，*成分*是指在句子中作为一个单一单位发挥作用的词组。短语结构规则将句子分解成其成分部分，形成一个从单个单词开始，并逐渐构建出更大成分的树形结构。

相比之下，*依赖语法*是一种基于词的语法，它关注单个单词之间的关系，而非成分之间的关系。因此，依赖解析，如本书中所示的例子，形成一棵反映词语如何相互关联的树。

[图A-1](../Text/app01.xhtml#app01fig01)展示了使用这两种语法类型解析句子的示例。

![image](../Images/app1-1.jpg)

*图A-1：基于成分的短语结构语法（左）和基于词的依赖语法（右）的树结构示例*

短语结构树基于句子由名词短语和动词短语构成的事实将句子分解。这些短语出现在层级结构的第二层，直接位于句子（S）标记下方——即正式的顶层。在最底层是构成这些短语的单个单词。

相比之下，依赖结构将动词作为句子的结构中心。其他词汇通过有向链接直接或间接地与动词连接，这些链接被称为*依赖关系*。spaCy默认使用的依赖语法将句子的语法结构表示为词与词之间的一对一对应关系。

这些关系中的每一个都代表一个语法功能，其中一个词是*子项*或从属词，另一个是*主项*或支配词。例如，在“blue sky”这一对中，主导词是“sky”，而“blue”——作为修饰词——是它的下属。你可以把主项看作是最具相对“重要性”的词，没有它，子项就无法成立。相反，关系的主项通常可以单独出现在句子中，而不需要子项（例如，在[图A-1](../Text/app01.xhtml#app01fig01)中所示的句子里，你不需要“African”或“wild”，也不需要“quickly”）。

[图 A-2](../Text/app01.xhtml#app01fig02)展示了这一概念的图形化表示。

![image](../Images/app1-2.jpg)

*图 A-2：基于主/子概念的依存树结构示例*

请注意，[图 A-2](../Text/app01.xhtml#app01fig02)中显示的依存树与[图 A-1](../Text/app01.xhtml#app01fig01)右侧的表示相似。这两种表示的唯一区别是视觉上的：尽管[图 A-1](../Text/app01.xhtml#app01fig01)中的树呈金字塔形视图，[图 A-2](../Text/app01.xhtml#app01fig02)中的树使用标注的定向弧线来强调主/子关系。

句子中的每个词必须与恰好一个主项连接。但同一个词可能没有子项、一个子项或多个子项。spaCy 语法假设句子的主项（ROOT 词）是其自身的主项。在这个例子中，动词“run”是句子的主项，因此表示这个词的 Token 对象的主项属性将指向同一个 Token 对象。

请注意，主/子关系与句子中的线性顺序无关。例如，子项“wild”位于其主项“animals”之前，但子项“quickly”则位于其主项“run”之后。

### **常见语法概念**

本节讨论了本书中使用的更高级的语法概念，包括及物动词和直接宾语、介词宾语、情态助动词和人称代词。

#### ***及物动词和直接宾语***

*直接宾语*是一个名词（或名词短语），表示直接受到动词作用的事物。*及物动词*接受直接宾语。在大多数情况下，识别意图时，及物动词及其直接宾语是提取句子中最重要的词。这是因为这些词通常最能描述动作和所作用的对象。例如，在句子“I want a pizza”中，词“want”和“pizza”表达了句子的意图。

#### ***介词宾语***

*介词*将名词短语与句子中的其他词连接起来。像“in”、“above”、“under”、“after”和“before”等介词表示空间或时间关系。其他介词，如“to”、“of”和“for”，则表示语义角色。例如，在句子“You’ll find the envelope under the book”中，介词“under”表达了信封与书本之间的空间关系。在句子“I will deploy it to a channel”中，介词“to”表示介词短语“a channel”所表达的目标角色。

*介词宾语*（在理论语言学中称为补语）是跟随介词的名词、代词或名词短语。在句子“I wrote a series of articles”中，单词“articles”是介词的宾语。

在某些问题中，提取介词的宾语可能会帮助你找到最能提供答案的单词或短语，例如在问题“What can be done about climate change?”中，“climate change”是确定问题主题的关键短语。

spaCy 依赖分析器将介词索引为“prep”，并将介词的宾语标记为“pobj”。

#### ***情态助动词***

情态助动词包括“may”、“might”、“can”、“could”、“must”、“ought”、“shall”、“should”、“will”和“would”等。它们与主谓动词的基本形式一起使用，用以表示*情态*——换句话说，就是可能性、许可、能力、必要性、意愿或建议。

spaCy 词性标注器识别情态助动词，并使用精细的词性标签“MD”标记它们。句法依赖分析器将它们标记为“aux”。当你需要从问题重构句子时，可能需要检查句子是否使用了情态助动词。

#### ***人称代词***

人称代词指代特定的人、物或多个的人或物。在英语中，人称代词有多种形式，根据它们在句子中的语法角色来区分：

+   主格形式（I, you, he, she, it, we, they）通常作为动词的名词主语使用。

+   宾格形式（me, you, him, her, it, us, them）通常作为动词或介词的宾语使用。

+   反身形式（myself, yourself/yourselves, himself, herself, itself, ourselves, themselves）通常指回同一句子中指定的主语。

spaCy 解析器根据人称代词的形式赋予不同的依赖标签。因此，主格形式的人称代词通常被赋予“nsubj”依赖标签，表示“名词主语”。值得注意的是，在许多用户生成的聊天机器人句子中，句子的主语是“我”。

在宾格形式中，人称代词可以被赋予“dobj”或“iobj”标签，分别表示直接宾语和间接宾语。反身代词通常也充当直接宾语或间接宾语。
