<html><head></head><body>
<h2 class="h2" id="ch03"><span epub:type="pagebreak" id="page_37"/><span class="big">3</span><br/>GUESSING AND CHECKING WITH CONDITIONALS</h2>&#13;
<p class="epigraph"><em>“Put your dough into the oven when it is hot: After making sure that it is in fact dough.” —Idries Shah</em>, Learning How to Learn</p>&#13;
<div class="image1"><img alt="image" src="../images/fintro-01.jpg"/></div>&#13;
<p class="intro">In almost every program you write for this book, you’re going to instruct the computer to make a decision. You can do this using an important programming tool called <em>conditionals</em>. In programming we can use conditional statements</p>&#13;
<p class="noindent">like “If this variable is more than 100, do this; otherwise, do that” to check whether certain conditions are met and then determine what to do based on the result. In fact, this is a very powerful method that we apply to big problems, and it’s even at the heart of machine learning. At its most basic level, the program is guessing and then modifying its guesses based on feedback.</p>&#13;
<p class="indent">In this chapter you learn how to apply the guess-and-check method using Python to take user input and tell the program what to print depending on the input. You then use conditionals to compare different numerical values in different mathematical situations to make a turtle wander around the screen randomly. You also create a number-guessing game and use the same logic to find the square root of large numbers.</p>&#13;
<h3 class="h3" id="ch03_1"><span epub:type="pagebreak" id="page_38"/>COMPARISON OPERATORS</h3>&#13;
<p class="noindent">As you learned in <a href="ch02.xhtml#ch02">Chapter 2</a>, <code>True</code> and <code>False</code> (which we capitalize in Python) are called Boolean values. Python returns Booleans when comparing two values, allowing you to use the result to decide what to do next. For example, we can use comparison operators like greater than (<code>&gt;</code>) or less than (<code>&lt;</code>) to compare two values, like this:</p>&#13;
<pre>&gt;&gt;&gt; <span class="codestrong1">6 &gt; 5</span><br/><span class="literal1"><span class="pd_blue">True</span></span><br/>&gt;&gt;&gt; <span class="codestrong1">6 &gt; 7</span><br/><span class="literal1"><span class="pd_blue">False</span></span></pre>&#13;
<p class="indent">Here, we ask Python whether 6 is greater than 5, and Python returns <code>True</code>. Then we ask whether 6 is greater than 7, and Python returns <code>False</code>.</p>&#13;
<p class="indent">Recall that in Python we use one equal sign to assign a value to a variable. But checking for equality requires two equal signs (<code>==</code>), as shown here:</p>&#13;
<pre>&gt;&gt;&gt; <span class="codestrong1">6 = 6</span><br/><span class="pd_red">SyntaxError: can't assign to literal</span><br/>&gt;&gt;&gt; <span class="codestrong1">6 == 6</span><br/><span class="pd_blue">True</span></pre>&#13;
<p class="indent">As you can see, when we try to check using only one equal sign, we get a syntax error. We can also use comparison operators to compare variables:</p>&#13;
<pre>&gt;&gt;&gt; <span class="codestrong1">y = 3</span><br/>&gt;&gt;&gt; <span class="codestrong1">x = 4</span><br/>&gt;&gt;&gt; <span class="codestrong1">y &gt; x</span><br/><span class="pd_blue">False</span><br/>&gt;&gt;&gt; <span class="codestrong1">y &lt; 10</span><br/><span class="pd_blue">True</span></pre>&#13;
<p class="indent">We set the variable <code>y</code> to contain 3, and then set the variable <code>x</code> to contain 4. Then we use those variables to ask whether <code>y</code> is greater than <code>x</code>, so Python returns <code>False</code>. Then we asked whether <code>y</code> is less than 10, which returns <code>True</code>. This is how Python makes comparisons.</p>&#13;
<h3 class="h3" id="ch03_2">MAKING DECISIONS WITH IF AND ELSE STATEMENTS</h3>&#13;
<p class="noindent">You can have your program make decisions about what code to run using <code>if</code> and <code>else</code> statements. For example, if the condition you set turns out to be <code>True</code>, the program runs one set of code. If the condition turns out to be <code>False</code>, you can write the program to do something else or even do nothing at all. Here’s an example:</p>&#13;
<pre>&gt;&gt;&gt; <span class="codestrong1">y = 7</span><br/>&gt;&gt;&gt; <span class="pd_orange">if</span> <span class="codestrong1">y &gt; 5:</span><br/>    <span class="pd_purple">print</span><span class="codestrong1">(</span><span class="pd_green">"yes!"</span><span class="codestrong1">)</span><br/><span class="pd_blue">yes!</span></pre>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_39"/>Here, we are saying, assign variable <code>y</code> the value 7. If the value of <code>y</code> is more than 5, print “yes!”; otherwise, do nothing.</p>&#13;
<p class="indent">You can also give your program alternative code to run using <code>else</code> and <code>elif</code>. Since we'll be writing some longer code, open a new Python file and save it as <em>conditionals.py</em>.</p>&#13;
<pre><span class="pd_g1"><em>conditionals.py</em></span><br/>y = 6<br/><span class="pd_orange">if</span> y &gt; 7:<br/>    <span class="pd_purple">print</span>(<span class="pd_green">"yes!"</span>)<br/><span class="pd_orange">else</span>:<br/>    <span class="pd_purple">print</span>(<span class="pd_green">"no!"</span>)</pre>&#13;
<p class="indent">In this example we’re saying, if the value of <code>y</code> is more than 7, print “yes!”; otherwise, print “no!”. Run this program, and it should print “no!” because 6 is not larger than 7.</p>&#13;
<p class="indent">You can add more alternatives using <code>elif</code>, which is short for “else if.” You can have as many <code>elif</code> statements as you want. Here’s a sample program with three <code>elif</code> statements:</p>&#13;
<pre><span class="pd_g1"><em>conditionals.py</em></span><br/>age = 50<br/><span class="pd_orange">if</span> age &lt; 10:<br/>    <span class="pd_purple">print</span>(<span class="pd_green">"What school do you go to?"</span>)<br/><span class="pd_orange">elif</span> 11 &lt; age &lt; 20:<br/>    <span class="pd_purple">print</span>(<span class="pd_green">"You're cool!"</span>)<br/><span class="pd_orange">elif</span> 20 &lt;= age &lt; 30:<br/>    <span class="pd_purple">print</span>(<span class="pd_green">"What job do you have?"</span>)<br/><span class="pd_orange">elif</span> 30 &lt;= age &lt; 40:<br/>    <span class="pd_purple">print</span>(<span class="pd_green">"Are you married?"</span>)<br/><span class="pd_orange">else</span>:<br/>    <span class="pd_purple">print</span>(<span class="pd_green">"Wow, you're old!"</span>)</pre>&#13;
<p class="indent">This program runs different code depending on which of the specified ranges the value of <code>age</code> falls into. Notice you can use <code>&lt;=</code> for “less than or equal to” and you can use compound inequalities like <code>if 11 &lt; age &lt; 20:</code> for “if age is between 11 and 20.” For example, when <code>age = 50</code>, the output is the following string:</p>&#13;
<pre><span class="pd_blue">Wow, you're old!</span></pre>&#13;
<p class="indent">Being able to have your programs make decisions quickly and automatically according to the conditions you define is an important aspect of programming!</p>&#13;
<h3 class="h3" id="ch03_3">USING CONDITIONALS TO FIND FACTORS</h3>&#13;
<p class="noindent">Now let’s use what you’ve learned so far to factor a number! A <em>factor</em> is a number that divides evenly into another number; for example, 5 is a factor <span epub:type="pagebreak" id="page_40"/>of 10 because we can divide 10 evenly by 5. In math class, we use factors to do everything from finding common denominators to determining whether a number is prime. But finding factors manually can be a tedious task involving a lot of trial and error, especially when you’re working with bigger numbers. Let’s see how to automate factoring using Python.</p>&#13;
<p class="indent">In Python you can use the modulo operator (<code>%</code>) to calculate the remainder when dividing two numbers. For example, if <code>a % b</code> equals zero, it means that <code>b</code> divides evenly into <code>a</code>. Here’s an example of the modulo in action:</p>&#13;
<pre>&gt;&gt;&gt; <span class="codestrong1">20 % 3</span><br/><span class="literal1"><span class="pd_blue">2</span></span></pre>&#13;
<p class="indent">This shows that when you divide 20 by 3, you get a remainder of 2, which means that 3 is not a factor of 20. Let’s try 5 instead:</p>&#13;
<pre>&gt;&gt;&gt; <span class="codestrong1">20 % 5</span><br/><span class="literal1"><span class="pd_blue">0</span></span></pre>&#13;
<p class="indent">Now we get a remainder of zero, so we know that 5 is a factor of 20.</p>&#13;
<h4 class="h4" id="ch03_1_1">WRITING THE FACTORS.PY PROGRAM</h4>&#13;
<p class="noindent">Let’s use the modulo operator to write a function that takes a number and returns a list of that number’s factors. Instead of just printing the factors, we’ll put them in a list so we can use the factors list in another function later. Before we start writing this program, it’s a good idea to lay out our plan. Here are the steps involved in the <em>factors.py</em> program:</p>&#13;
<ol>&#13;
<li class="noindent">Define the <code>factors</code> function, which takes a number as an argument.</li>&#13;
<li class="noindent">Create an empty factors list to fill with factors.</li>&#13;
<li class="noindent">Loop over all the numbers from 1 to the given number.</li>&#13;
<li class="noindent">If any of these numbers divides evenly, add it to the factors list.</li>&#13;
<li class="noindent">Return the list of factors at the end.</li>&#13;
</ol>&#13;
<p class="indent">Listing 3-1 shows the <code>factors()</code> function. Enter this code into a new file in IDLE and save it as <em>factors.py</em>.</p>&#13;
<pre><span class="pd_g1"><em>factors.py</em></span><br/><span class="pd_orange">def</span> <span class="pd_blue">factors</span>(num):<br/><span class="pd_green">    '''returns a list of the factors of num'''</span><br/>    factorList = []<br/>    <span class="pd_orange">for</span> i <span class="pd_orange">in</span> <span class="pd_purple">range</span>(1,num+1):<br/>        <span class="pd_orange">if</span> num % i == 0:<br/>            factorList.append(i)<br/>    <span class="pd_orange">return</span> factorList</pre>&#13;
<p class="listing" id="ch03list1"><em>Listing 3-1: Writing the</em> factors.py <em>program</em></p>&#13;
<p class="indent">We first create an empty list called <code>factorList</code>, which we’ll later fill with the factors as we find them. Then we start a loop, beginning with <code>1</code> (we can’t divide by zero) and ending with <code>num + 1</code>, so that the loop will include <code>num</code>. <span epub:type="pagebreak" id="page_41"/>Inside the loop we instruct the program to make a decision: if <code>num</code> is divisible by the current value of <code>i</code> (if the remainder is 0), then the program appends <code>i</code> to the factors list. Finally, we return the list of factors.</p>&#13;
<p class="indent">Now run <em>factors.py</em> by pressing the F5 key or by clicking <strong>Run</strong> ▸ <strong>Run Module</strong>, as shown in <a href="ch03.xhtml#ch03fig1">Figure 3-1</a>.</p>&#13;
<div class="image"><a id="ch03fig1"/><img alt="image" src="../images/f041-01.jpg"/></div>&#13;
<p class="caption"><em>Figure 3-1: Running the</em> factors.py <em>module</em></p>&#13;
<p class="indent">After running this module, you can use the <code>factors</code> function in the normal IDLE terminal by passing it a number you want to find the factors for, like this:</p>&#13;
<pre>&gt;&gt;&gt; <span class="codestrong1">factors(120)</span><br/><span class="literal1"><span class="pd_blue">[1, 2, 3, 4, 5, 6, 8, 10, 12, 15, 20, 24, 30, 40, 60, 120]</span></span></pre>&#13;
<p class="indent">You found all the factors of 120 using the <code>factors</code> function! This is much easier and faster than using trial and error.</p>&#13;
<div class="sidebar">&#13;
<p class="title">EXERCISE 3-1: FINDING THE FACTOR</p>&#13;
<p class="noindent">The <code>factors()</code> function could come in handy for finding the greatest common factor (GCF) of two numbers. Write a function that will return the GCF of two numbers, like this:</p>&#13;
<pre>&gt;&gt;&gt; gcf(150,138)<br/><span class="pd_blue">6</span></pre>&#13;
</div>&#13;
<h4 class="h4" id="ch03_1_2">THE WANDERING TURTLE</h4>&#13;
<p class="noindent">Now that you know how to instruct a program to make decisions automatically, let’s explore how to let a program execute indefinitely! To start, we’ll make a turtle walk around the screen and use conditionals to make it turn around if it goes beyond a certain point.</p>&#13;
<p class="indent">The turtle’s window is a classic x-y grid whose x- and y-axes go from –300 to 300 by default. Let’s limit the turtle’s position to anywhere between –200 and 200 for <em>x</em> and <em>y</em>, as shown in <a href="ch03.xhtml#ch03fig2">Figure 3-2</a>.</p>&#13;
<div class="image"><a id="ch03fig2"/><img alt="image" src="../images/f042-01.jpg"/></div>&#13;
<p class="caption"><em>Figure 3-2: The rectangle of coordinates the turtle is limited to</em></p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_42"/>Open a new Python file in IDLE and save it as <em>wander.py</em>. First, let’s import the turtle module. To do so, add the following code:</p>&#13;
<pre><span class="pd_orange">from</span> turtle <span class="pd_orange">import</span> *<br/><span class="pd_orange">from</span> random <span class="pd_orange">import</span> randint</pre>&#13;
<p class="indent">Note that we also need to import the <code>randint</code> function from the random module to generate random integers.</p>&#13;
<h5 class="h5">Writing the wander.py Program</h5>&#13;
<p class="noindent">Now let’s create a function called <code>wander</code> to make the turtle wander around the screen, as shown in <a href="ch03.xhtml#ch03list2">Listing 3-2</a>. To do this, we use Python’s infinite <code>while True</code> loop, which always evaluates to <code>True</code>. This will make the turtle wander around without stopping. To stop it, you can click the X on the turtle graphics window.</p>&#13;
<pre><span class="pd_g1"><em>wander.py</em></span><br/>speed(0)<br/><span class="pd_orange">def</span> <span class="pd_blue">wander</span>():<br/>    <span class="pd_orange">while</span> <span class="pd_purple">True</span>:<br/>        fd(3)<br/>        <span class="pd_orange">if</span> xcor() <span class="pd_orange">&gt;=</span> 200 <span class="pd_orange">or</span> xcor() <span class="pd_orange">&lt;=</span> <span class="pd_orange">-</span>200 or ycor()<span class="pd_orange">&lt;=</span> <span class="pd_orange">-</span>200 <span class="pd_orange">or</span> ycor() <span class="pd_orange">&gt;=</span> 200:<br/>            lt(randint(90,180))<br/>wander()</pre>&#13;
<p class="listing" id="ch03list2"><em>Listing 3-2: Writing the</em> wander.py <em>program</em></p>&#13;
<p class="indent">First, we set the turtle’s speed to 0, which is the fastest, and then define the <code>wander()</code> function. Inside the function we use the infinite loop, so everything inside <code>while True</code> will execute forever. Then the turtle goes forward three steps (or 3 pixels) and evaluates its position using a conditional. The functions for the x-coordinate and y-coordinate of a turtle are <code>xcor()</code> and <code>ycor()</code>, respectively.</p>&#13;
<p class="indent">Using the <code>if</code> statement, we tell the program that if any one of the conditional statements is <code>True</code> (the turtle is outside the specified region), then make the turtle turn left a random number of degrees, between 90 and 180, <span epub:type="pagebreak" id="page_43"/>to prevent it from straying. If the turtle is inside the rectangle, the conditional evaluates to False and no code is executed. Either way, the program returns to the top of the <code>while True</code> loop and does <code>fd(3)</code> again.</p>&#13;
<h5 class="h5">Running the wander.py Program</h5>&#13;
<p class="noindent">When you run the <em>wander.py</em> program, you should see something like <a href="ch03.xhtml#ch03fig3">Figure 3-3</a>.</p>&#13;
<div class="image"><a id="ch03fig3"/><img alt="image" src="../images/f043-01.jpg"/></div>&#13;
<p class="caption"><em>Figure 3-3: The output of</em> wander.py</p>&#13;
<p class="indent">As you can see, the turtle walks in a straight line until its x-coordinate gets to 200. (The turtle always starts walking to the right in the positive x-direction.) Then it turns left a random number of degrees, between 90 and 180, and keeps walking straight again. Sometimes the turtle is able to walk outside of the boundary lines, because after the 90-degree turn it’s still pointed off the screen and you’ll see it turning around every loop, trying to get back into the rectangle. This causes the little blobs outside the rectangle you see in <a href="ch03.xhtml#ch03fig3">Figure 3-3</a>.</p>&#13;
<h3 class="h3" id="ch03_4">CREATING A NUMBER-GUESSING GAME</h3>&#13;
<p class="noindent">You successfully used conditionals to create a turtle that seemed to make decisions on its own! Let’s use conditionals to write an interactive number-guessing program that seems conscious. In this game I think of a number between 1 and 100, and you guess what the number is. How many guesses do you think you would need to guess my number correctly? To narrow down your options, after each incorrect guess, I tell you whether you should guess higher or lower. Fortunately, we can use the <code>average</code> function we wrote in <a href="ch02.xhtml">Chapter 2</a> to make this task infinitely easier.</p>&#13;
<p class="indent">When you make an incorrect guess, your next guess should depend on whether your guess was too low or too high. For example, if your guess was too low, your next guess should be the middle number between your last <span epub:type="pagebreak" id="page_44"/>guess and the maximum value the number can be. If your guess was too high, your next guess should be the middle number between your last guess and the minimum value the number can be.</p>&#13;
<p class="indent">This sounds like calculating the average of two numbers—good thing we have the <code>average</code> function! We’ll use it to write the <em>numberGame.py</em> program, which makes smart guesses by narrowing down half the possible numbers every time. You’ll be surprised how quickly you can hone in on the answer.</p>&#13;
<p class="indent">Let’s take this one step at a time, starting with making a random number generator.</p>&#13;
<h4 class="h4" id="ch03_1_3">MAKING A RANDOM NUMBER GENERATOR</h4>&#13;
<p class="noindent">First, we need the computer to choose a number at random between 1 and 100. Create a new file in IDLE and save it as <em>numberGame.py</em>. Then enter the code in <a href="ch03.xhtml#ch03list3">Listing 3-3</a>.</p>&#13;
<pre><span class="pd_g1"><em>number Game.py</em></span><br/><span class="pd_orange">from</span> random <span class="pd_orange">import</span> randint<br/><br/><span class="pd_orange">def</span> <span class="pd_blue">numberGame</span>():<br/>    #choose a random number<br/>    #between 1 and 100<br/>    number = randint(1,100)</pre>&#13;
<p class="listing" id="ch03list3"><em>Listing 3-3: Writing the <code>numberGame()</code> function</em></p>&#13;
<p class="indent">Here, we import the <code>random</code> module and assign a random integer to a variable using the <code>randint()</code> function. Then we create a <code>number</code> variable that will hold a random number between 1 and 100, generated each time we call it.</p>&#13;
<h4 class="h4" id="ch03_1_4">TAKING USER INPUT</h4>&#13;
<p class="noindent">Now the program needs to ask the user for input so they can take a guess! Here’s an example you can enter into the interactive shell to see how the <code>input()</code> function works:</p>&#13;
<pre>&gt;&gt;&gt; <span class="codestrong1">name =</span> <span class="pd_purple">input(</span><span class="pd_green">"What's your name? "</span><span class="pd_purple">)</span><br/><span class="pd_blue">What's your name?</span></pre>&#13;
<p class="indent">The program prints the text “What’s your name?” in the shell, asking the user to input their name. The user types something, presses <small>ENTER</small>, and the program saves the input.</p>&#13;
<p class="indent">We can check whether Python saves the user input to the <code>name</code> variable, like so:</p>&#13;
<pre><span class="pd_blue">What's your name?</span> <span class="codestrong1">Peter</span><br/>&gt;&gt;&gt; <span class="pd_purple">print</span><span class="codestrong1">(name)</span><br/><span class="pd_blue">Peter</span></pre>&#13;
<p class="indent">When we ask the program to print <code>name</code>, it prints the user input that was saved in that variable (in this case, Peter).</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_45"/>We can create a function called <code>greet()</code> that we’ll use later in our program:</p>&#13;
<pre><span class="pd_orange">def</span> <span class="pd_blue">greet</span>():<br/>    name <span class="pd_orange">=</span> <span class="pd_purple">input</span>(<span class="pd_green">"What's your name? "</span>)<br/>    <span class="pd_orange">print</span>(<span class="pd_green">"Hello, "</span>,name)<br/><br/>greet()</pre>&#13;
<p class="indent">The output will be the following:</p>&#13;
<pre>&gt;&gt;&gt;<br/><span class="literal1"><span class="pd_blue">What's your name?</span></span> <span class="codestrong1">Al</span><br/><span class="literal1"><span class="pd_blue">Hello, Al</span></span><br/>&gt;&gt;&gt;</pre>&#13;
<p class="indent">Try writing a short program that takes the user’s name as input, and if they enter “Peter,” it will print “That’s my name, too!” If the name is not “Peter,” it will just print “Hello” and the name.</p>&#13;
<h4 class="h4" id="ch03_1_5">CONVERTING USER INPUT TO INTEGERS</h4>&#13;
<p class="noindent">Now you know how to work with text that the user inputs, but we’ll be taking in number inputs in our guessing game. In <a href="ch02.xhtml#ch02">Chapter 2</a> you learned about basic data types, like integers and floats, that you can use to perform math operations. In Python, all input from users is always taken in as a <em>string</em>. This means that if we want numbers as inputs, we have to convert them to an integer data type so we can use them in operations.</p>&#13;
<p class="indent">To convert a string to an integer, we pass the input to <code>int()</code>, like this:</p>&#13;
<pre><span class="pd_purple">print</span>(<span class="pd_green">"I'm thinking of a number between 1 and 100."</span>)<br/>guess = <span class="pd_purple">int</span>(<span class="pd_purple">input</span>(<span class="pd_green">"What's your guess? "</span>))</pre>&#13;
<p class="indent">Now whatever the user enters will be transformed into an integer that Python can operate on.</p>&#13;
<h4 class="h4" id="ch03_1_6">USING CONDITIONALS TO CHECK FOR A CORRECT GUESS</h4>&#13;
<p class="noindent">Now the <em>numberGame.py</em> program needs a way to check whether the number the user guessed is correct. If it is, we’ll announce that the guess is right and the game is over. Otherwise, we tell the user whether they should guess higher or lower.</p>&#13;
<p class="indent">We use the <code>if</code> statement to compare the input to the content of <code>number</code>, and we use <code>elif</code> and <code>else</code> to decide what to do in each circumstance. Revise the existing code in <em>numberGame.py</em> to look like the code in <a href="ch03.xhtml#ch03list4">Listing 3-4</a>.</p>&#13;
<pre><span class="pd_g1"><em>number Game.py</em></span><br/><span class="pd_gray">from random import randint</span><br/><br/><span class="pd_gray">def numberGame():</span><br/><span class="pd_gray">    #choose a random number</span><br/><span class="pd_gray">    #between 1 and 100</span><br/><span epub:type="pagebreak" id="page_46"/>&#13;
<span class="pd_gray">    number = randint(1,100)</span><br/><span class="pd_gray">    print("I'm thinking of a number between 1 and 100.")</span><br/><span class="pd_gray">    guess = int(input("What's your guess? "))</span><br/><br/>    <span class="pd_orange">if</span> number <span class="pd_orange">==</span> guess:<br/>        <span class="pd_orange">print</span>(<span class="pd_green">"That's correct! The number was"</span>, number)<br/>    <span class="pd_orange">elif</span> number &gt; guess:<br/>        <span class="pd_orange">print</span>(<span class="pd_green">"Nope. Higher."</span>)<br/>    <span class="pd_orange">else</span>:<br/>        <span class="pd_orange">print</span>(<span class="pd_green">"Nope. Lower."</span>)<br/><br/>numberGame()</pre>&#13;
<p class="listing" id="ch03list4"><em>Listing 3-4: Checking for a correct guess</em></p>&#13;
<p class="indent">If the random number held in <code>number</code> is equal to the input stored in <code>guess</code>, we tell the user their guess was correct and print the random number. Otherwise, we tell the user whether they need to guess higher or lower. If the number they guessed is lower than the random number, we tell them to guess higher. If they guessed higher, we tell them to guess lower.</p>&#13;
<p class="indent">Here’s an example of the output so far:</p>&#13;
<pre><span class="pd_blue">I'm thinking of a number between 1 and 100.</span><br/><span class="pd_blue">What's your guess?</span> <span class="codestrong1">50</span><br/><span class="pd_blue">Nope. Higher.</span></pre>&#13;
<p class="indent">Pretty good, but currently our program ends here and doesn’t let the user make any more guesses. We can use a loop to fix that.</p>&#13;
<h4 class="h4" id="ch03_1_7">USING A LOOP TO GUESS AGAIN!</h4>&#13;
<p class="noindent">To allow the user to guess again, we can make a loop so that the program keeps asking for more guesses until the user guesses correctly. We use the <code>while</code> loop to keep looping until <code>guess</code> is equal to <code>number</code>, and then the program will print a success message and break out of the loop. Replace the code in <a href="ch03.xhtml#ch03list4">Listing 3-4</a> with the code in <a href="ch03.xhtml#ch03list5">Listing 3-5</a>.</p>&#13;
<pre><span class="pd_g1"><em>number Game.py</em></span><br/><span class="pd_gray">from random import randint</span><br/><br/><span class="pd_gray">def numberGame():</span><br/><span class="pd_gray">    #choose a random number</span><br/><span class="pd_gray">    #between 1 and 100</span><br/><span class="pd_gray">    number = randint(1,100)</span><br/><span class="pd_gray">    print("I'm thinking of a number between 1 and 100.")</span><br/><span class="pd_gray">    guess = int(input("What's your guess? "))</span><br/><br/>    <span class="pd_orange">while</span> guess:<br/>        <span class="pd_orange">if</span> number == guess:<br/>            <span class="pd_purple">print</span>(<span class="pd_green">"That's correct! The number was"</span>, number)<br/>            <span class="pd_orange">break</span><br/>        <span class="pd_orange">elif</span> number &gt; guess:<br/><span epub:type="pagebreak" id="page_47"/>&#13;
            print(<span class="pd_green">"Nope. Higher."</span>)<br/>        <span class="pd_orange">else</span>:<br/>            <span class="pd_purple">print</span>(<span class="pd_green">"</span><span class="pd_green">Nope. Lower."</span>)<br/>        guess = <span class="pd_purple">int</span>(<span class="pd_purple">input</span>(<span class="pd_green">"What's your guess? "</span>))<br/><br/>numberGame()</pre>&#13;
<p class="listing" id="ch03list5"><em>Listing 3-5: Using a loop to allow the user to guess again</em></p>&#13;
<p class="indent">In this example, <code>while guess</code> means “while the variable <code>guess</code> contains a value.” First, we check whether the random number it chose is equal to the guess. If it is, the program prints that the guess is correct and breaks out of the loop. If the number is greater than the guess, the program prompts the user to guess higher. Otherwise, it prints that the user needs to guess lower. Then it takes in the next guess and the loop starts over, allowing the user to guess as many times as needed to get the correct answer. Finally, after we’re done defining the function, we write <code>numberGame()</code> to call the function to itself so the program can run it.</p>&#13;
<h4 class="h4" id="ch03_1_8">TIPS FOR GUESSING</h4>&#13;
<p class="noindent">Save the <em>numberGame.py</em> program and run it. Each time you make an incorrect guess, your next guess should be exactly halfway between your first guess and the closest end of the range. For example, if you start by guessing 50 and the program tells you to guess higher, your next guess would be halfway between 50 and 100 at the top of the range, so you’d guess 75.</p>&#13;
<p class="indent">This is the most efficient way to arrive at the correct number, because for each guess you’re eliminating half the possible numbers, no matter whether the guess is too high or too low. Let’s see how many guesses it takes to guess a number between 1 and 100. <a href="ch03.xhtml#ch03fig4">Figure 3-4</a> shows an example.</p>&#13;
<div class="image"><a id="ch03fig4"/><img alt="image" src="../images/f047-01.jpg"/></div>&#13;
<p class="caption"><em>Figure 3-4: The output of the number-guessing game</em></p>&#13;
<p class="indent">This time it took six guesses.</p>&#13;
<p class="indent">Let’s see how many times you can multiply 100 by a half before you get to a number below 1:</p>&#13;
<pre>&gt;&gt;&gt; <span class="codestrong1">100*0.5</span><br/><span class="pd_blue">50.0</span><br/><span epub:type="pagebreak" id="page_48"/>&#13;
&gt;&gt;&gt; <span class="codestrong1">50*0.5</span><br/><span class="pd_blue">25.0</span><br/>&gt;&gt;&gt; <span class="codestrong1">25*0.5</span><br/><span class="pd_blue">12.5</span><br/>&gt;&gt;&gt; <span class="codestrong1">12.5*0.5</span><br/><span class="pd_blue">6.25</span><br/>&gt;&gt;&gt; <span class="codestrong1">6.25*0.5</span><br/><span class="pd_blue">3.125</span><br/>&gt;&gt;&gt; <span class="codestrong1">3.125*0.5</span><br/><span class="pd_blue">1.5625</span><br/>&gt;&gt;&gt; <span class="codestrong1">1.5625*0.5</span><br/><span class="pd_blue">0.78125</span></pre>&#13;
<p class="indent">It takes seven times to get to a number less than 1, so it makes sense that on average it takes around six or seven tries to guess a number between 1 and 100. This is the result of eliminating half the numbers in our range with every guess. This might not seem like a useful strategy for anything but number-guessing games, but we can use this exact idea to find a very accurate value for the square root of a number, which we’ll do next.</p>&#13;
<h3 class="h3" id="ch03_5">FINDING SQUARE ROOTS</h3>&#13;
<p class="noindent">You can use the number-guessing game strategy to approximate square roots. As you know, some square roots can be whole numbers (the square root of 100 is 10, for example). But many more are <em>irrational numbers</em>, which are never-ending, never-repeating decimals. They come up a lot in coordinate geometry when you have to find the roots of polynomials.</p>&#13;
<p class="indent">So how could we possibly use the number-guessing game strategy to find an accurate value for a square root? You can simply use the averaging idea to calculate the square root, correct to eight or nine decimal places. In fact, your calculator or computer uses an iterative method like the number-guessing strategy to come up with square roots that are correct to 10 decimal places!</p>&#13;
<h4 class="h4" id="ch03_1_9">APPLYING THE NUMBER-GUESSING GAME LOGIC</h4>&#13;
<p class="noindent">For example, let’s say you don’t know the square root of 60. First, you narrow your options down to a range, like we did for the number-guessing game. You know that 7 squared is 49 and 8 squared is 64, so the square root of 60 must be between 7 and 8. Using the <code>average()</code> function, you can calculate the average of 7 and 8 to get 7.5, which is your first guess.</p>&#13;
<pre>&gt;&gt;&gt; <span class="codestrong1">average(7,8)</span><br/><span class="literal1"><span class="pd_blue">7.5</span></span></pre>&#13;
<p class="indent">To check whether 7.5 is the correct guess, you can square 7.5 to see if it yields 60:</p>&#13;
<pre>&gt;&gt;&gt; <span class="codestrong1">7.5**2</span><br/><span class="literal1"><span class="pd_blue">56.25</span></span></pre>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_49"/>As you can see, 7.5 squared is 56.25. In our number-guessing game, we’d be told to guess higher since 56.25 is lower than 60.</p>&#13;
<p class="indent">Because we have to guess higher, we know the square root of 60 has to be between 7.5 and 8, so we average those and plug in the new guess, like so:</p>&#13;
<pre>&gt;&gt;&gt; <span class="codestrong1">average(7.5, 8)</span><br/><span class="literal1"><span class="pd_blue">7.75</span></span></pre>&#13;
<p class="indent">Now we check the square of 7.75 to see if it’s 60:</p>&#13;
<pre>&gt;&gt;&gt; <span class="codestrong1">7.75**2</span><br/><span class="literal1"><span class="pd_blue">60.0625</span></span></pre>&#13;
<p class="indent">Too high! So the square root must be between 7.5 and 7.75.</p>&#13;
<h4 class="h4" id="ch03_1_10">WRITING THE SQUAREROOT() FUNCTION</h4>&#13;
<p class="noindent">We can automate this process using the code in <a href="ch03.xhtml#ch03list6">Listing 3-6</a>. Open a new Python file and name it <em>squareRoot.py</em>.</p>&#13;
<pre><span class="pd_g1"><em>squareRoot.py</em></span><br/><span class="pd_orange">def</span> <span class="pd_blue">average</span>(a,b):<br/>    <span class="pd_orange">return</span> (a + b)/2<br/><br/><span class="pd_orange">def</span> <span class="pd_blue">squareRoot</span>(num,low,high):<br/>    <span class="pd_green">'''Finds the square root of num by</span><br/><span class="pd_green">    playing the Number Guessing Game</span><br/><span class="pd_green">    strategy by guessing over the</span><br/><span class="pd_green">    range from "low" to "high"'''</span><br/>    <span class="pd_orange">for</span> i <span class="pd_orange">in</span> <span class="pd_purple">range</span>(20):<br/>        guess = average(low,high)<br/>        <span class="pd_orange">if</span> guess**2 == num:<br/>            <span class="pd_purple">print</span>(guess)<br/>        <span class="pd_orange">elif</span> guess**2 &gt; num: <span class="pd_red">#"Guess lower."</span><br/>            high = guess<br/>        <span class="pd_orange">else</span>: <span class="pd_red">#"Guess higher."</span><br/>            low = guess<br/>    <span class="pd_purple">print</span>(guess)<br/><br/>squareRoot(60,7,8)</pre>&#13;
<p class="listing" id="ch03list6"><em>Listing 3-6: Writing the <code>squareRoot()</code> function</em></p>&#13;
<p class="indent">Here, the <code>squareRoot()</code> function takes three parameters: <code>num</code> (the number we want the square root of), <code>low</code> (the lowest limit <code>num</code> can be), and <code>high</code> (the upper limit of <code>num</code>). If the number you guess squared is equal to <code>num</code>, we just print it and break out of the loop. This might happen for a whole number, but not for an irrational number. Remember, irrational numbers never end!</p>&#13;
<p class="indent">Next, the program checks whether the number you guess squared is greater than <code>num</code>, in which case you should guess lower. We shorten our range to go from <code>low</code> to the guess by replacing <code>high</code> with the guess. The only other possibility is if the guess is too low, in which case we shorten our range to go from the guess to <code>high</code> by replacing <code>low</code> with the guess.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_50"/>The program keeps repeating that process as many times as we want (in this case, 20 times) and then prints the approximate square root. Keep in mind that any decimal, no matter how long, can only approximate an irrational number. But we can still get a very good approximation!</p>&#13;
<p class="indent">In the final line we call the <code>squareRoot()</code> function, giving it the number we want the square root of, and the low and high numbers in the range we know the square root has to be in. Our output should look like this:</p>&#13;
<pre><span class="pd_blue">7.745966911315918</span></pre>&#13;
<p class="indent">We can find out how close our approximation is by squaring it:</p>&#13;
<pre>&gt;&gt;&gt; <span class="codestrong1">7.745966911315918**2</span><br/><span class="literal1"><span class="pd_blue">60.00000339120106</span></span></pre>&#13;
<p class="indent">That’s pretty close to 60! Isn’t it surprising that we can calculate an irrational number so accurately just by guessing and averaging?</p>&#13;
<div class="sidebar">&#13;
<p class="title">EXERCISE 3-2: FINDING THE SQUARE ROOT</p>&#13;
<p class="noindent">Find the square root of these numbers:</p>&#13;
<ul>&#13;
<li>200</li>&#13;
<li>1000</li>&#13;
<li>50000 (Hint: you know the square root has to be somewhere between 1 and 500, right?)</li>&#13;
</ul>&#13;
</div>&#13;
<h3 class="h3" id="ch03_6">SUMMARY</h3>&#13;
<p class="noindent">In this chapter, you learned about some handy tools like arithmetic operators, lists, inputs, and Booleans, as well as a crucial programming concept called conditionals. The idea that we can get the computer to compare values and make choices for us automatically, instantly, and repeatedly is extremely powerful. Every programming language has a way to do this, and in Python we use <code>if</code>, <code>elif</code>, and <code>else</code> statements. As you’ll see throughout this book, you’ll build on these tools to tackle meatier tasks to explore math.</p>&#13;
<p class="indent">In the next chapter, you’ll practice the tools you learned so far to solve algebra problems quickly and efficiently. You’ll use the number-guessing strategy to solve complicated algebraic equations that have more than one solution! And you’ll write a graphing program so you can better estimate the solutions to equations and make your math explorations more visual!</p>&#13;
</body></html>