<html><head></head><body>
<h2 class="h2" id="intro"><span epub:type="pagebreak" id="page_xxiii"/><strong>INTRODUCTION</strong></h2>&#13;
<div class="image1"><img src="../images/common01.jpg" alt="Image"/></div>&#13;
<p class="noindent">Knowing how to write code empowers you to solve complex problems. By harnessing the capabilities of modern CPUs, which can accomplish billions of operations per second, we can quickly and correctly work out the solutions to difficult problems.</p>&#13;
<p class="indent">This is a book about solving engineering problems with Python. We’ll learn how to code geometric primitives that will serve as the basis of more complex operations, how to read and write from files, how to create vector images and animated sequences to present the results, and how to solve large systems of linear equations. Finally, we’ll put all this knowledge together to build an application that solves truss structure problems.</p>&#13;
<h3 class="h3" id="ch00lev1sec4"><strong>Who This Book Is For</strong></h3>&#13;
<p class="noindent">This book is targeted at engineering students, graduated engineers, or just about any person with a technical background who wants to learn how to write applications to solve engineering problems.</p>&#13;
<p class="indent">A background in math and mechanics is a must. We’ll be using concepts from linear algebra, 2D geometry, and physics. We’ll also use some mechanics of materials and numerical methods, which are subjects common <span epub:type="pagebreak" id="page_xxiv"/>to many engineering degrees. We won’t go too far into these topics to allow a larger number of readers to find the material of the book useful. The techniques learned in this book can later be used to solve problems that involve more complex concepts.</p>&#13;
<p class="indent">To follow along, you’ll need to have some coding skills and basic Python knowledge. This is not an introductory book to programming; there are lots of other good books covering that. I can recommend <em>Python Crash Course</em> by Eric Matthes (No Starch Press, 2019) if you’re looking for such a book. There’s also a lot of great material online, from which I’d pick <a href="https://realpython.com"><em>https://realpython.com</em></a> as my favorite. The official Python website is also full of good tutorials and documents: <em><a href="https://www.python.org/about/gettingstarted/">https://www.python.org/about/gettingstarted/</a></em>.</p>&#13;
<p class="indent">We’re going to write a lot of code, so I strongly recommend you have a computer with you as you read and that you enter and test all the code in this book.</p>&#13;
<h3 class="h3" id="ch00lev1sec5"><strong>What You’ll Learn</strong></h3>&#13;
<p class="noindent">In this book, we’ll explore techniques to write robust applications that correctly, and quickly, solve engineering problems. To ensure correctness, we’ll be testing our code using automated tests. Every application you build should be properly tested using automated testing, as we’ll discuss throughout the book.</p>&#13;
<p class="indent">Engineering applications usually require some amount of data to be fed in, so we’ll also learn how to read the input of our programs from a file, parsing it using regular expressions.</p>&#13;
<p class="indent">Engineering applications typically need to solve a large system of equations, so we’ll cover how to write numerical methods that can do these complex computations. We’ll focus on linear systems, but the same techniques can easily be applied to write numerical algorithms for nonlinear equations.</p>&#13;
<p class="indent">Lastly, engineering applications need to produce a result. We’ll learn how to write text to files that we can later inspect. We’ll cover how to produce beautiful vector diagrams and animated sequences to present the results of our programs. As they say, a diagram is worth a thousand words: looking at a well-drawn diagram that describes the result with the most relevant solution values makes programs much more valuable.</p>&#13;
<p class="indent">To illustrate all these concepts, we’ll conclude the book by building an application that solves two-dimensional truss structures. This application will have everything you need to build engineering applications. The knowledge acquired building this application can easily be translated to writing other kinds of engineering applications.</p>&#13;
<h3 class="h3" id="ch00lev1sec6"><strong>About This Book</strong></h3>&#13;
<p class="noindent">In this section, we’ll explain three things: the meaning behind the title of this book, the choice of Python, and the table of contents.</p>&#13;
<h4 class="h4" id="ch00lev2sec1"><span epub:type="pagebreak" id="page_xxv"/><strong><em>What Is the “Hardcore” About?</em></strong></h4>&#13;
<p class="noindent">The word <em>Hardcore</em> in the title of this book refers to the fact that we’ll write all the code ourselves, relying only on the Python standard libraries (libraries that ship with Python); we won’t use any third-party library to solve equations or draw vector images.</p>&#13;
<p class="indent">You may be wondering why. If there’s code already written by someone that does all this for us, why not simply use it? Aren’t we re-inventing the wheel?</p>&#13;
<p class="indent">This is a book about learning, and to learn you need to do things yourself. You’ll never understand the wheel unless you re-invent it. Once your software skills are solid and you’ve written thousands of lines of code and worked on a lot of projects, you’ll be in a good position to decide which external libraries fit your needs and how to leverage them. But if you use those libraries from the beginning, you’ll get used to using them and take the solutions for granted. It’s important to always ask yourself, how does this library’s code work to solve my problem?</p>&#13;
<p class="indent">Like anything else, coding takes practice. If you want to become good at coding, you need to write a lot of code; there are no shortcuts. If you’re getting paid to write software or want to take an idea to market as fast as possible, then use existing libraries. But if you’re learning and want to become proficient in the art of writing code, don’t use libraries. Write the code yourself.</p>&#13;
<h4 class="h4" id="ch00lev2sec2"><strong><em>Why Python?</em></strong></h4>&#13;
<p class="noindent">Python is one of the most beloved programming languages. According to Stack Overflow’s 2020 developer survey (<em><a href="https://insights.stackoverflow.com/survey/2020">https://insights.stackoverflow.com/survey/2020</a></em>), Python is today’s third most loved language, with 66.7 percent of its users willing to continue using it in the future, just behind TypeScript and Rust (see <a href="ch00.xhtml#fig1">Figure 1</a>).</p>&#13;
<div class="image"><img src="../images/fig1.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig1"><em>Figure 1: 2020 most loved languages (source: Stack Overflow survey)</em></p>&#13;
<p class="indent">This same survey puts Python first when it comes to “desired” languages: 30 percent of the surveyed developers who are not currently using Python expressed interest in learning it (see <a href="ch00.xhtml#fig2">Figure 2</a>).<span epub:type="pagebreak" id="page_xxvi"/></p>&#13;
<div class="image"><img src="../images/fig2.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig2"><em>Figure 2: 2020 most wanted languages (source: Stack Overflow survey)</em></p>&#13;
<p class="indent">These results are not surprising; Python is an extremely versatile and productive language. Writing code in Python is a delight, and its Standard Library is well equipped: for just about anything you want to do, Python has something ready to help.</p>&#13;
<p class="indent">We’ll use Python in this book not only because of its popularity but also because it’s easy to use and versatile. One nice thing about Python is that, if you are reading this book but have no prior knowledge of the language, it won’t take you long to get started. It’s a relatively easy language to learn and the internet is filled with tutorials and courses to help you.</p>&#13;
<p class="indent">What Python is typically not seen as is a fast language, and indeed, Python’s execution times are not one of its strengths. <a href="ch00.xhtml#fig3">Figure 3</a> below shows a comparison of the execution times in seconds of the same three programs written both in Python and in Go (a very fast language developed by Google). In every case, Python takes much longer than Go to execute.</p>&#13;
<div class="image"><img src="../images/fig3.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig3"><em>Figure 3: Python benchmark (source: <span class="normal"><a href="https://benchmarksgame-team.pages.debian.net/benchmarksgame/fastest/python3-go.html">https://benchmarksgame-team.pages.debian.net/benchmarksgame/fastest/python3-go.html</a></span>)</em></p>&#13;
<p class="indent">So, don’t we care about speed? We do, but for the purposes of this book, we care more about development time and the development experience. Python has lots of constructs that make coding delightful; for example, things <span epub:type="pagebreak" id="page_xxvii"/>like filtering or mapping a collection can be done out of the box using Python’s list comprehensions, whereas in Go, you need to do those operations using good old <span class="literal">for</span> loops. For almost every program we’ll write, execution time will never be a concern, as we’ll get more than acceptable results. The skills you learn in this book will transfer to other, faster languages if you encounter speed issues in your applications.</p>&#13;
<p class="indent">But before we start learning anything, let’s have a quick overview of the topics you’ll find in this book.</p>&#13;
<h4 class="h4" id="ch00lev2sec3"><strong><em>Contents at a Glance</em></strong></h4>&#13;
<p class="noindent">We’ll cover a lot of ground in this book. Each chapter builds on top of the previous ones, so you’ll want to make sure to read the book in order and work on the code each chapter presents.</p>&#13;
<p class="indent">The book includes the following chapters:</p>&#13;
<p class="noindentt"><strong><a href="part01.xhtml#part01">Part I: Basics</a></strong></p>&#13;
<div class="bqparan">&#13;
<p class="noindentin"><strong><a href="ch01.xhtml#ch01">Chapter 1: A Short Python Primer</a></strong> Introduces some intermediate Python topics that we’ll use throughout the book. We’ll cover how to split our code into modules and packages, how to use Python’s collections, and how to run Python scripts and import modules.</p>&#13;
<p class="noindentin"><strong><a href="ch02.xhtml#ch02">Chapter 2: Two Python Paradigms</a></strong> Covers functional and object-oriented programming paradigms and explores techniques to write code in those styles.</p>&#13;
<p class="noindentin"><strong><a href="ch03.xhtml#ch03">Chapter 3: The Command Line</a></strong> Instructs you on how to use the command line to run programs and other simple tasks such as creating files.</p>&#13;
</div>&#13;
<p class="noindentt"><strong><a href="part02.xhtml#part02">Part II: 2D Geometry</a></strong></p>&#13;
<div class="bqparan">&#13;
<p class="noindentin"><strong><a href="ch04.xhtml#ch04">Chapter 4: Points and Vectors</a></strong> Covers the most basic, but crucial, geometric primitives: points and vectors. The rest of the book relies on the implementation of these two primitives, so we’ll also learn about automated testing to make sure our implementations are bug-free.</p>&#13;
<p class="noindentin"><strong><a href="ch05.xhtml#ch05">Chapter 5: Lines and Segments</a></strong> Adds the line and segment geometric primitives to our geometry toolbox. We’ll take a look at how to check whether two segments or two lines intersect and how to calculate the intersection points.</p>&#13;
<p class="noindentin"><strong><a href="ch06.xhtml#ch06">Chapter 6: Polygons</a></strong> Adds rectangles, circles, and generic polygons to our geometry toolbox.</p>&#13;
<p class="noindentin"><strong><a href="ch07.xhtml#ch07">Chapter 7: Affine Transformations</a></strong> Covers affine transformations, an interesting algebraic construct we’ll use to produce beautiful images and animations.</p>&#13;
</div>&#13;
<p class="noindentt"><span epub:type="pagebreak" id="page_xxviii"/><strong><a href="part03.xhtml#part03">Part III: Graphics and Simulations</a></strong></p>&#13;
<div class="bqparan">&#13;
<p class="noindentin"><strong><a href="ch08.xhtml#ch08">Chapter 8: Drawing Vector Images</a></strong> Introduces the Scalable Vector Graphics (SVG) image format. We’ll write our own library to produce these images using our geometric primitives.</p>&#13;
<p class="noindentin"><strong><a href="ch09.xhtml#ch09">Chapter 9: Building a Circle from Three Points</a></strong> Takes all the knowledge from the previous chapters to build our first application, one that finds the circle that goes through three given points and draws the result to a vector image.</p>&#13;
<p class="noindentin"><strong><a href="ch10.xhtml#ch10">Chapter 10: Graphical User Interfaces and the Canvas</a></strong> Covers the basics of the Tkinter package, which is used to build user interfaces in Python. We’ll spend most of the time learning how to use the Canvas widget, which is used to draw images to the screen.</p>&#13;
<p class="noindentin"><strong><a href="ch11.xhtml#ch11">Chapter 11: Animations, Simulations, and the Time Loop</a></strong> Guides you through the process of creating an animation by drawing inside Tkinter’s Canvas. We’ll explore the concept of the time loop used by engineering simulations and video game engines to render scenes to the screen.</p>&#13;
<p class="noindentin"><strong><a href="ch12.xhtml#ch12">Chapter 12: Animating Affine Transformations</a></strong> Creates an application that animates the effect of applying an affine transformation to some geometric primitives.</p>&#13;
</div>&#13;
<p class="noindentt"><strong><a href="part04.xhtml#part04">Part IV: Systems of Equations</a></strong></p>&#13;
<div class="bqparan">&#13;
<p class="noindentin"><strong><a href="ch13.xhtml#ch13">Chapter 13: Matrices and Vectors</a></strong> Introduces the vector and matrix constructs and covers how to code these primitives, which will be extremely useful when we’re working with systems of equations.</p>&#13;
<p class="noindentin"><strong><a href="ch14.xhtml#ch14">Chapter 14: Linear Equations</a></strong> Shows how numerical methods can be implemented to solve large systems of linear equations. We’ll implement the Cholesky factorization method together; this algorithm will solve the systems of equations that will appear in the next and last part of the book.</p>&#13;
</div>&#13;
<p class="noindentt"><strong><a href="part05.xhtml#part05">Part V: Truss Structures</a></strong></p>&#13;
<div class="bqparan">&#13;
<p class="noindentin"><strong><a href="ch15.xhtml#ch15">Chapter 15: Structural Models</a></strong> Reviews the basic mechanics of materials concepts we’ll use in this part of the book. We’ll also write the classes to represent a truss structure. Using this truss structure model we’ll build a complete structural analysis application.</p>&#13;
<p class="noindentin"><strong><a href="ch16.xhtml#ch16">Chapter 16: Structure Resolution</a></strong> Using the model built in the previous chapter, we’ll cover all the computations required to find the structure’s displacements, deformations, and stresses.</p>&#13;
<p class="noindentin"><strong><a href="ch17.xhtml#ch17">Chapter 17: Reading Input from a File</a></strong> Covers the implementation of file reading and parsing so that our truss analysis application can rely on data that’s stored as plaintext.</p>&#13;
<p class="noindentin"><span epub:type="pagebreak" id="page_xxix"/><strong><a href="ch18.xhtml#ch18">Chapter 18: Producing an SVG Image and Text File</a></strong> Discusses the generation of SVG image diagrams based on the structure solution. Here we’ll use our own SVG package to draw the diagrams, which will contain all the relevant details such as the geometry of the deformed structure and the stress label next to each bar.</p>&#13;
<p class="noindentin"><strong><a href="ch19.xhtml#ch19">Chapter 19: Assembling Our Application</a></strong> Explains how to put together the pieces built in the previous chapters to build the complete truss resolution application.</p>&#13;
</div>&#13;
<h3 class="h3" id="ch00lev1sec7"><strong>Setting Up Your Environment</strong></h3>&#13;
<p class="noindent">In this book, we’ll use Python 3 and provide instructions to work with PyCharm, a development environment program that’ll let us work effectively. The code has been tested using Python versions 3.6 through 3.9, but it’ll most likely continue to work equally well with future versions of the language. Let’s download the code that accompanies the book, install the latest Python 3 interpreter, and set up PyCharm.</p>&#13;
<h4 class="h4" id="ch00lev2sec4"><strong><em>Downloading the Book’s Code</em></strong></h4>&#13;
<p class="noindent">All the code for this book is available on GitHub at <a href="https://github.com/angelsolaorbaiceta/Mechanics"><em>https://github.com/angelsolaorbaiceta/Mechanics</em></a>. Again, while I strongly recommend that you write all the code yourself, it’s a good idea to have it with you for reference.</p>&#13;
<p class="indent">If you are familiar with Git and GitHub, you may want to clone the repository. Also, I suggest fetching and pulling from the repository from time to time, as I may add new features or fix bugs in the project.</p>&#13;
<p class="indent">If you are not familiar with the Git version control system or GitHub, your best option is to download a copy of the code. You can do this by clicking the <strong>Clone</strong> button and choosing the <strong>Download ZIP</strong> option (see <a href="ch00.xhtml#fig4">Figure 4</a>).</p>&#13;
<div class="image"><img src="../images/fig4.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig4"><em>Figure 4: Downloading the code from GitHub</em></p>&#13;
<p class="indent">Unzip the project and place it inside the directory of your choice. As you’ll see, I documented every package and subpackage in the project using <em>README files</em> (<em>README.md</em>). These files are usually found in software projects; they explain and document the features of a project and also include instructions on how to compile or run the code. A README file is the first thing you want to read when you open a software project, as they describe how to configure the project and get the code running.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><span epub:type="pagebreak" id="page_xxx"/><em>README files are written using the Markdown format. If you want to know more about this format, you can read about it here:</em> <a href="https://www.markdownguide.org/">https://www.markdownguide.org/</a>.</p>&#13;
</div>&#13;
<p class="indent">The <em>Mechanics</em> project on GitHub contains more code than we cover in this book. We didn’t want to make this book too long, so we couldn’t cover everything included in the project.</p>&#13;
<p class="indent">For example, in <a href="ch14.xhtml#ch14">Chapter 14</a>, “Linear Equations,” we talk about numerical methods to solve systems of linear equations and explain the Cholesky factorization in detail. There are some other numerical methods in the project, such as the conjugate gradient, which we don’t have time to cover in the book; the code is there for you to analyze and use. There are also many automated tests that we skip in the book for brevity reasons; use those tests as a reference when you write your own.</p>&#13;
<p class="indent">It’s time to install Python.</p>&#13;
<h4 class="h4" id="ch00lev2sec5"><strong><em>Installing Python</em></strong></h4>&#13;
<p class="noindent">You can download Python for macOS, Linux, and Windows from <a href="https://www.python.org/downloads/"><em>https://www.python.org/downloads/</em></a>. For Windows and macOS you’ll need to download the installer and run it.</p>&#13;
<p class="indent">Linux typically comes with Python preinstalled. You can check which version is installed on your computer using the following command in the shell:</p>&#13;
<pre>$ <span class="codestrong1">python3 -V</span>&#13;
Python 3.8.2</pre>&#13;
<p class="indent">To install a version of Python on a Linux computer, you use the <em>os</em> package manager. For Ubuntu users using the <em>apt</em> package manager, this would be</p>&#13;
<pre>$ <span class="codestrong1">sudo apt install python3.8</span></pre>&#13;
<p class="noindent">For Fedora users, using the <em>dnf</em> package manager, this would be</p>&#13;
<pre>$ <span class="codestrong1">sudo dnf install python38</span></pre>&#13;
<p class="indent">If you are using a different Linux distribution, a quick Google search should get you the instructions to install Python using your package manager.</p>&#13;
<p class="indent">It’s important that you download a version of Python 3, such as 3.9, which is the current version at the time of writing. Any version above 3.6 (included) will work.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>Python versions 2 and 3 are not compatible; code written targeting Python 3 will very likely not work with Python’s version 2 interpreter. The language evolved in a non-backwards-compatible way, and some features in version 3 are not available in version 2.</em></p>&#13;
</div>&#13;
<h4 class="h4" id="ch00lev2sec6"><span epub:type="pagebreak" id="page_xxxi"/><strong><em>Installing and Configuring PyCharm</em></strong></h4>&#13;
<p class="noindent">As we develop our code, we’ll want to use an <em>integrated development environment</em> (or IDE for short), a program equipped with features that help us write code more effectively. An IDE typically offers autocompletion features to let you know what options you have available as you type, as well as build, debug, and test tools. Taking some time to learn the main features of your IDE of choice is worth the effort: it’ll make you much more productive during the development phase.</p>&#13;
<p class="indent">For this book we’ll be using PyCharm, a powerful IDE created by JetBrains, a company that makes not only some of the best IDEs on the market but also its own programming language: Kotlin. If you already have some Python experience and prefer to use another IDE, such as Visual Studio Code, you’re welcome to do so, but you’ll need to figure out some things on your own using your IDE’s documentation. If you don’t have a lot of previous experience with any IDE, I recommend you stick to using PyCharm so you can follow along with the book.</p>&#13;
<p class="indent">To download PyCharm, head to <a href="https://www.jetbrains.com/pycharm/"><em>https://www.jetbrains.com/pycharm/</em></a> and click the <strong>Download</strong> button (see <a href="ch00.xhtml#fig5">Figure 5</a>).</p>&#13;
<div class="image"><img src="../images/fig5.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig5"><em>Figure 5: Downloading PyCharm IDE</em></p>&#13;
<p class="indent">PyCharm is available for Linux, macOS, and Windows. It has two different versions: Professional and Community. You can download the Community version for free. Follow the installer steps to install PyCharm on your machine.</p>&#13;
<h5 class="h5" id="ch00lev3sec1"><strong>Opening the Mechanics Project</strong></h5>&#13;
<p class="noindent">Let’s use PyCharm to set up the <em>Mechanics</em> project you downloaded earlier so you can play with it and have its code for reference.</p>&#13;
<p class="indent">Open PyCharm and click the <strong>Open</strong> option on the welcome screen. Locate the <em>Mechanics</em> project folder you downloaded or cloned from GitHub and select it. PyCharm should open the project and configure a Python interpreter for it, using the version of Python installed in your computer.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_xxxii"/>Every project inside PyCharm requires that a Python interpreter be set. Since you could have several different versions of Python installed on your machine and because you may have chosen custom install locations, you need to tell PyCharm which of those versions of Python you want to use to interpret your project’s code and where to find Python’s interpreter in your system. For Windows and Linux users, go the menu and choose <strong>File</strong> ▸ <strong>Settings</strong>. For macOS users, choose <strong>PyCharm</strong> ▸ <strong>Preferences</strong>. In the Settings/Preferences window, click the <strong>Project: Mechanics</strong> section in the left column to expand it and choose <strong>Python Interpreter</strong> (see <a href="ch00.xhtml#fig6">Figure 6</a>).</p>&#13;
<div class="image"><img src="../images/fig6.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig6"><em>Figure 6: Setting up the project’s Python interpreter</em></p>&#13;
<p class="indent">On the right side of the window, click the down arrow beside the Python Interpreter field, and from the drop-down, choose the version of the Python binary you installed on your computer. If you followed the previous instructions, Python should have been installed to a default directory where PyCharm can find it, so the interpreter should appear in the list. If you’ve installed Python somewhere else, you’ll need to tell PyCharm the directory where you did so.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>If you have any trouble setting the project’s interpreter, check PyCharm’s official documentation:</em> <a href="https://www.jetbrains.com/help/pycharm/configuring-python-interpreter.html">https://www.jetbrains.com/help/pycharm/configuring-python-interpreter.html</a><em>. This link contains a detailed explanation of the process.</em></p>&#13;
</div>&#13;
<p class="indent">Now that you’ve opened the <em>Mechanics</em> project, it should already be set up. Open the <em>README.md</em> file inside PyCharm by double-clicking it. By default, when you open a Markdown file in PyCharm, it’ll show you a split view: to your left is the Markdown raw file and to your right is the rendered version of the file. See <a href="ch00.xhtml#fig7">Figure 7</a>.</p>&#13;
<p class="indent">This <em>README.md</em> file explains the basic structure of the project. Feel free to navigate through the links in the preview; give yourself some time to read through the README files inside each of the packages. This will give you a good sense of the amount of work we’ll do together throughout the book.</p>&#13;
<div class="image"><span epub:type="pagebreak" id="page_xxxiii"/><img src="../images/fig7.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig7"><em>Figure 7: <span class="normal">README.md</span> file with PyCharm’s split view</em></p>&#13;
<h5 class="h5" id="ch00lev3sec2"><strong>Creating Your Own Mechanics Project</strong></h5>&#13;
<p class="noindent">Now that you have the <em>Mechanics</em> project you downloaded set up for reference, let’s create a new empty project where you can write your code. Close the project if you have it open (select <strong>File</strong> ▸ <strong>Close Project</strong>). You should see the welcome page, as in <a href="ch00.xhtml#fig8">Figure 8</a>.</p>&#13;
<div class="image"><img src="../images/fig8.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig8"><em>Figure 8: PyCharm welcome screen</em></p>&#13;
<p class="indent">From the welcome page choose <strong>Create New Project</strong>. You’ll be asked to name your project: use <em>Mechanics</em>. Then, for the interpreter, instead of the default, which is New environment using, select the <strong>Existing interpreter</strong> option (see <a href="ch00.xhtml#fig9">Figure 9</a>). Locate the version of Python you downloaded earlier in the introduction and click <strong>CREATE</strong>.</p>&#13;
<div class="image"><span epub:type="pagebreak" id="page_xxxiv"/><img src="../images/fig9.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig9"><em>Figure 9: PyCharm, creating a new project</em></p>&#13;
<p class="indent">You should have a new empty project created and ready for you to write code. Let’s take a quick look at PyCharm’s main features.</p>&#13;
<h3 class="h3" id="ch00lev1sec8"><strong>PyCharm Introduction</strong></h3>&#13;
<p class="noindent">This section is by no means a thorough guide to using PyCharm. To get a more complete overview of the IDE, you should read the documentation at <a href="https://www.jetbrains.com/help/pycharm"><em>https://www.jetbrains.com/help/pycharm</em></a>. The official documentation is complete and up-to-date with the latest features.</p>&#13;
<p class="indent">PyCharm is a powerful IDE, and its Community (free) version even comes packed with lots of functionality; it makes working with Python a delightful experience. Its user interface (UI) can be divided into four main sections (see <a href="ch00.xhtml#fig10">Figure 10</a>).</p>&#13;
<div class="bqparan">&#13;
<p class="noindentin"><strong>Navigation bar</strong> On the top of the window is the navigation bar. To its left is the breadcrumb navigation of the currently open file. To its right are buttons to run and debug the program, as well as the drop-down list that shows the current run configuration (we’ll cover run configurations later in the book).</p>&#13;
<p class="noindentin"><strong>Project Tool window</strong> This is the directory structure of your project, including all its packages and files.</p>&#13;
<p class="noindentin"><strong>Editor</strong> This is where you’ll write your code.</p>&#13;
<p class="noindentin"><strong>Terminal</strong> PyCharm comes with two terminals: your system’s terminal and Python’s terminal. We’ll use both of them throughout the book. We’ll cover these in <a href="ch03.xhtml#ch03">Chapter 3</a>.</p>&#13;
</div>&#13;
<div class="image"><span epub:type="pagebreak" id="page_xxxv"/><img src="../images/fig10.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig10"><em>Figure 10: PyCharm UI</em></p>&#13;
<p class="indent">PyCharm also includes the project’s Python interpreter in the lower-right corner of the UI. You can change the interpreter’s version from here, choosing from a list of versions installed on your system.</p>&#13;
<h4 class="h4" id="ch00lev2sec7"><strong><em>Creating Packages and Files</em></strong></h4>&#13;
<p class="noindent">We can create new Python packages (we’ll cover packages in <a href="ch01.xhtml#ch01">Chapter 1</a>) in your project using the Project Tool window. To create a new package, go to the Project Tool window and right-click the folder or package where you want to create the new package; from the menu that appears, select <strong>New</strong> ▸ <strong>Python Package</strong>. Similarly, select <strong>New</strong> ▸ <strong>Python File</strong> to create Python files. You can see these options in <a href="ch00.xhtml#fig11">Figure 11</a>.</p>&#13;
<p class="indent">You can also create regular directories with New ▸ Directory and all types of files using New ▸ File, which will let you choose the file’s extension yourself. The difference between a regular directory and a Python package is that the latter includes a file named <em>__init__.py</em> that instructs Python’s interpreter to understand the directory as a package with Python code. You’ll learn more about this in <a href="ch01.xhtml#ch01">Chapter 1</a>.</p>&#13;
<div class="image"><span epub:type="pagebreak" id="page_xxxvi"/><img src="../images/fig11.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig11"><em>Figure 11: PyCharm new package or file</em></p>&#13;
<h4 class="h4" id="ch00lev2sec8"><strong><em>Creating Run Configurations</em></strong></h4>&#13;
<p class="noindent">A <em>run configuration</em> is just a way of telling PyCharm how we want our project (or a part of it) to run. We can save this configuration to use as many times as we need. With a run configuration in place, we can execute our application by simply pressing a button, as opposed to having to write a command in the shell, which potentially entails copy-pasting parameters, inputting filenames, and the like.</p>&#13;
<p class="indent">Among other things, a run configuration can include information about the entry point for our application, what files to redirect to the standard input, what environment variables have to be set, and what parameters to pass to the program. Run configurations are a convenience that will save us time when developing; they also allow us to easily debug Python code, as we’ll see in the next section. You can find the official documentation for run configurations here: <a href="https://www.jetbrains.com/help/pycharm/run-debug-configuration.html"><em>https://www.jetbrains.com/help/pycharm/run-debug-configuration.html</em></a>.</p>&#13;
<p class="indent">Let’s create a run configuration ourselves to get some hands-on experience. To do this, let’s first create a new empty project.</p>&#13;
<h5 class="h5" id="ch00lev3sec3"><strong>Creating a Test Project</strong></h5>&#13;
<p class="noindent">To create a new project from the menu, choose <strong>File</strong> ▸ <strong>New Project</strong>. In the Create Project dialog, enter <em>RunConfig</em> for the project’s name, select the <strong>Existing interpreter</strong> option, and then click <strong>CREATE</strong>.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_xxxvii"/>In this new empty project, add a Python file by right-clicking the <em>RunConfig</em> empty directory in the Project Tool window and then selecting <strong>New</strong> ▸ <strong>Python File</strong>. Name it <em>fibonacci</em>. Open the file and enter this code:</p>&#13;
<pre>def fibonacci(n):&#13;
    if n &lt; 3:&#13;
        return 1&#13;
&#13;
    return fibonacci(n - 1) + fibonacci(n - 2)&#13;
&#13;
&#13;
fib_30 = fibonacci(30)&#13;
print(f'the 30th Fibonacci number is {fib_30}')</pre>&#13;
<p class="indent">We’ve written a function to compute the <em>n</em>th Fibonacci number using a recursive algorithm, which we then use to compute and print the 30th number. Let’s create a new run configuration to execute this script.</p>&#13;
<h5 class="h5" id="ch00lev3sec4"><strong>Creating a New Run Configuration</strong></h5>&#13;
<p class="noindent">To create a new run configuration, from the menu select <strong>Run</strong> ▸ <strong>Edit Configurations</strong>; the dialog in <a href="ch00.xhtml#fig12">Figure 12</a> should appear.</p>&#13;
<div class="image"><img src="../images/fig12.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig12"><em>Figure 12: The Run/Debug Configurations dialog</em></p>&#13;
<p class="indent">As you can see, there are a few templates we can use to create a new run configuration. Each template defines parameters to help us readily create the right kind of configuration. We’re only going to use the Python template in this book. This template defines a run configuration to run and debug Python files.</p>&#13;
<p class="indent">In the dialog, click the <strong>+</strong> button in the top-left corner and select <strong>Python</strong> from the list of available templates (see <a href="ch00.xhtml#fig13">Figure 13</a>).</p>&#13;
<div class="image"><span epub:type="pagebreak" id="page_xxxviii"/><img src="../images/fig13.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig13"><em>Figure 13: Creating a new Python run configuration</em></p>&#13;
<p class="indent">Once you’ve chosen the configuration template, the right side of the dialog displays the parameters we’ll need to provide for this configuration to run our code. We only need to fill two of these parameters: the configuration’s name and the script path.</p>&#13;
<p class="indent">Locate the Name field at the top of the dialog and enter <strong>fibonacci</strong>. Then locate the Script path field under the Configuration section, and click the folder icon to its right. Upon clicking this icon, a file dialog should open inside the project’s root folder, exactly where we’ve added our <em>fibonacci.py</em> file. Choose this file as the script path. Your new configuration dialog should look similar to <a href="ch00.xhtml#fig14">Figure 14</a>. Click <strong>OK</strong>.</p>&#13;
<div class="image"><img src="../images/fig14.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig14"><em>Figure 14: The run configuration parameters</em></p>&#13;
<p class="indent">You’ve successfully created a run configuration. Let’s use it.</p>&#13;
<h5 class="h5" id="ch00lev3sec5"><span epub:type="pagebreak" id="page_xxxix"/><strong>Using the Run Configuration</strong></h5>&#13;
<p class="noindent">In the navigation bar, toward the right, locate the run configuration selector. <a href="ch00.xhtml#fig15">Figure 15</a> shows this selector.</p>&#13;
<div class="image"><img src="../images/fig15.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig15"><em>Figure 15: The run configuration selector</em></p>&#13;
<p class="indent">In the drop-down list, select the run configuration you just created and click the green play button to execute it. You should see the following message in the shell of the IDE:</p>&#13;
<pre>the 30th Fibonacci number is 832040&#13;
&#13;
Process finished with exit code 0</pre>&#13;
<p class="indent">You can also launch a run configuration from the menu by selecting <strong>Run</strong> ▸ <strong>Run ‘fibonacci’</strong>.</p>&#13;
<p class="indent">We’ve successfully used a run configuration to launch our <em>fibonacci.py</em> script. Let’s now use it to learn about debugging Python code.</p>&#13;
<h4 class="h4" id="ch00lev2sec9"><strong><em>Debugging Python Code</em></strong></h4>&#13;
<p class="noindent">When our programs are misbehaving and we don’t know why, we can debug them. To debug a program, we can execute it line by line, one step at a time, and inspect the values of the variables.</p>&#13;
<p class="indent">Let’s modify our <span class="literal">fibonacci</span> function a little bit before we debug the script. Imagine that the users of this function are complaining about it being too slow for large numbers. For example, they state they have to wait several minutes for the function to compute the 50th Fibonacci number:</p>&#13;
<pre># this will fry your CPU... be prepared to wait&#13;
&gt;&gt;&gt; <span class="codestrong1">fibonacci(50)</span></pre>&#13;
<p class="indent">After careful analysis, we realize that our current implementation of the <span class="literal">fibonacci</span> function could be improved if we cached the already computed Fibonacci numbers to avoid repeating the calculations over and over again. To speed up the execution, we decide to save the numbers we’ve already figured out in a dictionary. Modify your code like so:</p>&#13;
<pre>cache = {}&#13;
&#13;
&#13;
def fibonacci(n):&#13;
    if n &lt; 3:&#13;
        return 1&#13;
&#13;
    if n in cache:&#13;
        return cache[n]&#13;
&#13;
    <span epub:type="pagebreak" id="page_xl"/>cache[n] = fibonacci(n - 1) + fibonacci(n - 2)&#13;
    return cache[n]&#13;
&#13;
&#13;
fib_30 = fibonacci(30)&#13;
print(f'the 30th Fibonacci number is {fib_30}')</pre>&#13;
<p class="indent">Before we start our debugging exercise, try to run the script again to make sure it still yields the expected result. You can go further and try to compute the 50th number: this time it will compute it in a matter of milliseconds. The following:</p>&#13;
<pre><span class="codeitalic1">--snip--</span>&#13;
&#13;
fib_50 = fibonacci(50)&#13;
print(f'the 50th Fibonacci number is {fib_50}')</pre>&#13;
<p class="noindent">yields this result:</p>&#13;
<pre>the 50th Fibonacci number is 12586269025&#13;
&#13;
Process finished with exit code 0</pre>&#13;
<p class="indent">Let’s now stop the execution exactly at the line where we call the function:</p>&#13;
<pre>fib_50 = fibonacci(50)</pre>&#13;
<p class="indent">To do this, we need to set a <em>breakpoint</em> where we want the Python interpreter to stop the execution. You can set a breakpoint in two ways: either click in the editor, slightly to the right of the line number where you want to stop (where the dot appears in <a href="ch00.xhtml#fig16">Figure 16</a>), or click your cursor anywhere in the line, and then from the menu select <strong>Run</strong> ▸ <strong>Toggle Breakpoints</strong> ▸ <strong>Line Breakpoint</strong>.</p>&#13;
<p class="indent">If you’ve added the breakpoint successfully, you should see a dot like the one in <a href="ch00.xhtml#fig16">Figure 16</a>.</p>&#13;
<div class="image"><img src="../images/fig16.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig16"><em>Figure 16: Setting a breakpoint in the code</em></p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_xli"/>To launch the Fibonacci run configuration in debug mode, instead of clicking the green play button, you want to click the red bug button (see <a href="ch00.xhtml#fig15">Figure 15</a>) or select <strong>Run</strong> ▸ <strong>Debug ‘fibonacci’</strong> from the menu.</p>&#13;
<p class="indent">PyCharm launches our script and checks for breakpoints; as soon as it finds one, it stops execution before executing that line. Your IDE should’ve halted execution in the line where we set the breakpoint and displayed the debugger controls in the lower part, as in <a href="ch00.xhtml#fig17">Figure 17</a>.</p>&#13;
<div class="image"><img src="../images/fig17.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig17"><em>Figure 17: PyCharm’s debugger</em></p>&#13;
<p class="indent">The debugger has a bar near the top to control the execution of the program (see <a href="ch00.xhtml#fig18">Figure 18</a>). There are a few icons, but we’re mainly interested in the first two: Step over and Step into. With the Step over option, we can execute the current line and jump to the next one. The Step into option goes inside the function body of the current line. We’ll look at these two in a minute.</p>&#13;
<p class="indent">The right side of the debugger has a Variables pane where we can inspect the current state of our program: the values of all the existing variables. For instance, we can see the <span class="literal">cache</span> variable in <a href="ch00.xhtml#fig17">Figure 17</a>, which is an empty dictionary at the moment.</p>&#13;
<div class="image"><img src="../images/fig18.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig18"><em>Figure 18: Debugger execution controls</em></p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_xlii"/>Let’s now click the Step into icon in the execution control’s section of the debugger. The execution enters the <span class="literal">fibonacci</span> function body and stops in its first instruction (<a href="ch00.xhtml#fig19">Figure 19</a>).</p>&#13;
<div class="image"><img src="../images/fig19.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig19"><em>Figure 19: Stepping into the <span class="codeitalic">fibonacci</span> function</em></p>&#13;
<p class="indent">The debugger’s Variables pane now shows the <span class="literal">n</span> variable with its current value, 50. This value also appears beside the <span class="literal">fibonacci</span> function definition, as you can see in <a href="ch00.xhtml#fig19">Figure 19</a> (both places are indicated with arrows).</p>&#13;
<p class="indent">The left side of the debugger displays the Frames pane. This pane contains the stack frames of our program. Each time a function is executed, a new frame is pushed to the stack with the function’s local variables and some more information. You can go back and forth in time by clicking a frame to inspect the state of the program before that function got called. For instance, you can click the <span class="literal">&lt;module&gt;, fibonacci.py:15</span> stack frame to go back in time before the <span class="literal">fibonacci</span> function got called. To go back to the current execution point, simply click the topmost stack frame, <span class="literal">fibonacci</span>, <span class="literal">fibonacci.py:5</span> in this case.</p>&#13;
<p class="indent">Try to continue debugging the program using the Step over and Step into controls. Make sure you watch the <span class="literal">cache</span> and <span class="literal">n</span> variables as they change their values. Once you’re done experimenting, to stop the debugging session, you can either execute all the instructions in the program until it finishes or click the Stop button in the debugger. You can do this from the menu by selecting <strong>Run</strong> ▸ <strong>Stop ‘fibonacci’</strong> or by clicking the red square icon on the left side of the debugger.</p>&#13;
<p class="indent">Let’s try one last debugging exercise. Run the program again in debug mode; when the execution stops at the breakpoint, click the Step over icon. Inspect the <span class="literal">cache</span> variable in the Variables pane. As you can see, the cache is now filled with all the Fibonacci numbers from 3 up to 50. You can expand the dictionary to check all of the values inside, as in <a href="ch00.xhtml#fig20">Figure 20</a>.</p>&#13;
<div class="image"><span epub:type="pagebreak" id="page_xliii"/><img src="../images/fig20.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig20"><em>Figure 20: Debugger variables</em></p>&#13;
<p class="indent">You can also interact with the current status of the program using the debugger’s console (<a href="ch00.xhtml#fig21">Figure 21</a>). In the debugger view, click the <strong>Console</strong> tab next to the Debugger tab. In this console, you can interact with the state of the current program and do things like check whether a given Fibonacci number is cached:</p>&#13;
<pre>&gt;&gt;&gt; <span class="codestrong1">12 in cache</span>&#13;
True</pre>&#13;
<div class="image"><img src="../images/fig21.jpg" alt="Image"/></div>&#13;
<p class="figcap" id="fig21"><em>Figure 21: Debugger console</em></p>&#13;
<h3 class="h3" id="ch00lev1sec9"><span epub:type="pagebreak" id="page_xliv"/><strong>Summary</strong></h3>&#13;
<p class="noindent">In this introductory chapter, we’ve taken a look at the contents of the book and the prerequisites you’ll need to follow along and make the best of it. We also installed Python and configured our environment to work effectively throughout the book.</p>&#13;
<p class="indent">The last section was a sneak peek into PyCharm and its powerful debugging tools, but as you can imagine, we’ve barely scratched the surface. To learn more about PyCharm debugging, take a quick look at the official documentation at <a href="https://www.jetbrains.com/help/pycharm/debugging-code.html"><em>https://www.jetbrains.com/help/pycharm/debugging-code.html</em></a>.</p>&#13;
<p class="indent">Now, let’s start learning about Python.</p>&#13;
</body></html>