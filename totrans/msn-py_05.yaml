- en: '**5'
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: PREPARING THE SPACE STATION EQUIPMENT**
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/common01.jpg)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
- en: Now that the space station walls are in place, we can start installing the equipment.
    We’ll need detailed information about the different pieces of equipment, including
    the furniture, survival systems, and experimental machinery. In this chapter,
    you’ll add information about all the items on the space station, including their
    images and descriptions. You’ll also experiment with designing your own room and
    view it using the *Explorer* program you created in [Chapter 4](ch04.xhtml#ch04).
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: '**CREATING A SIMPLE PLANETS DICTIONARY**'
  id: totrans-4
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: To store the information about the space station equipment, we’ll use a programming
    concept called dictionaries. A *dictionary* is a bit like a list but with a built-in
    search engine. Let’s take a closer look at how it works.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
- en: '**UNDERSTANDING THE DIFFERENCE BETWEEN A LIST AND A DICTIONARY**'
  id: totrans-6
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: As with a paper dictionary, you can use a word or phrase to look up information
    in a Python dictionary. That word or phrase is called the *key*, and the information
    linked to the key is called the *value*. Unlike in a paper dictionary, the entries
    in a Python dictionary can be in any order. They don’t have to be alphabetical.
    Python can go directly to the entry you need, wherever it is.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: 'Imagine you have a list that contains information about previous space missions.
    You could get the first item from that list by using this line:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: print(mission_info[0])
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: 'If mission_info was a dictionary instead of a list, you could use a mission
    name instead of an index number to get the information on that mission, like this:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: print(mission_info["Apollo 11"])
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: The key can be a word or phrase but can also be a number. We’ll start by using
    words because it’s easier to understand the difference between a list and a dictionary
    that way.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
- en: '**MAKING AN ASTRONOMY CHEAT SHEET DICTIONARY**'
  id: totrans-13
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: All astronauts need a good understanding of the solar system, so let’s learn
    about the planets as we build our first dictionary. We’ll use the planet names
    as the keys and connect each name to information about that planet.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: Take a look at [Listing 5-1](ch05.xhtml#ch05list1), which creates a dictionary
    called planets. When you make a dictionary, you use curly brackets {} to mark
    the start and end of it, instead of the square brackets you use for a list.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: Each entry in the dictionary is made up of the key, followed by a colon and
    then the information for that entry. As with a list, we separate the entries with
    commas and put double quotes around pieces of text.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
- en: Open a new file in IDLE (**File** ▸ **New File**) and enter the following program.
    Save it as *listing5-1.py*.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: '*listing5-1.py*'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: 'planets = { "Mercury": "The smallest planet, nearest the Sun",'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
- en: '"Venus": "Venus takes 243 days to rotate",'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
- en: '"Earth": "The only planet known to have native life",'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: '"Mars": "The Red Planet is the second smallest planet",'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
- en: '"Jupiter": "The largest planet, Jupiter is a gas giant",'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: '"Saturn": "The second largest planet is a gas giant",'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
- en: '"Uranus": "An ice giant with a ring system",'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
- en: '"Neptune": "An ice giant and farthest from the Sun"'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
- en: '➊ while True:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
- en: ➋     query = input("Which planet would you like information on? ")
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
- en: ➌     print(planets[query])
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
- en: '*Listing 5-1: Your first dictionary program*'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
- en: This program doesn’t use Pygame Zero, so you can run it by clicking **Run**
    ▸ **Run Module** at the top of the IDLE window. (It will still work if you run
    it using pgzrun, but it’s easier to use the menu.) When you run the program, it
    asks you which planet you want information on using the input() built-in function
    ➋. Try entering Earth or Jupiter for the planet name.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
- en: Which planet would you like information on? Earth
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
- en: The only planet known to have native life
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
- en: Which planet would you like information on? Jupiter
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
- en: The largest planet, Jupiter is a gas giant
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
- en: Whichever planet name you enter is stored in the variable query. That variable
    is then used to look up the information for that planet in the planets dictionary
    ➌. Instead of using an index number inside the square brackets as we did with
    a list, we use the word we entered to get the information, and that word is stored
    in the variable query.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
- en: In Python, we can use a while ➊ loop to repeat a set of instructions. Unlike
    a for loop, which we use to repeat a certain number of times, a while loop usually
    repeats until something changes. Often in a game, the while command will check
    a variable to decide whether to keep repeating instructions. For example, the
    instruction while lives > 0 could keep a game going until the player runs out
    of lives. When the lives variable changes to 0, the instructions in the loop would
    stop repeating.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
- en: The while True command we use in *listing5-1.py* will keep repeating forever,
    because it means “while True is True,” which is always. For this while True command
    to work, make sure you capitalize True and place a colon at the end of the line.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
- en: Under the while command, we use four spaces to indent the instructions that
    should repeat. Here, we’ve indented the lines that ask you for a planet name and
    then give you the planet information, so they’re the instructions that repeat.
    After you enter a planet name and get the information, the program asks you for
    another planet name, and another, forever. Or until you stop the program by pressing
    CTRL-C, at least.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
- en: Although this program works, it isn’t complete yet. You might get an unhelpful
    error if you enter a planet name that isn’t in the dictionary. Let’s fix the code
    so it returns a useful message instead.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
- en: '**ERROR-PROOFING THE DICTIONARY**'
  id: totrans-42
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: When you enter a key that isn’t in the dictionary, you’ll see an error message.
    Python looks for an exact match. So, if you try to look up something that isn’t
    in the dictionary or make even a tiny spelling mistake, you won’t get the information
    you want.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
- en: 'Dictionary keys, like variable names, are case sensitive, so if you type earth
    instead of Earth, the program will crash. If you enter a planet that doesn’t exist,
    this is what happens:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
- en: Which planet would you like information on? Pluto
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
- en: 'Traceback (most recent call last):'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
- en: File "C:\Users\Sean\Documents\Escape\listing5-1.py", line 13, in <module>
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
- en: print(planets[query])
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
- en: 'KeyError: ''Pluto'''
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
- en: '>>>'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
- en: Poor Pluto! After 76 years of service, it was disqualified as a planet in 2006,
    so it’s not in our planets dictionary.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
- en: '**TRAINING MISSION #1**'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
- en: Can you add an entry for Pluto in the dictionary? Pay special attention to the
    position of the quotes, colon, and comma. You can add it at any position in the
    dictionary.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
- en: When the program looks for an item in the dictionary that isn’t there, it stops
    the program and drops you back at the Python shell prompt. To avoid this, we need
    the program to check whether the word entered is one of the keys in the dictionary
    before it tries to use it.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
- en: 'You can see which keys are in the dictionary by entering the dictionary name
    followed by a dot and keys(). The technical jargon for this is a *method*. Roughly
    speaking, a method is a set of instructions that you can attach to a piece of
    data using a period. Run the following code in the Python shell:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
- en: '>>> print(planets.keys())'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
- en: dict_keys(['Mars', 'Pluto', 'Jupiter', 'Earth', 'Uranus', 'Saturn', 'Mercury',
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
- en: '''Neptune'', ''Venus''])'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
- en: 'You might notice something odd here. When I completed Training Mission #1,
    I added Pluto to the dictionary as the last item. But in this output, it’s in
    second place in my list of keys. When you add items to a list, they’re placed
    at the end, but in a dictionary, that is not always the case. It depends on which
    version of Python you’re using. (The latest version does keep dictionary items
    in the same order you added them.) As mentioned earlier, the order of the keys
    in the dictionary doesn’t matter, though. Python figures out where the keys are
    in the dictionary, so you never need to think about it.'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
- en: To stop the program from crashing when a user asks for information on a planet
    that isn’t in the dictionary, modify your program with the new lines shown in
    [Listing 5-2](ch05.xhtml#ch05list2).
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
- en: '*listing5-2.py*'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
- en: --snip--
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
- en: 'while True:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
- en: query = input("Which planet would you like information on? ")
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
- en: '➊     if query in planets.keys():'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
- en: ➋         print(planets[query])
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
- en: 'else:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
- en: ➌         print("No data available! Sorry!")
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
- en: '*Listing 5-2: Error proofing the dictionary lookup*'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
- en: 'Save the program as *listing5-2.py*, and run it by clicking **Run** ▸ **Run
    Module**. Check that it works by entering a planet correctly, and then enter another
    planet that isn’t in the list of keys. Here’s an example:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
- en: Which planet would you like information on? Venus
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
- en: Venus takes 243 days to rotate
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
- en: Which planet would you like information on? Tatooine
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
- en: No data available! Sorry!
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
- en: We protect our program from crashing by making it check whether the key in query
    exists in the dictionary before the program tries to use it ➊. If the key does
    exist, we use the query as we did before ➋. Otherwise, we send a message to users
    telling them that we don’t have that information in our dictionary ➌. Now the
    program is much friendlier.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
- en: '**PUTTING LISTS INSIDE DICTIONARIES**'
  id: totrans-76
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: Our planet dictionary is a bit limited at the moment. What if we want to add
    extra information, such as whether the planet has rings and how many moons it
    has? To do so, we can use a list to store multiple pieces of information about
    a planet and then put that list inside the dictionary.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
- en: 'For example, here is a new entry for Venus:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
- en: '"Venus": ["Venus takes 243 days to rotate", False, 0]'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
- en: 'The square brackets mark the start and end of the list, and there are three
    items in the list: a short description, a True or False value that indicates whether
    or not the planet has rings, and the number of moons it has. Because Venus doesn’t
    have rings, the second entry is False. It also doesn’t have any moons, so the
    third entry is 0.'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
- en: '**RED ALERT**'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
- en: True *and* False *values need to start with a capital letter and shouldn’t be
    in quotes. The words turn orange when you type them correctly in IDLE.*
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
- en: Change your dictionary code so each key has a list, as shown in [Listing 5-3](ch05.xhtml#ch05list3),
    keeping the rest of the code the same. Remember that dictionary entries are separated
    by commas, so there’s a comma after the closing bracket for all the lists except
    the last one. Save your updated program as *listing5-3.py*.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
- en: I’ve slipped in information for Pluto too. Some speculate that Pluto might have
    rings, and exploration continues. By the time you read this book, our understanding
    of Pluto might have changed.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
- en: '*listing5-3.py*'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
- en: 'planets = { "Mercury": ["The smallest planet, nearest the Sun", False, 0],'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
- en: '"Venus": ["Venus takes 243 days to rotate", False, 0],'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
- en: '"Earth": ["The only planet known to have native life", False, 1],'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
- en: '"Mars": ["The second smallest planet", False, 2],'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
- en: '"Jupiter": ["The largest planet, a gas giant", True, 67],'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
- en: '"Saturn": ["The second largest planet is a gas giant", True, 62],'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
- en: '"Uranus": ["An ice giant with a ring system", True, 27],'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
- en: '"Neptune": ["An ice giant and farthest from the Sun", True, 14],'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
- en: '"Pluto": ["Largest dwarf planet in the Solar System", False, 5]'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
- en: --snip--
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
- en: '*Listing 5-3: Putting a list in a dictionary*'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
- en: 'Run the program by selecting **Run** ▸ **Run Module**. Now when you ask for
    information on a planet, the program should display the entire list for that planet:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
- en: Which planet would you like information on? Venus
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
- en: '[''Venus takes 243 days to rotate'', False, 0]'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
- en: Which planet would you like information on? Mars
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
- en: '[''The second smallest planet'', False, 2]'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
- en: '**EXTRACTING INFORMATION FROM A LIST INSIDE A DICTIONARY**'
  id: totrans-103
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: We know how to get a list of information from a dictionary, so the next step
    is to get individual pieces of information from that list. For example, the False
    entry doesn’t mean much by itself. If we can separate it from the list, we can
    add an explanation beside it so the results are easier to understand. We previously
    used lists inside *lists* for the room map in [Chapter 4](ch04.xhtml#ch04). Now,
    as then, we’ll use index numbers to get items from a list in a *dictionary*.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
- en: 'Because planets[query] is the entire list, we can see just the description
    (the first item in the list) by using planets[query][0]. We can see whether it
    has rings or not by using planets[query][1]. Briefly, here is what we’re doing:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
- en: We’re using the planet name, stored in the variable query, to access a particular
    list from the planets dictionary.
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We’re using an index number to take an individual item from that list.
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Modify your program to look like [Listing 5-4](ch05.xhtml#ch05list4). As before,
    change only the lines that are not grayed out. Save your program as *listing5-4.py*,
    and run it by clicking **Run** ▸ **Run Module**.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
- en: '*listing5-4.py*'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
- en: --snip--
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
- en: 'while True:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
- en: query = input("Which planet would you like information on? ")
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
- en: 'if query in planets.keys():'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
- en: ➊         print(planets[query][0])
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
- en: ➋         print("Does it have rings? ", planets[query][1])
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
- en: 'else:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
- en: print("Databanks empty. Sorry!")
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
- en: '*Listing 5-4: Displaying information from the list stored in the dictionary*'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
- en: 'When you run the *listing5-4.py* program, you should see something like the
    following:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
- en: Which planet would you like information on? Earth
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
- en: The only planet known to have native life
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
- en: Does it have rings?  False
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
- en: Which planet would you like information on? Saturn
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
- en: The second largest planet is a gas giant
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
- en: Does it have rings?  True
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
- en: This should work for every planet in the dictionary!
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
- en: When you enter the name of a planet that’s in the dictionary, the program now
    prints the first item from its list of information, which is the description ➊.
    On the next line, the program asks itself whether that planet has rings and then
    shows you the True or False answer, which is the second item in that planet’s
    list of information ➋. You can display some text and some data using the same
    print() instruction, by separating them with a comma. The display is much clearer
    than printing the entire list, and the information is easier to understand.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
- en: '**TRAINING MISSION #2**'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
- en: Can you modify the program to also tell you how many moons the planet has?
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
- en: '**MAKING THE SPACE STATION OBJECTS DICTIONARY**'
  id: totrans-130
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Let’s put our knowledge of how to use dictionaries, and lists inside dictionaries,
    to use in the space station. With all the furniture, life support equipment, tools,
    and personal effects required on the space station, there’s a lot of information
    to keep track of. We’ll use a dictionary called objects to store information about
    all the different items in the game.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
- en: We’ll use numbers as the keys for the objects. It’s simpler than using a word
    for each object. Also, using numbers makes it easier to understand the room map
    if you want to print it as we did in [Chapter 4](ch04.xhtml#ch04). There’s less
    risk of mistyping, too. When we create the code for the puzzles later, it’ll be
    less obvious what the solution is, which means there will be fewer spoilers if
    you’re building the game before playing it.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
- en: You might remember that we used the numbers 0, 1, and 2 to represent floor tiles,
    wall pillars, and soil in [Chapter 4](ch04.xhtml#ch04). We’ll continue using those
    numbers for those items, and the rest of the objects will use numbers 3 to 81.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
- en: 'Each entry in the dictionary is a list containing information about the item,
    similar to how we made the planets dictionary earlier in this chapter. The lists
    contain the following information for each object:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
- en: '**An object image file** Different objects can use the same image file. For
    example, all the access cards use the same image.'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
- en: '**A shadow image file** We use shadows to enhance the 3D perspective in the
    game. The two standard shadows are *images.full_shadow*, which fills a full tile
    space and is for larger objects, and *images.half_shadow*, which fills half a
    tile space for smaller objects. Objects with a distinctive outline, such as the
    cactus, have their own shadow image file that is used only for that object. Some
    items, like the chair, have the shadow within the image file. Some items have
    no shadow, like the crater and any items the player can carry. When an image has
    no shadow, we write None where its shadow filename belongs in the dictionary.
    The word None is a special data type in Python. Like with True and False, you
    don’t need any quotes around it, and it should start with a capital letter. When
    you enter it correctly, None turns orange in the code.'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
- en: '**A long description** A long description is displayed when you examine or
    select an object while playing the game. Some of the long descriptions include
    clues, and others simply describe the environment.'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
- en: '**A short description** Typically just a few words, such as “an access card,”
    a short description is shown onscreen when you do something with the object while
    playing the game. For example, “You have dropped an access card.” A short description
    is only required for items that the player can pick up or use, such as an access
    card or the vending machine.'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
- en: The game can reuse items in the objects dictionary. For example, if a room is
    made of 60 or more identical wall pillars, the game can just reuse the same wall
    pillar object. It only needs to be in the dictionary once.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
- en: There are some items that use the same image files but have other differences,
    which means we must store them separately in the dictionary. For example, the
    access cards have different descriptions depending on who they belong to, and
    the doors have different descriptions to tell you which key to use. Each access
    card and door has its own entry in the objects dictionary.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
- en: '**ADDING THE FIRST OBJECTS IN ESCAPE**'
  id: totrans-141
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: Open *listing4-3.py*, which you created in [Chapter 4](ch04.xhtml#ch04). This
    listing contains the game map and the code to generate the room map. We’ll add
    to this program to continue building the *Escape* game.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
- en: First, we need to set up some additional variables. Before the adventure begins,
    a research craft, called the Poodle lander, crash-lands on the planet surface.
    We’ll store coordinates for a random crash site in these new variables. We’ll
    add these variables now because the map object (number 27) will require them for
    its description.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
- en: Add the new lines in [Listing 5-5](ch05.xhtml#ch05list5) to the VARIABLES section,
    marked out with a hashed box, in your existing *listing4-3.py* file. I recommend
    adding them at the end of your other variables, just above where the MAP section
    begins, so your listing and my listing are consistent. Save your program as *listing5-5.py*.
    The program won’t do anything new if you run it now, but if you want to try it,
    enter pgzrun listing5-5.py.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
- en: '*listing5-5.py*'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
- en: --snip--
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
- en: '###############'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
- en: 'VARIABLES ##'
  id: totrans-148
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '###############'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
- en: --snip--
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
- en: DEMO_OBJECTS = [images.floor, images.pillar, images.soil]
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
- en: LANDER_SECTOR = random.randint(1, 24)
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
- en: LANDER_X = random.randint(2, 11)
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
- en: LANDER_Y = random.randint(2, 11)
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
- en: '###############'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
- en: '##    MAP    ##'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
- en: '###############'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
- en: --snip--
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
- en: '*Listing 5-5: Adding the crash site location variables*'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
- en: These new instructions create variables to remember the sector (or room number)
    the Poodle landed on, and its *x* and *y* position in that sector. The instructions
    use the random.randint() function, which picks a random number between the two
    numbers you give it. These instructions run once at the start of the game, so
    the lander location is different each time you play but doesn’t change during
    the game.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
- en: Now let’s add the first chunk of the objects data, shown in [Listing 5-6](ch05.xhtml#ch05list6).
    This section provides the data for objects 0 to 12\. Because the player cannot
    pick up or use these objects, they don’t have a short description.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
- en: Place this section of the listing just above the MAKE MAP section of your existing
    program (*listing5-5.py*). To help you find your way around the listing, you can
    press CTRL-F in IDLE to search for a particular word or phrase. For example, try
    searching for *make map* to see where to start adding the code in [Listing 5-6](ch05.xhtml#ch05list6).
    After searching, click Close on the search dialog box. Remember that if you get
    lost in the listing, you can always refer to the complete game listing in [Appendix
    A](appa.xhtml#appa).
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
- en: If you prefer not to type the data, use the file *data-chapter5.py*, in the
    listings folder. It contains the objects dictionary, so you can copy and paste
    it into your program. You can start by just pasting the first 12 items.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你不想手动输入数据，可以使用位于列表文件夹中的 *data-chapter5.py* 文件。它包含物体字典，你可以将其复制并粘贴到你的程序中。你可以从直接粘贴前12项开始。
- en: '*listing5-6.py*'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: '*listing5-6.py*'
- en: --snip--
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: --snip--
- en: assert len(GAME_MAP)-1 == MAP_SIZE, "Map size and GAME_MAP don't match"
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: assert len(GAME_MAP)-1 == MAP_SIZE, "地图大小与 GAME_MAP 不匹配"
- en: '###############'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: '##  OBJECTS  ##'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: '## 物体 ##'
- en: '###############'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: objects = {
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: objects = {
- en: '0: [images.floor, None, "The floor is shiny and clean"],'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: '0: [images.floor, None, "地板光亮且干净"],'
- en: '1: [images.pillar, images.full_shadow, "The wall is smooth and cold"],'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '1: [images.pillar, images.full_shadow, "墙面光滑且冰冷"],'
- en: '2: [images.soil, None, "It''s like a desert. Or should that be dessert?"],'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '2: [images.soil, None, "这就像沙漠。还是应该是甜点？"],'
- en: '3: [images.pillar_low, images.half_shadow, "The wall is smooth and cold"],'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: '3: [images.pillar_low, images.half_shadow, "墙面光滑且冰冷"],'
- en: '4: [images.bed, images.half_shadow, "A tidy and comfortable bed"],'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '4: [images.bed, images.half_shadow, "一张整洁舒适的床"],'
- en: '5: [images.table, images.half_shadow, "It''s made from strong plastic."],'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '5: [images.table, images.half_shadow, "它由强塑料制成。"],'
- en: '6: [images.chair_left, None, "A chair with a soft cushion"],'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: '6: [images.chair_left, None, "一把带有软垫的椅子"],'
- en: '7: [images.chair_right, None, "A chair with a soft cushion"],'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: '7: [images.chair_right, None, "一把带有软垫的椅子"],'
- en: '8: [images.bookcase_tall, images.full_shadow,'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: '8: [images.bookcase_tall, images.full_shadow,'
- en: '"Bookshelves, stacked with reference books"],'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: '"书架，上面堆满了参考书"],'
- en: '9: [images.bookcase_small, images.half_shadow,'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '9: [images.bookcase_small, images.half_shadow,'
- en: '"Bookshelves, stacked with reference books"],'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '"书架，上面堆满了参考书"],'
- en: '10: [images.cabinet, images.half_shadow,'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: '10: [images.cabinet, images.half_shadow,'
- en: '"A small locker, for storing personal items"],'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: '"一个小储物柜，用于存放个人物品"],'
- en: '11: [images.desk_computer, images.half_shadow,'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '11: [images.desk_computer, images.half_shadow,'
- en: '"A computer. Use it to run life support diagnostics"],'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '"一台计算机。用它来运行生命支持诊断"],'
- en: '12: [images.plant, images.plant_shadow, "A spaceberry plant, grown here"]'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '12: [images.plant, images.plant_shadow, "一种太空莓植物，在这里生长"]'
- en: '}'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '###############'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: MAKE MAP  ##
  id: totrans-190
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '制作地图 ##'
- en: '###############'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: --snip--
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: --snip--
- en: '*Listing 5-6: Adding the first objects*'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: '*列表 5-6：添加第一个物体*'
- en: Remember that the colors of the code can help you spot errors. If your text
    sections aren’t green, you’ve left out the opening double quotes. If there is
    too much green, you might have forgotten the closing double quotes. Some of the
    lists continue on the next line, and Python knows the list isn’t complete until
    it sees the closing bracket. If you struggle to get any of the listings to work,
    you can use my version of the code (see “[Using My Example Listings](ch01.xhtml#ch01sb1)”
    on [page 21](ch01.xhtml#page_21)) and pick up the project from any point.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，代码的颜色可以帮助你发现错误。如果你的文本部分不是绿色的，说明你漏掉了开头的双引号。如果绿色部分太多，可能是忘记了闭合的双引号。有些列表会继续到下一行，Python知道列表尚未完成，直到它看到闭合的括号。如果你在运行任何列表时遇到问题，你可以使用我的代码版本（参见“[使用我的示例列表](ch01.xhtml#ch01sb1)”在[第21页](ch01.xhtml#page_21)）并从任何地方继续这个项目。
- en: '[Listing 5-6](ch05.xhtml#ch05list6) looks similar to our earlier planets dictionary:
    we use curly brackets to mark the start and end of the dictionary, and each entry
    in the dictionary is a list so it is inside square brackets. The main difference
    is that this time the key is a number instead of a word.'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '[列表 5-6](ch05.xhtml#ch05list6) 看起来与我们之前的行星字典相似：我们使用大括号标记字典的开始和结束，每个字典条目都是一个列表，因此它位于方括号内。主要的区别是这次键是一个数字，而不是一个单词。'
- en: Save your new program as *listing5-6.py*. This program uses Pygame Zero for
    the graphics, so you need to run your new program by entering pgzrun listing5-6.py.
    It should work the same as it did previously because we’ve added new data but
    haven’t done anything with that data yet. It’s worth running the program anyway,
    because if you see an error message in the command line window, you can fix the
    new code before you go any further.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 将你的新程序保存为 *listing5-6.py*。这个程序使用 Pygame Zero 来绘制图形，所以你需要通过输入 `pgzrun listing5-6.py`
    来运行你的新程序。它应该和之前一样运行，因为我们只是添加了新的数据，但还没有使用这些数据。无论如何，值得运行这个程序，因为如果你在命令行窗口看到错误信息，你可以在继续之前修复新代码。
- en: '**VIEWING OBJECTS WITH THE SPACE STATION EXPLORER**'
  id: totrans-197
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**使用空间站探索器查看物体**'
- en: 'To see the objects, we have to tell the game to use the new dictionary. Change
    the following line in the EXPLORER part of the program from this:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看这些物体，我们必须告诉游戏使用新的字典。将程序中 EXPLORER 部分的以下行从这个修改为：
- en: image_to_draw = DEMO_OBJECTS[room_map[y][x]]
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
- en: 'to the following:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
- en: image_to_draw = objects[room_map[y][x]][0]
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
- en: This small change makes the *Explorer* code use our new objects dictionary instead
    of the DEMO_OBJECTS list we told it to use previously.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
- en: 'Notice that we’re now using lowercase letters instead of capital letters. In
    this program, I use capital letters for constants whose values won’t change. The
    DEMO_OBJECTS list never changed: it was only used for looking up the image filenames.
    But the objects dictionary will sometimes have its content changed as the game
    is played.'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
- en: The other difference is that [0] is on the end of the line now. This is because
    when we pull an item from the objects dictionary, it gives us an entire list of
    information. But we just want to use the image here, which is the first item in
    that list, so we use the index number [0] to extract it.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
- en: Save the program and run it again, and you should see that the rooms look the
    same as before. That’s because we haven’t added any new objects yet, and we kept
    the object numbers for the floor, wall, and soil the same as the index numbers
    we were using for them before.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
- en: '**DESIGNING A ROOM**'
  id: totrans-206
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'Let’s add some items to the room display. In the EXPLORER section of the code,
    add the new lines shown in [Listing 5-7](ch05.xhtml#ch05list7):'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
- en: '*listing5-7.py*'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
- en: --snip--
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
- en: '###############'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
- en: EXPLORER  ##
  id: totrans-211
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '###############'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
- en: 'def draw():'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
- en: global room_height, room_width, room_map
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
- en: print(current_room)
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
- en: generate_map()
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
- en: screen.clear()
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
- en: room_map[2][4] = 7
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
- en: room_map[2][6] = 6
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
- en: room_map[1][1] = 8
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
- en: room_map[1][2] = 9
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
- en: room_map[1][8] = 12
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
- en: room_map[1][9] = 9
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
- en: --snip--
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
- en: '*Listing 5-7: Adding some objects in the room display*'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
- en: These new instructions add objects to the room_map list at different positions
    before the room is displayed.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
- en: Remember that room_map uses the y-coordinate before the x-coordinate. The first
    index number says how far from the back of the room the objects are; the smaller
    the number the nearer to the back they are. The smallest useful number is usually
    1 because the wall is in row 0.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
- en: The second number says how far across the room the objects are, from left to
    right. There’s usually a wall in column 0, so 1 is the smallest useful number
    for this position too.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
- en: The number on the other side of the equal sign is the key for a particular object.
    You can check which object each number represents by looking at the objects dictionary
    in [Listing 5-6](ch05.xhtml#ch05list6).
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
- en: 'So this line:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
- en: room_map[1][1] = 8
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
- en: 'places object 8 (a tall bookcase) into the top-left corner of the room. And
    this line:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
- en: room_map[2][6] = 6
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
- en: places a chair (object 6) three rows from the top and seven positions from the
    left. (Remember that index numbers start at 0.)
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
- en: Save your program as *listing5-7.py* and enter pgzrun listing5-7.py to run it.
    [Figure 5-1](ch05.xhtml#ch05fig1) shows what you should see now.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/fig5-1.jpg)'
  id: totrans-236
  prefs: []
  type: TYPE_IMG
- en: '*Figure 5-1: Cozy! Some objects displayed in the space station* Explorer *program*'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
- en: Because the *Explorer* program is just a demo, some things don’t work yet. For
    example, some objects have a black square under them because there’s no floor
    tile there. Also, all the rooms look the same because we’ve coded the objects
    into the EXPLORER section, so they appear in every room we display. This means
    you can’t view all the rooms anymore, because the objects won’t fit in some of
    them. As a result, you can’t use the arrow keys to look at all the rooms. The
    program doesn’t display wide objects such as the bed correctly yet, either. We’ll
    fix all of these problems later, but we can continue building and testing the
    space station in the meantime.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
- en: '**TRAINING MISSION #3**'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
- en: 'Experiment with the code you’ve added to the *Explorer* program to reposition
    the furniture to your liking. Playing with this code is a great way to learn how
    to position objects in the rooms. If you want to play with a bigger room, change
    the value of current_room in the VARIABLES section from 31 to 40 (which is the
    biggest room in the game). Save your program as *mission5-3.py* and run it using
    pgzrun mission5-3.py. You’ll need to keep a safe copy of the existing *Explorer*
    code (*listing5-7.py*) to use in Training Mission #4.'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
- en: '**ADDING THE REST OF THE OBJECTS**'
  id: totrans-241
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: So far we’ve added objects 0 to 12 to the objects dictionary. There are 81 objects
    in total in the game, so let’s add the rest now by adding the new lines in [Listing
    5-8](ch05.xhtml#ch05list8). Remember to add a comma after item 12 before adding
    the rest of the items in the dictionary.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
- en: When the same filename or a similar description is used for more than one object,
    you can just copy and paste it. To copy code, click and hold down the mouse button
    at the beginning of the chunk of code, move the mouse to highlight it, and then
    press CTRL-C. Then click the mouse where you want to paste that code and press
    CTRL-V. Remember too that you can copy and paste the whole dictionary from the
    *data-chapter5.py* file if you want to save time typing.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
- en: Save the program as *listing5-8.py*. You can test that the program still works
    by entering pgzrun listing5-8.py, although you won’t see anything new yet.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
- en: 'This is [Listing 5-8](ch05.xhtml#ch05list8):'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
- en: '*listing5-8.py*'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
- en: '###############'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
- en: '##  OBJECTS  ##'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
- en: '###############'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
- en: objects = {
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
- en: '0: [images.floor, None, "The floor is shiny and clean"],'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
- en: --snip--
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
- en: '12: [images.plant, images.plant_shadow, "A spaceberry plant, grown locally"],'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
- en: '➊     13: [images.electrical1, images.half_shadow,'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
- en: '"Electrical systems used for powering the space station"],'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
- en: '14: [images.electrical2, images.half_shadow,'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
- en: '"Electrical systems used for powering the space station"],'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
- en: '15: [images.cactus, images.cactus_shadow, "Ouch! Careful on the cactus!"],'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
- en: '16: [images.shrub, images.shrub_shadow,'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
- en: '"A space lettuce. A bit limp, but amazing it''s growing here!"],'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
- en: '17: [images.pipes1, images.pipes1_shadow, "Water purification pipes"],'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
- en: '18: [images.pipes2, images.pipes2_shadow,'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
- en: '"Pipes for the life support systems"],'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
- en: '19: [images.pipes3, images.pipes3_shadow,'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
- en: '"Pipes for the life support systems"],'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
- en: '➋     20: [images.door, images.door_shadow, "Safety door. Opens automatically
    \'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
- en: for astronauts in functioning spacesuits."],
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
- en: '21: [images.door, images.door_shadow, "The airlock door. \'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
- en: For safety reasons, it requires two person operation."],
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
- en: '22: [images.door, images.door_shadow, "A locked door. It needs " \'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
- en: + PLAYER_NAME + "'s access card"],
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
- en: '23: [images.door, images.door_shadow, "A locked door. It needs " \'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
- en: + FRIEND1_NAME + "'s access card"],
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
- en: '24: [images.door, images.door_shadow, "A locked door. It needs " \'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
- en: + FRIEND2_NAME + "'s access card"],
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
- en: '25: [images.door, images.door_shadow,'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
- en: '"A locked door. It is opened from Main Mission Control"],'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
- en: '26: [images.door, images.door_shadow,'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
- en: '"A locked door in the engineering bay."],'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
- en: '➌     27: [images.map, images.full_shadow,'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
- en: '"The screen says the crash site was Sector: " \'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
- en: '+ str(LANDER_SECTOR) + " // X: " + str(LANDER_X) + \'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
- en: '" // Y: " + str(LANDER_Y)],'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
- en: '28: [images.rock_large, images.rock_large_shadow,'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
- en: '"A rock. Its coarse surface feels like a whetstone", "the rock"],'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
- en: '29: [images.rock_small, images.rock_small_shadow,'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
- en: '"A small but heavy piece of Martian rock"],'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
- en: '30: [images.crater, None, "A crater in the planet surface"],'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
- en: '31: [images.fence, None,'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
- en: '"A fine gauze fence. It helps protect the station from dust storms"],'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
- en: '32: [images.contraption, images.contraption_shadow,'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
- en: '"One of the scientific experiments. It gently vibrates"],'
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
- en: '33: [images.robot_arm, images.robot_arm_shadow,'
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
- en: '"A robot arm, used for heavy lifting"],'
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
- en: '34: [images.toilet, images.half_shadow, "A sparkling clean toilet"],'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
- en: '35: [images.sink, None, "A sink with running water", "the taps"],'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
- en: '36: [images.globe, images.globe_shadow,'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
- en: '"A giant globe of the planet. It gently glows from inside"],'
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
- en: '37: [images.science_lab_table, None,'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
- en: '"A table of experiments, analyzing the planet soil and dust"],'
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
- en: '38: [images.vending_machine, images.full_shadow,'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
- en: '"A vending machine. It requires a credit.", "the vending machine"],'
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
- en: '39: [images.floor_pad, None,'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
- en: '"A pressure sensor to make sure nobody goes out alone."],'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
- en: '40: [images.rescue_ship, images.rescue_ship_shadow, "A rescue ship!"],'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
- en: '41: [images.mission_control_desk, images.mission_control_desk_shadow, \'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
- en: '"Mission Control stations."],'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
- en: '42: [images.button, images.button_shadow,'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
- en: '"The button for opening the time-locked door in engineering."],'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
- en: '43: [images.whiteboard, images.full_shadow,'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
- en: '"The whiteboard is used in brainstorms and planning meetings."],'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
- en: '44: [images.window, images.full_shadow,'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
- en: '"The window provides a view out onto the planet surface."],'
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
- en: '45: [images.robot, images.robot_shadow, "A cleaning robot, turned off."],'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
- en: '46: [images.robot2, images.robot2_shadow,'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
- en: '"A planet surface exploration robot, awaiting set-up."],'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
- en: '47: [images.rocket, images.rocket_shadow, "A 1-person craft in repair."],'
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
- en: '48: [images.toxic_floor, None, "Toxic floor - do not walk on!"],'
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
- en: '49: [images.drone, None, "A delivery drone"],'
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
- en: '50: [images.energy_ball, None, "An energy ball - dangerous!"],'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
- en: '51: [images.energy_ball2, None, "An energy ball - dangerous!"],'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
- en: '52: [images.computer, images.computer_shadow,'
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
- en: '"A computer workstation, for managing space station systems."],'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
- en: '53: [images.clipboard, None,'
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
- en: '"A clipboard. Someone has doodled on it.", "the clipboard"],'
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
- en: '54: [images.bubble_gum, None,'
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
- en: '"A piece of sticky bubble gum. Spaceberry flavour.", "bubble gum"],'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
- en: '55: [images.yoyo, None, "A toy made of fine, strong string and plastic. \'
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
- en: Used for antigrav experiments.", PLAYER_NAME + "'s yoyo"],
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
- en: '56: [images.thread, None,'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
- en: '"A piece of fine, strong string", "a piece of string"],'
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
- en: '57: [images.needle, None,'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
- en: '"A sharp needle from a cactus plant", "a cactus needle"],'
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
- en: '58: [images.threaded_needle, None,'
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
- en: '"A cactus needle, spearing a length of string", "needle and string"],'
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
- en: '59: [images.canister, None,'
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
- en: '"The air canister has a leak.", "a leaky air canister"],'
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
- en: '60: [images.canister, None,'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
- en: '"It looks like the seal will hold!", "a sealed air canister"],'
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
- en: '61: [images.mirror, None,'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
- en: '"The mirror throws a circle of light on the walls.", "a mirror"],'
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
- en: '62: [images.bin_empty, None,'
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
- en: '"A rarely used bin, made of light plastic", "a bin"],'
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
- en: '63: [images.bin_full, None,'
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
- en: '"A heavy bin full of water", "a bin full of water"],'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
- en: '64: [images.rags, None,'
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
- en: '"An oily rag. Pick it up by a corner if you must!", "an oily rag"],'
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
- en: '65: [images.hammer, None,'
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
- en: '"A hammer. Maybe good for cracking things open...", "a hammer"],'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
- en: '66: [images.spoon, None, "A large serving spoon", "a spoon"],'
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
- en: '67: [images.food_pouch, None,'
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
- en: '"A dehydrated food pouch. It needs water.", "a dry food pack"],'
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
- en: '68: [images.food, None,'
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
- en: '"A food pouch. Use it to get 100% energy.", "ready-to-eat food"],'
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
- en: '69: [images.book, None, "The book has the words ''Don''t Panic'' on the \'
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
- en: cover in large, friendly letters", "a book"],
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
- en: '70: [images.mp3_player, None,'
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
- en: '"An MP3 player, with all the latest tunes", "an MP3 player"],'
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
- en: '71: [images.lander, None, "The Poodle, a small space exploration craft. \'
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
- en: Its black box has a radio sealed inside.", "the Poodle lander"],
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
- en: '72: [images.radio, None, "A radio communications system, from the \'
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
- en: Poodle", "a communications radio"],
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
- en: '73: [images.gps_module, None, "A GPS Module", "a GPS module"],'
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
- en: '74: [images.positioning_system, None, "Part of a positioning system. \'
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
- en: Needs a GPS module.", "a positioning interface"],
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
- en: '75: [images.positioning_system, None,'
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
- en: '"A working positioning system", "a positioning computer"],'
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
- en: '76: [images.scissors, None, "Scissors. They''re too blunt to cut \'
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
- en: anything. Can you sharpen them?", "blunt scissors"],
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
- en: '77: [images.scissors, None,'
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
- en: '"Razor-sharp scissors. Careful!", "sharpened scissors"],'
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
- en: '78: [images.credit, None,'
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
- en: '"A small coin for the station''s vending systems",'
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
- en: '"a station credit"],'
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
- en: '79: [images.access_card, None,'
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
- en: '"This access card belongs to " + PLAYER_NAME, "an access card"],'
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
- en: '80: [images.access_card, None,'
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
- en: '"This access card belongs to " + FRIEND1_NAME, "an access card"],'
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
- en: '81: [images.access_card, None,'
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL
- en: '"This access card belongs to " + FRIEND2_NAME, "an access card"]'
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
- en: ➍ items_player_may_carry = list(range(53, 82))
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
- en: '# Numbers below are for floor, pressure pad, soil, toxic floor.'
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
- en: ➎ items_player_may_stand_on = items_player_may_carry + [0, 39, 2, 48]
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
- en: '###############'
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
- en: '## MAKE MAP  ##'
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
- en: '###############'
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
- en: --snip--
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
- en: '*Listing 5-8: Completing the objects data for the* Escape *game*'
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
- en: 'Some of the lists for objects extend over more than one line in the program
    ➊. This is fine because Python knows the list isn’t complete until it sees a closing
    bracket. To break a string (or any other piece of code) over more than one line,
    you can use a \ at the end of the line ➋. The line breaks in *listing5-8.py* are
    just there to make the code fit onto the book page neatly: onscreen, the code
    can extend to the right if you want it to.'
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
- en: Object 27 is a map showing the Poodle’s crash site. Its long description includes
    the variables that you set in [Listing 5-5](ch05.xhtml#ch05list5) for the Poodle’s
    position. The str() function is used to convert the numbers in those variables
    into strings so they can be combined with other strings to make up the long description
    ➌.
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
- en: 'We’ve also set up some additional lists we’ll need in the game: items_player_may_carry
    stores the numbers of the objects the player can pick up ➍. These are objects
    53 to 81\. Because they’re grouped together, we can set up the items_player_may_carry
    list using a range. A *range* is a sequence of numbers that starts from the first
    number given and finishes at the one *before* the last number. (We used ranges
    in [Chapter 3](ch03.xhtml#ch03).) We turn that range into a list using list(range(53
    to 82)), which makes a list of all the numbers from 53 to 81.'
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
- en: If you add more objects that a player can carry later, you can add them to the
    end of this list. For example, to add new objects numbered 89 and 93 that the
    player can carry, use items_player_may_carry = list(range(54, 82)) + [89, 93].
    You can also add new objects to the end of the objects list and just extend the
    range used to set up items_player_may_carry.
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
- en: The other new list is items_player_may_stand_on, which specifies whether a player
    is allowed to stand on a particular item ➎. Players can only stand on objects
    small enough to be picked up and on the different types of floor. We make this
    list by adding the object numbers for the different floor types to the items_player_may_carry
    list.
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
- en: After you’ve entered [Listing 5-8](ch05.xhtml#ch05list8), you’ve completed the
    OBJECTS section of the *Escape* game! But we haven’t put the objects into the
    game map yet. We’ll start to do that in [Chapter 6](ch06.xhtml#ch06).
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
- en: '**TRAINING MISSION #4**'
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
- en: Experiment with some of the new objects you just added to the game. By modifying
    the code, can you . . .
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
- en: Swap the tall bookcase for a bin (object 62)?
  id: totrans-398
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Swap the spaceberry plant for a small rock (object 29)?
  id: totrans-399
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Swap the chair on the right for a patch of toxic floor (object 48)?
  id: totrans-400
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: To understand which instruction places which object, you can either use the
    coordinates in your existing code or look up the object numbers in the objects
    dictionary (onscreen or in the listings in this chapter). Run your program to
    make sure it works.
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
- en: '**ARE YOU FIT TO FLY?**'
  id: totrans-402
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Check the following boxes to confirm that you’ve learned the key lessons in
    this chapter.
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
- en: '![Images](../images/box.jpg)  To get information from a dictionary, you use
    the key for that information. The key can be a word or a number and can also be
    stored in a variable.'
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
- en: '![Images](../images/box.jpg)  If you try to use a key that isn’t in the dictionary,
    you’ll cause an error.'
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
- en: '![Images](../images/box.jpg)  To avoid an error, check whether the key is in
    the dictionary before the program tries to use it.'
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
- en: '![Images](../images/box.jpg)  You can put lists inside dictionaries. Then you
    can use the dictionary key followed by the list index to get a particular item
    from the list. For example: planets["Earth"][1].'
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
- en: '![Images](../images/box.jpg)  The *Escape* game uses the objects dictionary
    to store information about all the objects in the game. Each item in the dictionary
    is a list.'
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
- en: '![Images](../images/box.jpg)  You can use the index number of that list to
    access the object’s image file, shadow image file, and long and short description.'
  id: totrans-409
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f0096-01.jpg)'
  id: totrans-410
  prefs: []
  type: TYPE_IMG
