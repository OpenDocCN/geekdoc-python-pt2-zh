<html><head></head><body>
		<section>
			<header>
				<h1 class="chapter"><span class="ChapterNumber"><span epub:type="pagebreak" id="Page_53" title="53"/>3</span><br/><span class="ChapterTitle">Introduction to Strings and Working with Text</span></h1>
			</header>
			<figure class="opener">
				<img alt="" src="image_fi/book_art/chapterart.png"/>
			</figure>
			<p class="ChapterIntro">In <span class="xref">Chapter 1</span>, you created a ‘Hello, World!’ string and printed it to the console, but Python can do far more than just print string data. In this chapter, you’ll use operators, functions, and methods to manipulate strings. Strings are fundamental data types common to most programming languages, and you’ll use them in almost all the programs you write. If you need to communicate information to your user, capture input from text fields, retrieve data from the web, or perform just about any task that involves text, you’ll be using strings.</p>
			<p>In this chapter, you’ll also learn how to use Processing’s text functions to render any string as text in the display window. Processing can draw text in various colors and styles, using different fonts, at different sizes and positions. You might use these features to paint with letters, label a graph, display a table of high scores, or construct an interactive interface.</p>
			<h2 id="h1-500969c03-0001"><span epub:type="pagebreak" id="Page_54" title="54"/>Strings</h2>
			<p class="BodyFirst">Before exploring Processing’s text-rendering functions, you’ll need a proper introduction to strings. By definition, a <em>string</em> contains a sequence of one or many characters. For example, ‘hello’ is a string that’s five characters long; it begins with an <em>h</em> and ends with an <em>o</em>. You already briefly encountered the string data type in <span class="xref">Chapter 1</span>, where you used it to define hexadecimal color values and print text messages to yourself in the console.</p>
			<p>
				To create a new ‘hello’ string and assign it to a variable named <code>greeting</code>, use the following code:</p>
			<pre><code>greeting = <span class="ProcessingPurple">'hello'</span></code></pre>
			<p>
				Python recognizes <code>hello</code> as a string because it’s wrapped in quotes. You can use single or double quotes, but always make sure you close them using the same type with which you opened them.</p>
			<p>
				In Python, you can manipulate strings in various ways. To convert <code>hello</code> to <code>Hello!</code>,<code> </code>you would make the first character uppercase and insert an exclamation mark at the end of the string. Python has many built-in features for performing those types of operations, and I cover some of the most useful features in this section.</p>
			<p>
				You’ll look at how to combine strings, and how to find, count, and extract specific sequences of characters. Most of those features work exclusively with the string data type. For instance, you cannot convert an integer or a floating-point value to uppercase, because those things are numbers. And if you tack an ! character to the end of a number, it’s not a number anymore; it’s a string with digit characters and an exclamation mark<span class="ColorText" style="color:#auto">.</span> On the other hand, you can’t divide a string by a number.</p>
			<p>
				The following example uses the division operator to divide the integer <code>6</code> by <code>3</code>, which prints a <code>2</code> in the console. But attempting to divide <code>'hello'</code> by <code>3</code> results in an error:</p>
			<pre><code><span class="ProcessingBlue">print</span>(6 / 3) <span class="ProcessingGray"># displays a 2</span><span class="ProcessingBlue">print</span>(<span class="ProcessingPurple">'hello'</span> / 3) <span class="ProcessingGray"># displays an error</span></code></pre>
			<p>
				Python cannot divide a string by an integer, so you get a <code>TypeError</code> message. However, certain mathematical operators do work on strings. For instance, <code>'hello' * 3</code> gives you <code>hellohellohello</code>. Later in this chapter, you’ll learn how to use the <code>+</code> operator to join strings.</p>
			<h3 id="h2-500969c03-0001">Creating Strings in Python</h3>
			<p class="BodyFirst">Let’s begin by creating a few new string variables, looking at the way Python deals with different kinds of quotation marks, and working around some issues you might encounter when creating strings.</p>
			<p>
				Start a new sketch and save it as <em>strings</em>. Add the following code:</p>
			<pre><code>greeting = <span class="ProcessingPurple">'Hello, World!'</span><span class="ProcessingBlue">print</span>(greeting)</code></pre>
			<p><span epub:type="pagebreak" id="Page_55" title="55"/>When you run the sketch, the <code>print()</code> function writes <code>Hello, World!</code> to the console.</p>
			<p>Recall that Python expects a string to begin and end with quotation marks, so what happens when the string itself contains a quote character? Add another string variable to see what happens when you have unpaired quotes:</p>
			<pre><code><span class="LiteralGray">. . .</span>
whatsup = <span class="ProcessingPurple">'What's up?'</span></code></pre>
			<p>
				Python interprets this string as <code>What</code>, ignoring everything after the apostrophe. Some dangling characters and an unpaired quote (<code>s up?'</code>) are left over. Run the sketch and observe the error message (<a href="#figure3-1" id="figureanchor3-1">Figure 3-1</a>).</p>
			<figure>
				<img alt="f03001" src="image_fi/500969c03/f03001.png"/>
				<figcaption>
					<p><a id="figure3-1">Figure 3-1</a>: An error caused by an apostrophe</p>
				</figcaption>
			</figure>
			<p>To fix this, use double quotes:</p>
			<pre><code>whatsup = <span class="ProcessingPurple">"What's up?"</span></code></pre>
			<p>
				Or, you can <em>escape</em> the apostrophe character by using a backslash:</p>
			<pre><code>whatsup = <span class="ProcessingPurple">'What\'s up?'</span></code></pre>
			<p>
				The backslash indicates that Python should treat the apostrophe as an ordinary character, not part of the language syntax. If you print the <code>whatsup</code> variable now, it displays this:</p>
			<pre><code>What's up?</code></pre>
			<p>Note that no backslash displays in the console output.</p>
			<p>
				The backslash is an escape character, so if you need to include a backslash in your string, you must prepend it with another backslash. For example, <code>print('\\')</code> displays a single backslash in the console.</p>
			<p>
				You’ve seen how to nest a single quote within a string delimited in double quotes. This works both ways, though. For example, add a new <code>question</code> variable that uses double quotes nested within single quotes:</p>
			<pre><code><span class="LiteralGray">greeting = 'Hello, World!'</span><span class="LiteralGray">print(greeting)</span><span epub:type="pagebreak" id="Page_56" title="56"/><span class="LiteralGray">whatsup = "What's up?"</span>
question = <span class="ProcessingPurple">'Is your name really "World"?'</span><span class="ProcessingBlue">print</span>(whatsup)<span class="ProcessingBlue">print</span>(question)</code></pre>
			<p>
				Run the sketch to confirm that it has no errors. The console should display the contents of the three <code>print</code> statements.</p>
			<h3 id="h2-500969c03-0002">Using Concatenation and String Formatting</h3>
			<p class="BodyFirst">The <code>+</code> operator performs arithmetic addition on integers and floats, but you also can use the <code>+</code> operator to concatenate multiple strings into a series or chain. <em>Concatenation</em> is programming terminology for <em>joining together</em>, and it’s useful for many tasks, such as chaining together words into sentences and paragraphs. Try this example in your sketch:</p>
			<pre><code><span class="LiteralGray">. . .</span>
all = greeting + whatsup + question<span class="ProcessingBlue">print</span>(all)</code></pre>
			<p>This should display the following line in the console:</p>
			<pre><code>Hello, World!What's up?Is your name really "World"?</code></pre>
			<p>Note that concatenation joins strings together precisely as they are defined, with no additional spaces, so you need to insert the required space characters explicitly.</p>
			<p>
				To fix the preceding output, edit the <code>all</code> variable line:</p>
			<pre><code><span class="LiteralGray">. . .</span>
all = greeting + <span class="ProcessingPurple">' '</span> + whatsup + <span class="ProcessingPurple">' '</span> + question<span class="LiteralGray">print(all)</span></code></pre>
			<p>The console should display the following:</p>
			<pre><code>Hello, World! What's up? Is your name really "World"?</code></pre>
			<p>The line now includes the spaces specified in the code.</p>
			<p>
				An alternative to concatenation is <em>string formatting</em>, and Python provides the <code>format()</code> method for this (I explain more about methods in <span class="xref">“String Methods” on page 60</span>). What you need to understand here is that <code>format()</code> works by substituting placeholder symbols with values, as opposed to chaining them together in a sequence. You’ll find that the concatenation operator is okay for simpler tasks, but it can be clumsy when you’re constructing lengthier and more intricate strings.</p>
			<p>
				Here’s the same line constructed using <code>format()</code>:</p>
			<pre><code><span class="LiteralGray">. . .</span>
all = <span class="ProcessingPurple">'{} {} {}'</span>.<span class="ProcessingBlue">format</span>(greeting, whatsup, question)<span class="LiteralGray">print(all)</span></code></pre>
			<p><span epub:type="pagebreak" id="Page_57" title="57"/>In this approach, Python substitutes each pair of curly brackets (<code>{}</code>) with its corresponding variable—that is, <code>greeting</code> for the first pair of curly brackets, <code>whatsup</code> for the second, and <code>question</code> for the third. This saves you from needing to insert each space character by using <code>+ ' ' +</code>.</p>
			<p>
				If the <code>format()</code> alternative doesn’t seem much simpler, consider this example that uses concatenation:</p>
			<pre><code>firstname = <span class="ProcessingPurple">'World'</span>
o2 = 21
hi = <span class="ProcessingPurple">"Hi! I'm "</span> + firstname + <span class="ProcessingPurple">". My atmosphere is "</span> + <span class="ProcessingBlue">str</span>(o2) + <span class="ProcessingPurple">"% oxygen."</span></code></pre>
			<p>
				If you print <code>hi</code>, you get <code>Hi! I'm World. My atmosphere is 21% oxygen</code>. With concatenation, you have to place your space characters carefully, and it’s tricky to read what the <code>hi</code> line is doing. Moreover, you have to wrap the <code>o2</code> variable in the <code>str()</code> function to convert the value from a number to a string; if you don’t, Python will attempt (and fail) to add an integer and a string arithmetically.</p>
			<p>
				Compare this to using the <code>format()</code> approach for the same line:</p>
			<pre><code>hi = <span class="ProcessingPurple">"Hi! I'm {}. My atmosphere is {}% oxygen."</span>.<span class="ProcessingBlue">format</span>(firstname, o2)</code></pre>
			<p>
				This provides a better idea of the result you’re going to get. The <code>format()</code> method also manages the conversion of numbers to strings. Use whichever approach works best for the task at hand.</p>
			<h3 id="h2-500969c03-0003">Working with String Length</h3>
			<p class="BodyFirst">The <code>len()</code> function returns the total number of characters in a string. You might use it to check whether a string contains more than 1 character or to verify that it fits into a tweet (280 characters). You can also use the <code>len()</code> function to find the total number of items in a list (<span class="xref">Chapter 7</span>) or dictionary (<span class="xref">Chapter 8</span>).</p>
			<p>
				The <code>len()</code> function accepts a single argument; try this using your <code>greeting</code> variable:</p>
			<pre><code><span class="ProcessingBlue">print</span>(<span class="ProcessingBlue">len</span>(greeting))</code></pre>
			<p>
				This should display 13, the total number of characters in the <code>greeting</code> string.</p>
			<p>So far, you’ve learned how to define new strings and construct strings from smaller strings, but you can do far more in Python. In the next section, you’ll learn how to manipulate strings by using slice notation and string methods.</p>
			<h2 id="h1-500969c03-0002">String Manipulation</h2>
			<p class="BodyFirst">Let’s add code to your working sketch so you can try some string manipulation methods. You’ll extract partial strings by using slice notation, convert between uppercase and lowercase characters, and find and count the <span epub:type="pagebreak" id="Page_58" title="58"/>occurrences of specific character sequences. You can use these techniques to automate the processes involved in handling string data—for example, to scan data for keywords, dissect strings, or shorten them. Feel free to experiment with values and arguments on your own to see how things respond.</p>
			<h3 id="h2-500969c03-0004">Slice Notation</h3>
			<p class="BodyFirst">Python <em>slice notation</em> provides a simple yet powerful means of extracting characters from strings. You can use slice notation to retrieve a single character or substring. A <em>substring</em> is any contiguous sequence of characters that form part of a longer string. For example, a string that’s a URL might begin with the substring <code>http://</code>.</p>
			<p>
				To experiment with slice notation on a new string variable named <code>url</code>, add this variable to your <em>strings</em> sketch:</p>
			<pre><code>url = <span class="ProcessingPurple">'http://www.nostarch.com'</span></code></pre>
			<p><span class="ColorText" style="color:#0E101A">You’ll specify the position (</span><em>index</em><span class="ColorText" style="color:#0E101A">) of the character(s) you want to retrieve by using a pair of square brackets (</span><code>[]</code><span class="ColorText" style="color:#0E101A">). </span>To keep things simple, let’s extract the first character in the <code>url</code> string. Note, however, that this indexing system is zero-based, meaning that the character indices start at 0, not 1. See <a href="#figure3-2" id="figureanchor3-2">Figure 3-2</a> as a reference for the character indices.</p>
			<figure>
				<img alt="f03002" src="image_fi/500969c03/f03002.png"/>
				<figcaption>
					<p><a id="figure3-2">Figure 3-2</a>: The string indexing system begins at 0.</p>
				</figcaption>
			</figure>
			<p>
				Use <code>0</code> (zero) to retrieve the first character:</p>
			<pre><code><span class="ProcessingBlue">print</span>(url[0]) <span class="ProcessingGray"># displays: h</span></code></pre>
			<p class="BodyContinued">The console should display an <code>h</code>.</p>
			<p>
				The index for the second character is <code>1</code>:</p>
			<pre><code><span class="ProcessingBlue">print</span>(url[1])<span class="ProcessingGray">      # displays: t</span></code></pre>
			<p class="BodyContinued">The console should display a <code>t</code>, the first <code>t</code> in <code>http</code>.</p>
			<p>
				Use a colon (<code>:</code>) to specify a range of characters. Use this to extract the <em>scheme</em> (<code>http</code>) along with the colon-slash-slash (<code>://</code>) in the URL string, which spans from index <code>0</code> up to index <code>7</code>:</p>
			<pre><code><span class="ProcessingBlue">print</span>(url[0:7]) <span class="ProcessingGray"># displays: http://</span></code></pre>
			<p>
				The <code>:7</code> to the right of the <code>0</code> retrieves the characters up to, but not including, the first <code>w</code>. But because your range begins at index <code>0</code>, you can omit the <code>0</code> in front of the colon to produce the same result:</p>
			<pre><code><span class="ProcessingBlue">print</span>(url[:7]) <span class="ProcessingGray"># displays: http://</span></code></pre>
			<p><span epub:type="pagebreak" id="Page_59" title="59"/>The colon precedes the index value (<code>7</code>), which means that Python must retrieve everything from the left/start of the string up to the seventh character.</p>
			<p>If you place the colon after the index, Python returns everything from the specified index to the end of the string. You can use this to retrieve everything to the right of the colon-slash-slash, which is the part of the URL you usually type into the browser address bar:</p>
			<pre><code><span class="ProcessingBlue">print</span>(url[7:]) <span class="ProcessingGray"># displays: www.nostarch.com</span></code></pre>
			<p>
				You now should see <code>www.nostarch.com</code> in your console. This is a combination of the URL’s <em>subdomain</em> (<code>www</code>), <em>domain</em> (<code>nostarch</code>), and <em>top-level </em>domain (<code>com</code>), separated by dot characters (<a href="#figure3-3" id="figureanchor3-3">Figure 3-3</a>).</p>
			<figure>
				<img alt="f03003" src="image_fi/500969c03/f03003.png"/>
				<figcaption>
					<p><a id="figure3-3">Figure 3-3</a>: The parts of a URL</p>
				</figcaption>
			</figure>
			<p>
				You can isolate each part of the URL with string-slicing operations. Assuming that the top-level domain (<code>com</code>) is always three characters, you can retrieve it by using an index of <code>-3</code> followed by a colon:</p>
			<pre><code><span class="ProcessingBlue">print</span>(url[-3:]) <span class="ProcessingGray"># displays: com</span></code></pre>
			<p>
				A negative value counts index positions starting from the end (right side) of a string, so <code>url[-3]</code> will retrieve just <code>c</code>. You can include a colon to retrieve the <code>c</code> and every character that follows it. No matter how long the URL, this code will always display the last three characters. Conversely, using <code>[:-3]</code>, with the colon to the left of <code>-3</code>, retrieves everything up to the third-to-last character (<code>http://www.nostarch.</code>).</p>
			<p>
				To extract the domain (<code>nostarch</code>), retrieve the substring between index <code>11</code> and <code>-4</code>:</p>
			<pre><code><span class="ProcessingBlue">print</span>(url[11:-4]) <span class="ProcessingGray"># displays: nostarch</span></code></pre>
			<p>
				This will adapt to any domain. For instance, if you change the <code>url</code> value to <code>http://www.nostarchpress.com</code>, Python prints <code>nostarchpress</code>. But this works only if the scheme is <em>http</em> and the subdomain is <em>www</em>. You can use string methods that will adapt to schemes, subdomains, and top-level domains of any length.</p>
			<p>This notation slices strings in a few other ways, but these should be sufficient for now. You can also use slice notation to extract items from lists and dictionaries, so you’ll encounter it again in the chapters that deal with those data types.</p>
			<h3 id="h2-500969c03-0005"><span epub:type="pagebreak" id="Page_60" title="60"/>String Methods</h3>
			<p class="BodyFirst"><em>String methods</em> perform various operations on strings, such as converting characters between uppercase and lowercase, and searching for and counting characters and substrings. You’ll use string methods in your sketch to verify that your URL contains a scheme, subdomain, domain, and top-level domain. This is not an exhaustive review of string methods, but it will familiarize you with how some of them operate. Any decent Python reference will cover the rest.</p>
			<h4 id="h3-500969c03-0001">Methods vs. Functions</h4>
			<p class="BodyFirst">A Python <em>method</em> looks and behaves much like a function. You call a function by its name—like <code>print()</code>—and it performs a predefined task for you. Methods work similarly, but they’re associated with specific objects, such as strings for string methods. A function may or may not accept arguments, depending on the function you’re using; the same is true for methods.</p>
			<p>
				As an example, let’s contrast the <code>len()</code> <em>function</em> with a <em>method</em>. There’s no <code>len()</code> method, but we’ll pretend there is to focus on the syntactical differences between how you write a method versus a function.</p>
			<p>
				Recall that the <code>len()</code> function returns the total number of characters in any string:</p>
			<pre><code>urllength = <span class="ProcessingBlue">len</span>(url)</code></pre>
			<p>
				The <code>len()</code> function takes the <code>url</code> argument and returns the length of the string it holds. The total length of the <code>url</code> string is 23 characters, so the variable <code>urllength</code> is equal to the integer <code>23</code>.</p>
			<p>
				Methods begin with a dot (<code>.</code>) and are appended to data you want to affect. If the <code>len()</code> function were a method, you would write it like this:</p>
			<pre><code>urllength = url.<span class="ProcessingBlue">len</span>()</code></pre>
			<p>
				Next, you’ll use the <code>upper()</code> method to convert string characters to uppercase.</p>
			<h4 id="h3-500969c03-0002">upper() and lower() Methods</h4>
			<p class="BodyFirst">The <code>upper()</code> method returns a version of the string with all the lowercase characters converted to uppercase. It takes no arguments. Here’s an example:</p>
			<pre><code>urlupper = url.<span class="ProcessingBlue">upper</span>()
print(urlupper) <span class="ProcessingGray"># HTTP://WWW.NOSTARCH.COM</span></code></pre>
			<p>
				The <code>upper()</code> method is a string method, so you must append it to a string. The syntax might look similar to <code>format()</code>, which is the method you used to replace curly brackets with text values in strings earlier. In this instance, the variable <code>urlupper</code> is equal to <code>HTTP://WWW.NOSTARCH.COM</code>. This method might be <span epub:type="pagebreak" id="Page_61" title="61"/>useful to emphasize certain key phrases when you’re unable to use bold or italics. The <code>lower()</code> method is the inverse of <code>upper()</code>, and it converts all uppercase characters to lowercase.</p>
			<h4 id="h3-500969c03-0003">count() Method</h4>
			<p class="BodyFirst">Now, let’s verify that the <code>url</code> string contains a <em>www</em> subdomain. The <code>count()</code> method returns the total number of times that a character, or character sequence, appears in a string, and it needs an argument to indicate which character(s) you want to count. For instance, you can use the <code>count()</code> method to verify that the URL contains three instances of the letter <em>w</em>:</p>
			<pre><code><span class="ProcessingBlue">print</span>(url.<span class="ProcessingBlue">count</span>(<span class="ProcessingPurple">'w'</span>)) <span class="ProcessingGray"># 3</span></code></pre>
			<p>
				Your console should confirm that there are three <em>w</em> characters. But it doesn’t indicate whether they are contiguous; that letter might be scattered throughout the string. To be more explicit, use an argument of <code>'www'</code>:</p>
			<pre><code><span class="ProcessingBlue">print</span>(url.<span class="ProcessingBlue">count</span>(<span class="ProcessingPurple">'www'</span>)) <span class="ProcessingGray"># 1</span></code></pre>
			<p>
				The substring <code>www</code> appears only once in this string. Still, you can’t be sure that this is the subdomain. What if the domain part of the URL has a <em>www</em> in it? You could be more specific and count the instances of <code>http://www</code>, but HTTP isn’t the only scheme for web addresses. For example, <em>HTTPS</em>, a secure extension of HTTP, is used to encrypt communication over computer networks. To make matters more complicated, a subdomain can be something other than <em>www</em>.</p>
			<h4 id="h3-500969c03-0004">find() Method</h4>
			<p class="BodyFirst">Let’s try another approach. The <code>find()</code> method returns the index of any character or substring. Note how the colon-slash-slash (<code>://</code>) splits the scheme and subdomain. Use the <code>find()</code> method to retrieve the index of the colon-slash-slash. Add code to find the index, store it in a variable named <code>css</code>, and then use this to extract the scheme:</p>
			<pre><code>css = url.find(<span class="ProcessingPurple">'://'</span>) <span class="ProcessingGray"># 4</span>
scheme = url[:css] <span class="ProcessingGray"># http</span></code></pre>
			<p>
				The <code>find()</code> method retrieves the index for the first occurrence of any <code>://</code> in the <code>url</code> string. More specifically, it’s the index of the first character in the substring, the colon. If the substring cannot be found, the result is a <code>-1</code>. In this instance, it’s an index of <code>4</code>. Note that this argument is case-sensitive.</p>
			<p>
				The subdomain sits between the colon-slash-slash and the first dot. Use the <code>find()</code> method to locate the index of the first dot, and use slice notation to extract and assign the subdomain to a variable named <code>subdomain</code>:</p>
			<pre><code>dot1 = url.find(<span class="ProcessingPurple">'.'</span>) <span class="ProcessingGray"># 10</span>
subdomain = url[css+3:dot1] <span class="ProcessingGray"># www</span></code></pre>
			<p><span epub:type="pagebreak" id="Page_62" title="62"/>The <code>css+3</code> is equal to <code>7</code>, the index of the first <em>w</em> in <em>www</em>. I’ve added the <code>3</code> to offset the starting index by the length of the colon-slash-slash. This will work for <em>www</em> or any other subdomain (although you will encounter issues if there’s no subdomain).</p>
			<p>
				The top-level domain (<em>com</em>) spans from the second dot to the end of the string. If a character or substring appears multiple times—like the dot—you can provide a second <code>find()</code> argument indicating the index where the search should begin. You can use the <code>dot1</code> variable for this offset, but you need to add <code>1</code> to start from the character immediately after it. Assign the top-level domain to a variable named <code>tld</code>:</p>
			<pre><code>dot2 = url.find(<span class="ProcessingPurple">'.'</span>, dot1+1) <span class="ProcessingGray"># 19</span>
tld = url[dot2 + 1:] <span class="ProcessingGray"># com</span></code></pre>
			<p>
				The <code>dot2</code> variable is equal to <code>19</code>, the index of the second dot in your URL. In the <code>tld</code> line, I’ve added <code>1</code> to the start index argument (of 19), because I don’t want the dot in <em>.com</em>.</p>
			<p>
				The <code>find()</code> method can accept an additional third argument to indicate where along the string the search should terminate.</p>
			<p>
				Finally, assign the domain (<em>nostarch</em>) to a variable named <code>domain</code>:</p>
			<pre><code>domain = url[dot1+1:dot2] <span class="ProcessingGray"># nostarch</span></code></pre>
			<p>
				The domain substring sits between the first and second dot, but add <code>1</code> to <code>dot1</code> to avoid retrieving the first dot character.</p>
			<p>You’ve now separated a URL into parts by using slice notation. Combining slice notation with string methods provides a more robust way of doing this, so your program can handle schemes, subdomains, and top-level domains of varying lengths.</p>
			<aside epub:type="sidebar">
				<div class="top hr">
					<hr/>
				</div>
				<section class="note">
					<h2><span class="NoteHead">NOTE</span></h2>
					<p>
							For more powerful and dynamic find operations, you can use <em>regular expressions</em> (also known as <em>regex</em>). Regular expressions are a popular way to define search patterns using characters. Python and many other programming languages include support for regex, but this book does not cover that topic.</p>
					<div class="bottom hr">
						<hr/>
					</div>
				</section>
			</aside>
			<p>In the next section, you’ll learn how to use Processing text functions to display strings as text in the display window, so you’re no longer constrained to printing strings in the console. You can use text decoratively, to label elements in your visual output, or provide feedback to users.</p>
			<h2 id="h1-500969c03-0003">Typography</h2>
			<p class="BodyFirst"><em>Typography</em> refers to the arranging and styling of text (or <em>type</em>) to make it more readable and aesthetically appealing. Typographical treatment can truly make or break a design. For instance, headings work best if they stand out from the rest of your text; letter spacing should be tighter than word spacing, and you probably agree that cursive fonts are not ideal for road signs. Although I wouldn’t recommend that you lay out a book in Processing, it does offer useful functions for controlling the appearance of text.</p>
			<h3 id="h2-500969c03-0006"><span epub:type="pagebreak" id="Page_63" title="63"/>Fonts</h3>
			<p class="BodyFirst">Fonts comprise many glyphs; a <em>glyph</em> is any individual character, such as <em>A</em>, <em>a</em>, or <em>?</em>. If you don’t specify which font Processing should use to draw text, it relies on a predefined default. Your computer includes a bundle of preinstalled fonts, but the selection varies among operating systems. You can also install additional fonts on your system to expand your selection. However, you might run into problems if you’re moving or sharing sketches between computers (with different collections of fonts). If a sketch requires a specific font, and it’s not installed, Processing cannot load it. To avoid these issues, I’ll explain how to bundle font files with your sketches.</p>
			<p>Because early computer fonts were pixel-based, they required a separate set of glyphs for each font size. For example, if a font had three sizes and an italic variant, it included six complete sets of character graphics. However, modern fonts are vector-based, which is why you can scale text to any size you like without encountering pixelation. You no longer require a file for every font size, but bold and italic variants are still separate font files.</p>
			<p>
				By default, Processing will render text in the display window by using a standard <em>sans serif</em> font. In font terminology, <em>serifs</em> are the small lines attached to the tips of characters (circled in <a href="#figure3-4" id="figureanchor3-4">Figure 3-4</a>). The term <em>sans</em> means <em>without</em>; hence, a sans serif font has no serifs.</p>
			<figure>
				<img alt="f03004" src="image_fi/500969c03/f03004.png"/>
				<figcaption>
					<p><a id="figure3-4">Figure 3-4</a>: Classifying fonts</p>
				</figcaption>
			</figure>
			<p><em>Monospace</em> fonts may also be serifed, but what distinguishes them is that each character occupies the same amount of horizontal space. <em>Proportionately spaced</em> fonts (like the serif and sans serif examples in <a href="#figure3-4">Figure 3-4</a>) make type more legible by using built-in metrics that specify how far a given character should sit from its neighbors. For example, having an <em>i</em> and <em>m</em> character occupy the same size “container” results in awkward spacing issues, which many monospaced fonts attempt to resolve by adding oversize serifs to the <em>i </em>and cramping the <em>m</em> (<a href="#figure3-5" id="figureanchor3-5">Figure 3-5</a>). This also means that monospace characters vertically align across multiple lines of text.</p>
			<span epub:type="pagebreak" id="Page_64" title="64"/>
			<figure>
				<img alt="f03005" src="image_fi/500969c03/f03005.png"/>
				<figcaption>
					<p><a id="figure3-5">Figure 3-5</a>: Monospace characters have a fixed width</p>
				</figcaption>
			</figure>
			<p>That said, monospace fonts are more legible in certain situations. For instance, a monospace font is useful when you need to have characters line up in columns:</p>
			<pre><code>Sam  Jan  Amy  Tim | Total
99   359  11   3   | 472</code></pre>
			<p>This characteristic makes monospace fonts preferable for writing code, which is why the default font for the Processing editor (and every other code editor) is monospaced.</p>
			<h3 id="h2-500969c03-0007">Text Functions</h3>
			<p class="BodyFirst">Let’s create a new sketch to experiment with Processing text functions. You’ll use these functions to draw text in the display window and to set your font, font size, line spacing, and text alignment.</p>
			<p>
				Start a new sketch and save it as <em>typography</em>. Add the following code to get started:</p>
			<pre><code><span class="ProcessingBlue">size</span>(500, 320)<span class="ProcessingBlue">background</span>(<span class="ProcessingPurple">'#004477'</span>)<span class="ProcessingBlue">fill</span>(<span class="ProcessingPurple">'#FFFFFF'</span>)<span class="ProcessingBlue">stroke</span>(<span class="ProcessingPurple">'#0099FF'</span>)<span class="ProcessingBlue">strokeWeight</span>(3)</code></pre>
			<p>
				This code sets the background to blue and the fill color to white. As you’ll soon see, the <code>fill()</code> color will affect the text you draw. Any strokes are pale blue and 3 pixels wide.</p>
			<p>
				A <em>pangram</em> is a sentence that uses every letter in a given alphabet at least once. Create a variable called <code>pangram</code> that holds a perfect English pangram:</p>
			<pre><code>pangram = <span class="ProcessingPurple">'Quartz jock vends BMW glyph fix'</span></code></pre>
			<p>
				From here on, you’ll render different versions of the string stored in <code>pangram</code>, as shown in <a href="#figure3-6" id="figureanchor3-6">Figure 3-6</a>.</p>
			<p>
				To recreate <a href="#figure3-6">Figure 3-6</a>, begin with the <code>text()</code> function, which draws text to the display window, the font color of which is determined by the active fill:</p>
			<pre><code><span class="ProcessingBlue">text</span>(pangram, 0, 50)</code></pre>
			<span epub:type="pagebreak" id="Page_65" title="65"/>
			<figure><img alt="f03006" src="image_fi/500969c03/f03006.png"/><figcaption>
					<p><a id="figure3-6">Figure 3-6</a>: You will render these versions of the same pangram.</p>
				</figcaption>
			</figure>
			<p>
				Run the sketch. You should see the first (top) version of the pangram rendered in the display window. The arguments <code>(pangram, 0, 50)</code> represent the string value, x-coordinate, and y-coordinate, respectively. You can add additional third and fourth arguments to specify a width and height for the text area, which you’ll use shortly.</p>
			<p>
				The <code>textSize()</code> function sets the font size (in pixels) for all subsequent <code>text()</code> functions. Add the following code to display the second version of the pangram:</p>
			<pre><code><span class="ProcessingBlue">textSize</span>(20)<span class="ProcessingBlue">text</span>(pangram, 0, 100)</code></pre>
			<p>Run the sketch to confirm that you have a smaller and larger version of the pangram.</p>
			<p>
				Observe that the vertical, pale blue line (<a href="#figure3-6">Figure 3-6</a>) precisely marks the end of the longest/larger line of text. The purpose of adding this line is to explore the <code>textWidth()</code> function, which you use to calculate the width of any text you might display. In this instance, you want to measure the width of the second pangram and draw a vertical line at the end of it. Use <code>textWidth()</code> functions as arguments for a line function:</p>
			<pre><code><span class="ProcessingBlue">line</span>( <span class="ProcessingBlue">textWidth</span>(pangram), 0, <span class="ProcessingBlue">textWidth</span>(pangram), <span class="ProcessingRaspberry">height</span>
)</code></pre>
			<p>The width of the pangram now serves as the starting as well as ending x-coordinate for the line; the starting and ending y-coordinates are the top and bottom edges of the display window, respectively. This will draw a pale blue vertical rule, the height of the display window, that marks the end of the second pangram.</p>
			<p><span epub:type="pagebreak" id="Page_66" title="66"/>You’ll render the third pangram in a serif font. To switch to a different font, you need to know the font name to reference. To list the fonts installed on your computer, use <code>PFont.list()</code>:</p>
			<pre><code><span class="ProcessingBlue">print</span>(<span class="ProcessingOrange">PFont</span>.list())</code></pre>
			<p>
				Scroll through the console output to see if you can spot <code>Cambria</code> or <code>Georgia</code>. Both are serif fonts. If neither Cambria nor Georgia is installed on your system, you won’t find them in the list. In that case, any other serif font will work, such as Times New Roman.</p>
			<p>
				Processing uses its own font format, so you need to convert your font before you can use it, using the <code>createFont()</code> function.</p>
			<p>
				Add a <code>createFont()</code> line that includes a string argument with the name of the serif font you will use:</p>
			<pre><code>seriffont = <span class="ProcessingBlue">createFont</span>(<span class="ProcessingPurple">'Cambria'</span>, 20)</code></pre>
			<p>
				The <code>createFont()</code> function takes two arguments: a font name (as it appears in the console listing) and point size. The preceding line assigns the converted font to a variable named <code>seriffont</code>, which you’ll use in the next step.</p>
			<aside epub:type="sidebar">
				<div class="top hr">
					<hr/>
				</div>
				<section class="box">
					<h2>Loading Font Files Directly</h2>
					<p class="BoxBodyFirst">The fonts listed by <code>PFont.list</code><code>()</code> reside somewhere on your computer, but the location varies among systems. If you know how to locate these files, it’s a good idea to place any you use—TrueType Font (TTF) or OpenType Font (OTF)—in your sketch’s <em>data</em> folder, because not every computer is likely to have the fonts you’ve used installed, or perhaps you’ll need to reopen this sketch sometime in the future on a freshly installed system. If you’ve downloaded font files from the web, place a copy of them directly in the <em>data</em> folder.</p>
					<p>
						To load fonts directly from the sketch’s <em>data</em> subfolder, reference the full filename. Here’s an example:</p>
					<pre><code>somefont = <span class="ProcessingBlue">createFont</span>(′<var>font_name.ttf</var>′, 20)</code></pre>
					<p>Be sure to include the file extension.</p>
					<div class="bottom hr">
						<hr/>
					</div>
				</section>
			</aside>
			<p>
				To activate the new font, use <code>textFont()</code>. Then, draw the pangram once more (the third version) to confirm that it’s working:</p>
			<pre><code><span class="ProcessingBlue">textFont</span>(seriffont)<span class="ProcessingBlue">text</span>(pangram, 0, 150)</code></pre>
			<p>
				The <code>textFont()</code> function accepts a single argument, a Processing-readied font. All subsequent <code>text()</code> functions will use the <code>seriffont</code> until Processing encounters another <code>textFont()</code> function.</p>
			<p><span epub:type="pagebreak" id="Page_67" title="67"/>The <code>textLeading()</code> function controls the leading of your text. <em>Leading</em> (which rhymes with <em>wedding</em>) is the typographic term to describe the spacing between each line of text.</p>
			<p>
				The <code>textAlign()</code> function controls text alignment; you can use an argument of <code>LEFT</code>, <code>CENTER</code>, or <code>RIGHT</code> to set the horizontal alignment of your text.</p>
			<p>
				You’ll use the <code>textLeading()</code> and <code>textAlign()</code> functions to render the bottom two (fourth and fifth) versions of the pangram in <a href="#figure3-6">Figure 3-6</a>. Add a left- and right-aligned pangram:</p>
			<pre><code><span aria-label="annotation1" class="CodeAnnotationHang">1</span><span class="ProcessingBlue"> textLeading</span>(10)<span class="ProcessingBlue">text</span>(pangram, 0, 200, 250, 100)<span class="ProcessingBlue">textAlign</span>(<span class="ProcessingKhaki">RIGHT</span>)<span class="ProcessingBlue">text</span>(pangram, 0, 250, 250, 100)</code></pre>
			<p>
				The first pangram is left-aligned because that’s the Processing default. I’ve added width and height arguments to the <code>text()</code> functions to invoke word wrapping. Each pangram is constrained to its own rectangular area that’s 250 pixels wide by 100 pixels high. If a line of text exceeds the width of 250 pixels, Processing automatically pushes the words that don’t fit onto a new line. If any lines even partially exceed the height of the text area (100 pixels), you do not see them, although this doesn’t happen here. The leading is reduced to 10 pixels <span aria-label="annotation1" class="CodeAnnotation">1</span>, causing the lines to overlap. Ordinarily, the leading value is proportionate to the font size.</p>
			<p>
				Just like fill, stroke, and many other Processing attributes, the text parameters you set remain in effect until you specify otherwise. But if you adjust the text size—using another <code>textSize()</code> function—the leading will reset to a proportional value.</p>
			<h2 id="h1-500969c03-0004">Summary</h2>
			<p class="BodyFirst">This brief introduction explored manipulating strings by using Python’s slice notation and string methods, and drawing text in the display window with Processing’s <code>text()</code> function. Processing’s typography functions allow you to control font size, horizontal alignment, line spacing/leading, and font selection. You’ll be using string methods and text functions in many of the tasks to come.</p>
			<p>
				In <span class="xref">Chapter 4</span>, you’ll explore topics including control flow and conditional statements—techniques that allow you to write programs that can skip, jump to, and repeat lines of code. These tools are helpful because they let you change the order of your code’s execution, and whether it executes at all, based on specific rules and values.</p>
		</section>
	</body></html>