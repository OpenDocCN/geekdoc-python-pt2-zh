<html><head></head><body>
<h2 class="h2" id="appc"><span epub:type="pagebreak" id="page_249"/><strong><span class="blue"><span class="big">C</span></span><br/>DEBUGGING YOUR LISTINGS</strong></h2>
<div class="image1"><img src="../images/common01.jpg" alt="image"/></div>
<p class="noindent">Some of the listings in this book might not work for you the first time. Don’t be put off! This is normal when programming, even for experienced coders. It’s easy to overlook details that will make a huge difference to the program. Fixing errors in a program is called <em>debugging</em>.</p>
<p class="indent">To minimize problems, I’ve kept the listings as short as possible, so if something doesn’t work in a listing, you won’t have to check many instructions. I’ve also included warnings in the text when there’s anything particularly tricky that you should look out for.</p>
<p class="indent">Remember that if you can’t work out how to fix a program, you can use my version of that listing that you downloaded in the book’s resources (see “<a href="intro.xhtml#lev11">What’s in the ZIP File</a>” on <a href="intro.xhtml#page_8">page 8</a>). If you’ve modified the program, try copying and pasting the new bits from my listing into your program.</p>
<p class="indent"><span epub:type="pagebreak" id="page_250"/>In this appendix, I’ve compiled some tips to help you fix any programs that aren’t working for you. When Python spots an error, it usually shows you the line in the program where it first noticed something was wrong. That isn’t always the line where the mistake actually is: it’s just how far Python got before it noticed a problem. If the line shown looks okay, check the previous line first and then check the other new instructions in the listing for mistakes.</p>
<h3 class="h3" id="lev168"><strong>INDENTATION</strong></h3>
<p class="noindent">Indentation is used to tell Python which bits of the program belong together. For example, all the instructions that belong to a function need to be indented underneath the <code>def</code> instruction that defines the function. Instructions that belong to a <code>while</code>, <code>for</code>, <code>if</code>, or <code>else</code> command need to be indented too. Listing C-1 provides an example, part of the <code>get_floor_type()</code> function.</p>
<pre>   --<span class="codeitalic1">snip</span>--<br/><span class="ent">➊</span> <span class="orange">def</span> <span class="blue">get_floor_type</span>():<br/><span class="ent">➋</span>     <span class="orange">if</span> current_room <span class="orange">in</span> outdoor_rooms:<br/><span class="ent">➌</span>         <span class="orange">return</span> 2 <span class="red"># soil</span><br/><span class="ent">➍</span>     <span class="orange">else</span>:<br/><span class="ent">➎</span>         <span class="orange">return</span> 0 <span class="red"># tiled floor</span>       <br/>   --<span class="codeitalic1">snip</span>--</pre>
<p class="listing" id="appclist1"><em>Listing C-1: An excerpt from the game listing, showing indentation levels</em></p>
<p class="indent">All the instructions belong to the function <code>get_floor_type()</code> <span class="ent">➊</span>, so they’re all indented by at least four spaces (see <span class="ent">➋</span> and <span class="ent">➍</span>). The <code>return</code> instructions (<span class="ent">➌</span> and <span class="ent">➎</span>) also belong to the <code>if</code> <span class="ent">➋</span> and <code>else</code> <span class="ent">➍</span> commands above them, so they’re indented by another four spaces, making eight spaces in total. When you add the colon at the end of the line when typing in the <code>def</code>, <code>if</code>, and <code>else</code> instructions, the indentation on the next line is added automatically in IDLE. Use the <small>DELETE</small> key to remove indentation you don’t need.</p>
<p class="indent">If you get the indentation level wrong for some instructions, the program might behave strangely or simply run slower, even if Python doesn’t report any errors. So it’s worth double-checking your indentation levels.</p>
<p class="indent">If Python does give an error that shows it expected an indented block, it means you haven’t indented something that you should have. If Python tells you there’s an unexpected indent, you’ve added too many spaces at the start of the instruction, or you might have instructions indented at different levels that should be lined up. In this book, I’ve used four spaces for each level of indentation.</p>
<h3 class="h3" id="lev169"><span epub:type="pagebreak" id="page_251"/><strong>CASE SENSITIVITY</strong></h3>
<p class="noindent">Python is case sensitive, which means it matters whether you use uppercase (ABC…) or lowercase (abc…) letters. Most of the time, you should use lowercase when writing Python code. Here are the exceptions:</p>
<ul>
<li class="noindent">The values <code>True</code>, <code>False</code>, and <code>None</code> have a capital letter at the start. When you type them correctly, they’ll be orange in IDLE.</li>
<li class="noindent">Some of the variable, dictionary, and list names in the program are uppercase, such as <code>TILE_SIZE</code> and <code>PLAYER</code>. If your capitalization is inconsistent, you might get an error message saying that a particular name is not defined. Python doesn’t recognize two names with different capitalization as the same name. (Check for spelling errors in the name too.)</li>
<li class="noindent">Anything inside quotation marks may vary in case. This is text the program uses to do something and is often written so it looks correct when people read it.</li>
<li class="noindent">Python ignores anything after a <code>#</code> symbol on the same line, so you can use whatever capitalization you like there.</li>
</ul>
<h3 class="h3" id="lev170"><strong>PARENTHESES AND BRACKETS</strong></h3>
<p class="noindent">Check that you’re using the correct bracket shapes in the correct order, especially if Python tells you there’s a problem with something in a list or dictionary:</p>
<ul>
<li class="noindent">Parentheses <code>()</code> are used for tuples and for giving information to a function. For example, the <code>range()</code>, <code>print()</code> and <code>len()</code> functions use parentheses. So do our own functions in the <em>Escape</em> game, such as <code>remove_object()</code> and <code>draw_image()</code>.</li>
<li class="noindent">Square brackets <code>[]</code> mark the start and the end of a list. Sometimes, you might have a list inside another list, so you’ll have several pairs.</li>
<li class="noindent">Curly brackets <code>{}</code> mark the start and the end of a dictionary.</li>
</ul>
<h3 class="h3" id="lev171"><strong>COLONS</strong></h3>
<p class="noindent">When the code line begins with <code>for</code>, <code>while</code>, <code>if</code>, <code>else</code> or <code>def</code>, it needs a colon (<code>:</code>) at the end of it. A colon also separates the key from the data in a dictionary. The <em>Escape</em> listing doesn’t use semicolons (<code>;</code>), so if there’s one in your code, change it to a colon.</p>
<h3 class="h3" id="lev172"><span epub:type="pagebreak" id="page_252"/><strong>COMMAS</strong></h3>
<p class="noindent">Items in a list or tuple need commas between them. When adding new lines to a list, make sure you include a comma after the last item before adding new items. Look for patterns in the data to help you spot any mistakes involving commas. For example, each list in the <code>props</code> dictionary and <code>recipes</code> list has three numbers in it.</p>
<h3 class="h3" id="lev173"><strong>IMAGES AND SOUNDS</strong></h3>
<p class="noindent">If Python tells you that no images or sounds directory was found, check that you’ve downloaded the files and are saving your files in the right place. See “<a href="intro.xhtml#lev8">Downloading the Game Files</a>” on <a href="intro.xhtml#page_7">page 7</a> and <a href="ch01.xhtml#ch01list1">Listing 1-1</a> on <a href="ch01.xhtml#page_19">page 19</a>.</p>
<h3 class="h3" id="lev174"><strong>SPELLING</strong></h3>
<p class="noindent">IDLE’s color coding can help you spot spelling errors in some instructions. Check that the colors on your screen match the colors in the book. Be careful when you’re spelling variables and lists: any mistakes might cause the program to stop or behave strangely.</p>
</body></html>