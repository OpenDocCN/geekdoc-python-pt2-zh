- en: '**A'
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**A'
- en: 'ESCAPE: THE COMPLETE GAME LISTING**'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 'ESCAPE: 完整游戏代码**'
- en: '![image](../images/common01.jpg)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/common01.jpg)'
- en: This appendix shows the final listing for the *Escape* game. You can use it
    as a reference to see where to place particular functions and sections, or read
    through it if you want to see the whole listing in one place. This listing doesn’t
    include the temporary sections you wrote while building the game, such as the
    EXPLORER section. It just contains the code that is in the final game.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本附录展示了 *Escape* 游戏的最终代码。你可以将其作为参考，查看在哪些位置放置特定的函数和代码块，或者如果你想一次性查看完整代码，也可以通读一遍。此代码不包括在构建游戏时编写的临时部分，比如
    EXPLORER 部分。它只包含最终游戏中的代码。
- en: Remember that you can also download the *escape.py* listing and read it in IDLE,
    which lets you search it by pressing CTRL-F.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，你也可以下载 *escape.py* 文件并在 IDLE 中查看，通过按 CTRL-F 进行搜索。
- en: I’ve changed PLAYER_NAME to “Captain” in this listing. When you’re building
    or customizing the game, you can use your own name (see ➊ in [Listing 4-1](ch04.xhtml#ch04list1)
    on [page 63](ch04.xhtml#page_63)).
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 我已将 PLAYER_NAME 更改为 “Captain” 在此代码中。当你构建或自定义游戏时，你可以使用你自己的名字（参见 [Listing 4-1](ch04.xhtml#ch04list1)
    中的 ➊，位于 [第 63 页](ch04.xhtml#page_63)）。
- en: To test this project, I rebuilt the game using the instructions in this book.
    This game listing has been copied from game code that has been tested to completion
    on Windows, the Raspberry Pi 3 Model B+, and the Raspberry Pi 2 Model B.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 为了测试这个项目，我使用本书中的说明重新构建了游戏。这个游戏代码来自已经在 Windows、Raspberry Pi 3 Model B+ 和 Raspberry
    Pi 2 Model B 上测试完成的游戏代码。
- en: Escape - A Python Adventure
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Escape - 一个 Python 冒险游戏
- en: by Sean McManus / www.sean.co.uk
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: by Sean McManus / www.sean.co.uk
- en: Art by Rafael Pimenta
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Art by Rafael Pimenta
- en: Typed in by PUT YOUR NAME HERE
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Typed in by PUT YOUR NAME HERE
- en: import time, random, math
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: import time, random, math
- en: '###############'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: 'VARIABLES ##'
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '变量 ##'
- en: '###############'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: 'WIDTH = 800 #window size'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 'WIDTH = 800 # 窗口大小'
- en: HEIGHT = 800
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: HEIGHT = 800
- en: '#PLAYER variables'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '#PLAYER 变量'
- en: 'PLAYER_NAME = "Captain" # change this to your name!'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 'PLAYER_NAME = "Captain" # 将此修改为你的名字！'
- en: 'FRIEND1_NAME = "Karen" # change this to a friend''s name!'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 'FRIEND1_NAME = "Karen" # 将此修改为朋友的名字！'
- en: 'FRIEND2_NAME = "Leo" # change this to another friend''s name!'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 'FRIEND2_NAME = "Leo" # 将此修改为另一个朋友的名字！'
- en: 'current_room = 31 # start room = 31'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 'current_room = 31 # 起始房间 = 31'
- en: top_left_x = 100
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: top_left_x = 100
- en: top_left_y = 150
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: top_left_y = 150
- en: DEMO_OBJECTS = [images.floor, images.pillar, images.soil]
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: DEMO_OBJECTS = [images.floor, images.pillar, images.soil]
- en: LANDER_SECTOR = random.randint(1, 24)
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: LANDER_SECTOR = random.randint(1, 24)
- en: LANDER_X = random.randint(2, 11)
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: LANDER_X = random.randint(2, 11)
- en: LANDER_Y = random.randint(2, 11)
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: LANDER_Y = random.randint(2, 11)
- en: TILE_SIZE = 30
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: TILE_SIZE = 30
- en: player_y, player_x = 2, 5
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: player_y，player_x = 2，5
- en: game_over = False
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: game_over = False
- en: PLAYER = {
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: PLAYER = {
- en: '"left": [images.spacesuit_left, images.spacesuit_left_1,'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '"left": [images.spacesuit_left，images.spacesuit_left_1，'
- en: images.spacesuit_left_2, images.spacesuit_left_3,
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: images.spacesuit_left_2，images.spacesuit_left_3，
- en: images.spacesuit_left_4
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: images.spacesuit_left_4
- en: '],'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '],'
- en: '"right": [images.spacesuit_right, images.spacesuit_right_1,'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '"right": [images.spacesuit_right，images.spacesuit_right_1，'
- en: images.spacesuit_right_2, images.spacesuit_right_3,
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: images.spacesuit_right_2，images.spacesuit_right_3，
- en: images.spacesuit_right_4
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: images.spacesuit.right_4
- en: '],'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '],'
- en: '"up": [images.spacesuit_back, images.spacesuit_back_1,'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '"up": [images.spacesuit_back，images.spacesuit_back_1，'
- en: images.spacesuit_back_2, images.spacesuit_back_3,
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: images.spacesuit_back_2，images.spacesuit_back_3，
- en: images.spacesuit_back_4
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: images.spacesuit_back_4
- en: '],'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '],'
- en: '"down": [images.spacesuit_front, images.spacesuit_front_1,'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '"down": [images.spacesuit.front，images.spacesuit.front_1，'
- en: images.spacesuit_front_2, images.spacesuit_front_3,
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: images.spacesuit.front_2，images.spacesuit.front_3，
- en: images.spacesuit_front_4
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: images.spacesuit_front_4
- en: ']'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: ']'
- en: '}'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: player_direction = "down"
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: player_direction = "down"
- en: player_frame = 0
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: player_frame = 0
- en: player_image = PLAYER[player_direction][player_frame]
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: player_image = PLAYER[player_direction][player_frame]
- en: player_offset_x, player_offset_y = 0, 0
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: player_offset_x，player_offset_y = 0，0
- en: PLAYER_SHADOW = {
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: PLAYER_SHADOW = {
- en: '"left": [images.spacesuit_left_shadow, images.spacesuit_left_1_shadow,'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '"left": [images.spacesuit_left_shadow，images.spacesuit_left_1_shadow，'
- en: images.spacesuit_left_2_shadow, images.spacesuit_left_3_shadow,
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: images.spacesuit_left_2_shadow，images.spacesuit_left_3_shadow，
- en: images.spacesuit_left_3_shadow
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: images.spacesuit_left_3_shadow
- en: '],'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '],'
- en: '"right": [images.spacesuit_right_shadow, images.spacesuit_right_1_shadow,'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '"right": [images.spacesuit_right_shadow，images.spacesuit_right_1_shadow，'
- en: images.spacesuit_right_2_shadow,
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: images.spacesuit_right_2_shadow，
- en: images.spacesuit_right_3_shadow, images.spacesuit_right_3_shadow
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: images.spacesuit_right_3_shadow，images.spacesuit_right_3_shadow
- en: '],'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '],'
- en: '"up": [images.spacesuit_back_shadow, images.spacesuit_back_1_shadow,'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '"up": [images.spacesuit_back_shadow，images.spacesuit_back_1_shadow，'
- en: images.spacesuit_back_2_shadow, images.spacesuit_back_3_shadow,
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: images.spacesuit.back_2_shadow，images.spacesuit.back_3_shadow，
- en: images.spacesuit_back_3_shadow
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: images.spacesuit_back_3_shadow
- en: '],'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '],'
- en: '"down": [images.spacesuit_front_shadow, images.spacesuit_front_1_shadow,'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '"down": [images.宇航服前面_阴影, images.宇航服前面_1_阴影,'
- en: images.spacesuit_front_2_shadow, images.spacesuit_front_3_shadow,
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: images.宇航服前面_2_阴影, images.宇航服前面_3_阴影,
- en: images.spacesuit_front_3_shadow
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: images.宇航服前面_3_阴影
- en: ']'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: ']'
- en: '}'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: player_image_shadow = PLAYER_SHADOW["down"][0]
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: player_image_shadow = PLAYER_SHADOW["down"][0]
- en: PILLARS = [
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: PILLARS = [
- en: images.pillar, images.pillar_95, images.pillar_80,
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: images.柱子, images.柱子_95, images.柱子_80,
- en: images.pillar_60, images.pillar_50
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: images.柱子_60, images.柱子_50
- en: ']'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: ']'
- en: wall_transparency_frame = 0
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: wall_transparency_frame = 0
- en: BLACK = (0, 0, 0)
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: BLACK = (0, 0, 0)
- en: BLUE = (0, 155, 255)
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: BLUE = (0, 155, 255)
- en: YELLOW = (255, 255, 0)
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: YELLOW = (255, 255, 0)
- en: WHITE = (255, 255, 255)
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: WHITE = (255, 255, 255)
- en: GREEN = (0, 255, 0)
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: GREEN = (0, 255, 0)
- en: RED = (128, 0, 0)
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: RED = (128, 0, 0)
- en: air, energy = 100, 100
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: air, energy = 100, 100
- en: suit_stitched, air_fixed = False, False
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: suit_stitched, air_fixed = False, False
- en: launch_frame = 0
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: launch_frame = 0
- en: '###############'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: '##    MAP    ##'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '##    MAP    ##'
- en: '###############'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: MAP_WIDTH = 5
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: MAP_WIDTH = 5
- en: MAP_HEIGHT = 10
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: MAP_HEIGHT = 10
- en: MAP_SIZE = MAP_WIDTH * MAP_HEIGHT
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: MAP_SIZE = MAP_WIDTH * MAP_HEIGHT
- en: GAME_MAP = [ ["Room 0 - where unused objects are kept", 0, 0, False, False]
    ]
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: GAME_MAP = [ ["房间 0 - 存放闲置物品的地方", 0, 0, False, False] ]
- en: outdoor_rooms = range(1, 26)
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: outdoor_rooms = range(1, 26)
- en: 'for planetsectors in range(1, 26): #rooms 1 to 25 are generated here'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 'for planetsectors in range(1, 26): #rooms 1 to 25 are generated here'
- en: GAME_MAP.append( ["The dusty planet surface", 13, 13, True, True] )
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: GAME_MAP.append( ["尘土飞扬的星球表面", 13, 13, True, True] )
- en: GAME_MAP  += [
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: GAME_MAP  += [
- en: '#["Room name", height, width, Top exit?, Right exit?]'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: '#["房间名称", 高度, 宽度, 上方出口?, 右方出口?]'
- en: '["The airlock", 13, 5, True, False], # room 26'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '["气闸", 13, 5, True, False], # room 26'
- en: '["The engineering lab", 13, 13, False, False], # room 27'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '["工程实验室", 13, 13, False, False], # room 27'
- en: '["Poodle Mission Control", 9, 13, False, True], # room 28'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '["贵宾犬任务控制中心", 9, 13, False, True], # room 28'
- en: '["The viewing gallery", 9, 15, False, False], # room 29'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: '["观景厅", 9, 15, False, False], # room 29'
- en: '["The crew''s bathroom", 5, 5, False, False], # room 30'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '["船员浴室", 5, 5, False, False], # room 30'
- en: '["The airlock entry bay", 7, 11, True, True], # room 31'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '["气闸入口区", 7, 11, True, True], # room 31'
- en: '["Left elbow room", 9, 7, True, False], # room 32'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '["左侧肘部房间", 9, 7, True, False], # room 32'
- en: '["Right elbow room", 7, 13, True, True], # room 33'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '["右侧肘部房间", 7, 13, True, True], # room 33'
- en: '["The science lab", 13, 13, False, True], # room 34'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '["科学实验室", 13, 13, False, True], # room 34'
- en: '["The greenhouse", 13, 13, True, False], # room 35'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '["温室", 13, 13, True, False], # room 35'
- en: '[PLAYER_NAME + "''s sleeping quarters", 9, 11, False, False], # room 36'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '[PLAYER_NAME + "的卧室", 9, 11, False, False], # room 36'
- en: '["West corridor", 15, 5, True, True], # room 37'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '["西走廊", 15, 5, True, True], # room 37'
- en: '["The briefing room", 7, 13, False, True], # room 38'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '["简报室", 7, 13, False, True], # room 38'
- en: '["The crew''s community room", 11, 13, True, False], # room 39'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '["船员的公共活动室", 11, 13, True, False], # room 39'
- en: '["Main Mission Control", 14, 14, False, False], # room 40'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '["主任务控制中心", 14, 14, False, False], # room 40'
- en: '["The sick bay", 12, 7, True, False], # room 41'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '["医务室", 12, 7, True, False], # room 41'
- en: '["West corridor", 9, 7, True, False], # room 42'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '["西走廊", 9, 7, True, False], # room 42'
- en: '["Utilities control room", 9, 9, False, True], # room 43'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '["公共设施控制室", 9, 9, False, True], # room 43'
- en: '["Systems engineering bay", 9, 11, False, False], # room 44'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '["系统工程区", 9, 11, False, False], # room 44'
- en: '["Security portal to Mission Control", 7, 7, True, False], # room 45'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '["通往任务控制中心的安全门", 7, 7, True, False], # room 45'
- en: '[FRIEND1_NAME + "''s sleeping quarters", 9, 11, True, True], # room 46'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '[FRIEND1_NAME + "的卧室", 9, 11, True, True], # room 46'
- en: '[FRIEND2_NAME + "''s sleeping quarters", 9, 11, True, True], # room 47'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '[FRIEND2_NAME + "的卧室", 9, 11, True, True], # room 47'
- en: '["The pipeworks", 13, 11, True, False], # room 48'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '["管道工厂", 13, 11, True, False], # room 48'
- en: '["The chief scientist''s office", 9, 7, True, True], # room 49'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '["首席科学家的办公室", 9, 7, True, True], # room 49'
- en: '["The robot workshop", 9, 11, True, False] # room 50'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '["机器人工作坊", 9, 11, True, False] # room 50'
- en: ']'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: ']'
- en: '#simple sanity check on map above to check data entry'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: '#简单的有效性检查，确保数据录入正确'
- en: assert len(GAME_MAP)-1 == MAP_SIZE, "Map size and GAME_MAP don't match"
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: assert len(GAME_MAP)-1 == MAP_SIZE, "地图大小与GAME_MAP不匹配"
- en: '###############'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: '##  OBJECTS  ##'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: '##  OBJECTS  ##'
- en: '###############'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: objects = {
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: objects = {
- en: '0: [images.floor, None, "The floor is shiny and clean"],'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '0: [images.地板, None, "地板光滑且干净"],'
- en: '1: [images.pillar, images.full_shadow, "The wall is smooth and cold"],'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '1: [images.柱子, images.全阴影, "墙壁光滑而冰冷"],'
- en: '2: [images.soil, None, "It''s like a desert. Or should that be dessert?"],'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '2: [images.土壤, None, "这就像一个沙漠。还是应该说是甜点？"],'
- en: '3: [images.pillar_low, images.half_shadow, "The wall is smooth and cold"],'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '3: [images.柱子低, images.半阴影, "墙壁光滑而冰冷"],'
- en: '4: [images.bed, images.half_shadow, "A tidy and comfortable bed"],'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '4: [images.床, images.半阴影, "一张整洁舒适的床"],'
- en: '5: [images.table, images.half_shadow, "It''s made from strong plastic."],'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: '5: [images.桌子, images.半阴影, "它是由强塑料制成的。"],'
- en: '6: [images.chair_left, None, "A chair with a soft cushion"],'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '6: [images.chair_left, None, "一把带有软垫的椅子"],'
- en: '7: [images.chair_right, None, "A chair with a soft cushion"],'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '7: [images.chair_right, None, "一把带有软垫的椅子"],'
- en: '8: [images.bookcase_tall, images.full_shadow,'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '8: [images.bookcase_tall, images.full_shadow,'
- en: '"Bookshelves, stacked with reference books"],'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '"书架，堆满了参考书籍"],'
- en: '9: [images.bookcase_small, images.half_shadow,'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '9: [images.bookcase_small, images.half_shadow,'
- en: '"Bookshelves, stacked with reference books"],'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '"书架，堆满了参考书籍"],'
- en: '10: [images.cabinet, images.half_shadow,'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '10: [images.cabinet, images.half_shadow,'
- en: '"A small locker, for storing personal items"],'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '"一个小储物柜，用于存放个人物品"],'
- en: '11: [images.desk_computer, images.half_shadow,'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: '11: [images.desk_computer, images.half_shadow,'
- en: '"A computer. Use it to run life support diagnostics"],'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '"一台计算机。用来运行生命支持诊断"],'
- en: '12: [images.plant, images.plant_shadow, "A spaceberry plant, grown here"],'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: '12: [images.plant, images.plant_shadow, "一种太空浆果植物，已在这里生长"],'
- en: '13: [images.electrical1, images.half_shadow,'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: '13: [images.electrical1, images.half_shadow,'
- en: '"Electrical systems used for powering the space station"],'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: '"用于为空间站提供电力的电气系统"],'
- en: '14: [images.electrical2, images.half_shadow,'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '14: [images.electrical2, images.half_shadow,'
- en: '"Electrical systems used for powering the space station"],'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: '"用于为空间站提供电力的电气系统"],'
- en: '15: [images.cactus, images.cactus_shadow, "Ouch! Careful on the cactus!"],'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: '15: [images.cactus, images.cactus_shadow, "哎呀！小心仙人掌！"],'
- en: '16: [images.shrub, images.shrub_shadow,'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: '16: [images.shrub, images.shrub_shadow,'
- en: '"A space lettuce. A bit limp, but amazing it''s growing here!"],'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: '"一种太空生菜。虽然有点萎靡，但它竟然在这里生长！"],'
- en: '17: [images.pipes1, images.pipes1_shadow, "Water purification pipes"],'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: '17: [images.pipes1, images.pipes1_shadow, "水处理管道"],'
- en: '18: [images.pipes2, images.pipes2_shadow,'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '18: [images.pipes2, images.pipes2_shadow,'
- en: '"Pipes for the life support systems"],'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '"生命支持系统的管道"],'
- en: '19: [images.pipes3, images.pipes3_shadow,'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: '19: [images.pipes3, images.pipes3_shadow,'
- en: '"Pipes for the life support systems"],'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '"生命支持系统的管道"],'
- en: '20: [images.door, images.door_shadow, "Safety door. Opens automatically \'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '20: [images.door, images.door_shadow, "安全门。自动打开\'
- en: for astronauts in functioning spacesuits."],
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 为穿着太空服的宇航员准备的。"],
- en: '21: [images.door, images.door_shadow, "The airlock door. \'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '21: [images.door, images.door_shadow, "气密门。\'
- en: For safety reasons, it requires two person operation."],
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '"出于安全原因，需要两人操作。"],'
- en: '22: [images.door, images.door_shadow, "A locked door. It needs " \'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '22: [images.door, images.door_shadow, "一扇锁住的门。它需要" \'
- en: + PLAYER_NAME + "'s access card"],
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: + PLAYER_NAME + "的访问卡"],
- en: '23: [images.door, images.door_shadow, "A locked door. It needs " \'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: '23: [images.door, images.door_shadow, "一扇锁住的门。它需要" \'
- en: + FRIEND1_NAME + "'s access card"],
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: + FRIEND1_NAME + "的访问卡"],
- en: '24: [images.door, images.door_shadow, "A locked door. It needs " \'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: '24: [images.door, images.door_shadow, "一扇锁住的门。它需要" \'
- en: + FRIEND2_NAME + "'s access card"],
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: + FRIEND2_NAME + "的访问卡"],
- en: '25: [images.door, images.door_shadow,'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: '25: [images.door, images.door_shadow,'
- en: '"A locked door. It is opened from Main Mission Control"],'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: '"一扇锁住的门。它从主任务控制室打开"],'
- en: '26: [images.door, images.door_shadow,'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: '26: [images.door, images.door_shadow,'
- en: '"A locked door in the engineering bay."],'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '"工程区的一个锁住的门。"],'
- en: '27: [images.map, images.full_shadow,'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '27: [images.map, images.full_shadow,'
- en: '"The screen says the crash site was Sector: " \'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: '"屏幕显示，坠毁地点为：\'
- en: '+ str(LANDER_SECTOR) + " // X: " + str(LANDER_X) + \'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '+ str(LANDER_SECTOR) + " // X: " + str(LANDER_X) + \'
- en: '" // Y: " + str(LANDER_Y)],'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '" // Y: " + str(LANDER_Y)],'
- en: '28: [images.rock_large, images.rock_large_shadow,'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: '28: [images.rock_large, images.rock_large_shadow,'
- en: '"A rock. Its coarse surface feels like a whetstone", "the rock"],'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: '"一块石头。它的粗糙表面感觉像是磨刀石", "这块石头"],'
- en: '29: [images.rock_small, images.rock_small_shadow,'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: '29: [images.rock_small, images.rock_small_shadow,'
- en: '"A small but heavy piece of Martian rock"],'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: '"一块小而重的火星岩"],'
- en: '30: [images.crater, None, "A crater in the planet surface"],'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '30: [images.crater, None, "行星表面上的一个陨石坑"],'
- en: '31: [images.fence, None,'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '31: [images.fence, None,'
- en: '"A fine gauze fence. It helps protect the station from dust storms"],'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: '"一张细网状的围栏。它有助于保护站点免受沙尘暴"],'
- en: '32: [images.contraption, images.contraption_shadow,'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: '32: [images.contraption, images.contraption_shadow,'
- en: '"One of the scientific experiments. It gently vibrates"],'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '"一个科学实验。它轻微震动"],'
- en: '33: [images.robot_arm, images.robot_arm_shadow,'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '33: [images.robot_arm, images.robot_arm_shadow,'
- en: '"A robot arm, used for heavy lifting"],'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '"一只机器人手臂，用于重物搬运"],'
- en: '34: [images.toilet, images.half_shadow, "A sparkling clean toilet"],'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '34: [images.toilet, images.half_shadow, "一间闪闪发光的干净厕所"],'
- en: '35: [images.sink, None, "A sink with running water", "the taps"],'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: '35: [images.sink, None, "一只有自来水的洗手池", "水龙头"]'
- en: '36: [images.globe, images.globe_shadow,'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: '36: [images.globe, images.globe_shadow,'
- en: '"A giant globe of the planet. It gently glows from inside"],'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '"一个巨大的行星地球仪。它从内部轻轻发光"],'
- en: '37: [images.science_lab_table, None,'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: '37: [images.science_lab_table, None,'
- en: '"A table of experiments, analyzing the planet soil and dust"],'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: '"一张实验台，分析行星土壤和尘土"],'
- en: '38: [images.vending_machine, images.full_shadow,'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
- en: '"A vending machine. It requires a credit.", "the vending machine"],'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
- en: '39: [images.floor_pad, None,'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
- en: '"A pressure sensor to make sure nobody goes out alone."],'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
- en: '40: [images.rescue_ship, images.rescue_ship_shadow, "A rescue ship!"],'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
- en: '41: [images.mission_control_desk, images.mission_control_desk_shadow, \'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
- en: '"Mission Control stations."],'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
- en: '42: [images.button, images.button_shadow,'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
- en: '"The button for opening the time-locked door in engineering."],'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
- en: '43: [images.whiteboard, images.full_shadow,'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
- en: '"The whiteboard is used in brainstorms and planning meetings."],'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
- en: '44: [images.window, images.full_shadow,'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
- en: '"The window provides a view out onto the planet surface."],'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
- en: '45: [images.robot, images.robot_shadow, "A cleaning robot, turned off."],'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
- en: '46: [images.robot2, images.robot2_shadow,'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
- en: '"A planet surface exploration robot, awaiting set-up."],'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
- en: '47: [images.rocket, images.rocket_shadow, "A 1-person craft in repair."],'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
- en: '48: [images.toxic_floor, None, "Toxic floor - do not walk on!"],'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
- en: '49: [images.drone, None, "A delivery drone"],'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
- en: '50: [images.energy_ball, None, "An energy ball - dangerous!"],'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
- en: '51: [images.energy_ball2, None, "An energy ball - dangerous!"],'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
- en: '52: [images.computer, images.computer_shadow,'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
- en: '"A computer workstation, for managing space station systems."],'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
- en: '53: [images.clipboard, None,'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
- en: '"A clipboard. Someone has doodled on it.", "the clipboard"],'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
- en: '54: [images.bubble_gum, None,'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
- en: '"A piece of sticky bubble gum. Spaceberry flavour.", "bubble gum"],'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
- en: '55: [images.yoyo, None, "A toy made of fine, strong string and plastic. \'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
- en: Used for antigrav experiments.", PLAYER_NAME + "'s yoyo"],
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
- en: '56: [images.thread, None,'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
- en: '"A piece of fine, strong string", "a piece of string"],'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
- en: '57: [images.needle, None,'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
- en: '"A sharp needle from a cactus plant", "a cactus needle"],'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
- en: '58: [images.threaded_needle, None,'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
- en: '"A cactus needle, spearing a length of string", "needle and string"],'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
- en: '59: [images.canister, None,'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
- en: '"The air canister has a leak.", "a leaky air canister"],'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
- en: '60: [images.canister, None,'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
- en: '"It looks like the seal will hold!", "a sealed air canister"],'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
- en: '61: [images.mirror, None,'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
- en: '"The mirror throws a circle of light on the walls.", "a mirror"],'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
- en: '62: [images.bin_empty, None,'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
- en: '"A rarely used bin, made of light plastic", "a bin"],'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
- en: '63: [images.bin_full, None,'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
- en: '"A heavy bin full of water", "a bin full of water"],'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
- en: '64: [images.rags, None,'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
- en: '"An oily rag. Pick it up by a corner if you must!", "an oily rag"],'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
- en: '65: [images.hammer, None,'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
- en: '"A hammer. Maybe good for cracking things open...", "a hammer"],'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
- en: '66: [images.spoon, None, "A large serving spoon", "a spoon"],'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
- en: '67: [images.food_pouch, None,'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
- en: '"A dehydrated food pouch. It needs water.", "a dry food pack"],'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
- en: '68: [images.food, None,'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
- en: '"A food pouch. Use it to get 100% energy.", "ready-to-eat food"],'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
- en: '69: [images.book, None, "The book has the words ''Don''t Panic'' on the \'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
- en: cover in large, friendly letters", "a book"],
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
- en: '70: [images.mp3_player, None,'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
- en: '"An MP3 player, with all the latest tunes", "an MP3 player"],'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
- en: '71: [images.lander, None, "The Poodle, a small space exploration craft. \'
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: '71: [images.lander, None, "贵宾犬，一个小型太空探索飞行器。 \'
- en: Its black box has a radio sealed inside.", "the Poodle lander"],
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 它的黑匣子里有一个无线电被封存其中。", "贵宾犬着陆器"],
- en: '72: [images.radio, None, "A radio communications system, from the \'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: '72: [images.radio, None, "一个无线电通信系统，来自 \'
- en: Poodle", "a communications radio"],
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: Poodle", "一个通信无线电"],
- en: '73: [images.gps_module, None, "A GPS Module", "a GPS module"],'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: '73: [images.gps_module, None, "一个GPS模块", "一个GPS模块"],'
- en: '74: [images.positioning_system, None, "Part of a positioning system. \'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: '74: [images.positioning_system, None, "定位系统的一部分。 \'
- en: Needs a GPS module.", "a positioning interface"],
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 需要一个GPS模块。", "一个定位接口"],
- en: '75: [images.positioning_system, None,'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: '75: [images.positioning_system, None,'
- en: '"A working positioning system", "a positioning computer"],'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: '"一个工作的定位系统", "一个定位计算机"],'
- en: '76: [images.scissors, None, "Scissors. They''re too blunt to cut \'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: '76: [images.scissors, None, "剪刀。它们太钝，无法剪切 \'
- en: anything. Can you sharpen them?", "blunt scissors"],
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: anything. Can you sharpen them?", "钝的剪刀"],
- en: '77: [images.scissors, None,'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: '77: [images.scissors, None,'
- en: '"Razor-sharp scissors. Careful!", "sharpened scissors"],'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: '"锋利的剪刀。小心！", "磨锐的剪刀"],'
- en: '78: [images.credit, None,'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: '78: [images.credit, None,'
- en: '"A small coin for the station''s vending systems",'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: '"一个小硬币，用于车站的自动售货系统",'
- en: '"a station credit"],'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: '"一张车站信用卡"]'
- en: '79: [images.access_card, None,'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: '79: [images.access_card, None,'
- en: '"This access card belongs to " + PLAYER_NAME, "an access card"],'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: '"这张访问卡属于" + PLAYER_NAME, "一张访问卡"],'
- en: '80: [images.access_card, None,'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: '80: [images.access_card, None,'
- en: '"This access card belongs to " + FRIEND1_NAME, "an access card"],'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: '"这张访问卡属于" + FRIEND1_NAME, "一张访问卡"],'
- en: '81: [images.access_card, None,'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: '81: [images.access_card, None,'
- en: '"This access card belongs to " + FRIEND2_NAME, "an access card"]'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: '"这张访问卡属于" + FRIEND2_NAME, "一张访问卡"]'
- en: '}'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: items_player_may_carry = list(range(53, 82))
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: items_player_may_carry = list(range(53, 82))
- en: Numbers below are for floor, pressure pad, soil, toxic floor.
  id: totrans-276
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Numbers below are for floor, pressure pad, soil, toxic floor.
- en: items_player_may_stand_on = items_player_may_carry + [0, 39, 2, 48]
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: items_player_may_stand_on = items_player_may_carry + [0, 39, 2, 48]
- en: '###############'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: '##  SCENERY  ##'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: '##  场景  ##'
- en: '###############'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: Scenery describes objects that cannot move between rooms.
  id: totrans-281
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Scenery describes objects that cannot move between rooms.
- en: 'room number: [[object number, y position, x position]...]'
  id: totrans-282
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '房间号: [[物体编号，y位置，x位置]...]'
- en: scenery = {
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: scenery = {
- en: '26: [[39,8,2]],'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: '26: [[39,8,2]],'
- en: '27: [[33,5,5], [33,1,1], [33,1,8], [47,5,2],'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: '27: [[33,5,5], [33,1,1], [33,1,8], [47,5,2],'
- en: '[47,3,10], [47,9,8], [42,1,6]],'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: '[47,3,10], [47,9,8], [42,1,6]],'
- en: '28: [[27,0,3], [41,4,3], [41,4,7]],'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: '28: [[27,0,3], [41,4,3], [41,4,7]],'
- en: '29: [[7,2,6], [6,2,8], [12,1,13], [44,0,1],'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: '29: [[7,2,6], [6,2,8], [12,1,13], [44,0,1],'
- en: '[36,4,10], [10,1,1], [19,4,2], [17,4,4]],'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: '[36,4,10], [10,1,1], [19,4,2], [17,4,4]],'
- en: '30: [[34,1,1], [35,1,3]],'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: '30: [[34,1,1], [35,1,3]],'
- en: '31: [[11,1,1], [19,1,8], [46,1,3]],'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: '31: [[11,1,1], [19,1,8], [46,1,3]],'
- en: '32: [[48,2,2], [48,2,3], [48,2,4], [48,3,2], [48,3,3],'
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: '32: [[48,2,2], [48,2,3], [48,2,4], [48,3,2], [48,3,3],'
- en: '[48,3,4], [48,4,2], [48,4,3], [48,4,4]],'
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: '[48,3,4], [48,4,2], [48,4,3], [48,4,4]],'
- en: '33: [[13,1,1], [13,1,3], [13,1,8], [13,1,10], [48,2,1],'
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: '33: [[13,1,1], [13,1,3], [13,1,8], [13,1,10], [48,2,1],'
- en: '[48,2,7], [48,3,6], [48,3,3]],'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: '[48,2,7], [48,3,6], [48,3,3]],'
- en: '34: [[37,2,2], [32,6,7], [37,10,4], [28,5,3]],'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: '34: [[37,2,2], [32,6,7], [37,10,4], [28,5,3]],'
- en: '35: [[16,2,9], [16,2,2], [16,3,3], [16,3,8], [16,8,9], [16,8,2], [16,1,8],'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: '35: [[16,2,9], [16,2,2], [16,3,3], [16,3,8], [16,8,9], [16,8,2], [16,1,8],'
- en: '[16,1,3], [12,8,6], [12,9,4], [12,9,8],'
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: '[16,1,3], [12,8,6], [12,9,4], [12,9,8],'
- en: '[15,4,6], [12,7,1], [12,7,11]],'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: '[15,4,6], [12,7,1], [12,7,11]],'
- en: '36: [[4,3,1], [9,1,7], [8,1,8], [8,1,9],'
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: '36: [[4,3,1], [9,1,7], [8,1,8], [8,1,9],'
- en: '[5,5,4], [6,5,7], [10,1,1], [12,1,2]],'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: '[5,5,4], [6,5,7], [10,1,1], [12,1,2]],'
- en: '37: [[48,3,1], [48,3,2], [48,7,1], [48,5,2], [48,5,3],'
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: '37: [[48,3,1], [48,3,2], [48,7,1], [48,5,2], [48,5,3],'
- en: '[48,7,2], [48,9,2], [48,9,3], [48,11,1], [48,11,2]],'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: '[48,7,2], [48,9,2], [48,9,3], [48,11,1], [48,11,2]],'
- en: '38: [[43,0,2], [6,2,2], [6,3,5], [6,4,7], [6,2,9], [45,1,10]],'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: '38: [[43,0,2], [6,2,2], [6,3,5], [6,4,7], [6,2,9], [45,1,10]],'
- en: '39: [[38,1,1], [7,3,4], [7,6,4], [5,3,6], [5,6,6],'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: '39: [[38,1,1], [7,3,4], [7,6,4], [5,3,6], [5,6,6],'
- en: '[6,3,9], [6,6,9], [45,1,11], [12,1,8], [12,1,4]],'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: '[6,3,9], [6,6,9], [45,1,11], [12,1,8], [12,1,4]],'
- en: '40: [[41,5,3], [41,5,7], [41,9,3], [41,9,7],'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: '40: [[41,5,3], [41,5,7], [41,9,3], [41,9,7],'
- en: '[13,1,1], [13,1,3], [42,1,12]],'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: '[13,1,1], [13,1,3], [42,1,12]],'
- en: '41: [[4,3,1], [10,3,5], [4,5,1], [10,5,5], [4,7,1],'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: '41: [[4,3,1], [10,3,5], [4,5,1], [10,5,5], [4,7,1],'
- en: '[10,7,5], [12,1,1], [12,1,5]],'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: '[10,7,5], [12,1,1], [12,1,5]],'
- en: '44: [[46,4,3], [46,4,5], [18,1,1], [19,1,3],'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: '44: [[46,4,3], [46,4,5], [18,1,1], [19,1,3],'
- en: '[19,1,5], [52,4,7], [14,1,8]],'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: '[19,1,5], [52,4,7], [14,1,8]],'
- en: '45: [[48,2,1], [48,2,2], [48,3,3], [48,3,4], [48,1,4], [48,1,1]],'
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: '45: [[48,2,1], [48,2,2], [48,3,3], [48,3,4], [48,1,4], [48,1,1]],'
- en: '46: [[10,1,1], [4,1,2], [8,1,7], [9,1,8], [8,1,9], [5,4,3], [7,3,2]],'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: '46: [[10,1,1], [4,1,2], [8,1,7], [9,1,8], [8,1,9], [5,4,3], [7,3,2]],'
- en: '47: [[9,1,1], [9,1,2], [10,1,3], [12,1,7], [5,4,4], [6,4,7], [4,1,8]],'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: '47: [[9,1,1], [9,1,2], [10,1,3], [12,1,7], [5,4,4], [6,4,7], [4,1,8]],'
- en: '48: [[17,4,1], [17,4,2], [17,4,3], [17,4,4], [17,4,5], [17,4,6], [17,4,7],'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: '48: [[17,4,1], [17,4,2], [17,4,3], [17,4,4], [17,4,5], [17,4,6], [17,4,7],'
- en: '[17,8,1], [17,8,2], [17,8,3], [17,8,4],'
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: '[17,8,1], [17,8,2], [17,8,3], [17,8,4],'
- en: '[17,8,5], [17,8,6], [17,8,7], [14,1,1]],'
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: '[17,8,5], [17,8,6], [17,8,7], [14,1,1]],'
- en: '49: [[14,2,2], [14,2,4], [7,5,1], [5,5,3], [48,3,3], [48,3,4]],'
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: '49: [[14,2,2], [14,2,4], [7,5,1], [5,5,3], [48,3,3], [48,3,4]],'
- en: '50: [[45,4,8], [11,1,1], [13,1,8], [33,2,1], [46,4,6]]'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: '50: [[45,4,8], [11,1,1], [13,1,8], [33,2,1], [46,4,6]]'
- en: '}'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: checksum = 0
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: checksum = 0
- en: check_counter = 0
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: check_counter = 0
- en: 'for key, room_scenery_list in scenery.items():'
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 'for key, room_scenery_list in scenery.items():'
- en: 'for scenery_item_list in room_scenery_list:'
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 'for scenery_item_list in room_scenery_list:'
- en: checksum += (scenery_item_list[0] * key
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: checksum += (scenery_item_list[0] * key
- en: + scenery_item_list[1] * (key + 1)
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: + scenery_item_list[1] * (key + 1)
- en: + scenery_item_list[2] * (key + 2))
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: + scenery_item_list[2] * (key + 2))
- en: check_counter += 1
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: check_counter += 1
- en: print(check_counter, "scenery items")
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: print(check_counter, "景观项")
- en: assert check_counter == 161, "Expected 161 scenery items"
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: assert check_counter == 161, "预期161个景观项"
- en: assert checksum == 200095, "Error in scenery data"
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: assert checksum == 200095, "景观数据错误"
- en: 'print("Scenery checksum: " + str(checksum))'
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 'print("景观校验和: " + str(checksum))'
- en: 'for room in range(1, 26): # Add random scenery in planet locations.'
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 'for room in range(1, 26): # 在行星位置添加随机景观。'
- en: 'if room != 13: # Skip room 13.'
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 'if room != 13: # 跳过房间13。'
- en: scenery_item = random.choice([16, 28, 29, 30])
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: scenery_item = random.choice([16, 28, 29, 30])
- en: scenery[room] = [[scenery_item, random.randint(2, 10),
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: scenery[room] = [[scenery_item, random.randint(2, 10),
- en: random.randint(2, 10)]]
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: random.randint(2, 10)]]
- en: Use loops to add fences to the planet surface rooms.
  id: totrans-339
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用循环将围栏添加到行星表面房间。
- en: 'for room_coordinate in range(0, 13):'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 'for room_coordinate in range(0, 13):'
- en: 'for room_number in [1, 2, 3, 4, 5]: # Add top fence'
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 'for room_number in [1, 2, 3, 4, 5]: # 添加顶部围栏'
- en: scenery[room_number] += [[31, 0, room_coordinate]]
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: scenery[room_number] += [[31, 0, room_coordinate]]
- en: 'for room_number in [1, 6, 11, 16, 21]: # Add left fence'
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 'for room_number in [1, 6, 11, 16, 21]: # 添加左侧围栏'
- en: scenery[room_number] += [[31, room_coordinate, 0]]
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: scenery[room_number] += [[31, room_coordinate, 0]]
- en: 'for room_number in [5, 10, 15, 20, 25]: # Add right fence'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 'for room_number in [5, 10, 15, 20, 25]: # 添加右侧围栏'
- en: scenery[room_number] += [[31, room_coordinate, 12]]
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: scenery[room_number] += [[31, room_coordinate, 12]]
- en: 'del scenery[21][-1] # Delete last fence panel in Room 21'
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 'del scenery[21][-1] # 删除房间21中的最后一块围栏面板'
- en: 'del scenery[25][-1] # Delete last fence panel in Room 25'
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: 'del scenery[25][-1] # 删除房间25中的最后一块围栏面板'
- en: '###############'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: MAKE MAP  ##
  id: totrans-350
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 制作地图##
- en: '###############'
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: 'def get_floor_type():'
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 'def get_floor_type():'
- en: 'if current_room in outdoor_rooms:'
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: 'if current_room in outdoor_rooms:'
- en: 'return 2 # soil'
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: 'return 2 # 土壤'
- en: 'else:'
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: 'else:'
- en: 'return 0 # tiled floor'
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: 'return 0 # 瓷砖地板'
- en: 'def generate_map():'
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: 'def generate_map():'
- en: This function makes the map for the current room,
  id: totrans-358
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 该函数用于为当前房间生成地图，
- en: using room data, scenery data and prop data.
  id: totrans-359
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用房间数据、景观数据和道具数据。
- en: global room_map, room_width, room_height, room_name, hazard_map
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: global room_map, room_width, room_height, room_name, hazard_map
- en: global top_left_x, top_left_y, wall_transparency_frame
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: global top_left_x, top_left_y, wall_transparency_frame
- en: room_data = GAME_MAP[current_room]
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: room_data = GAME_MAP[current_room]
- en: room_name = room_data[0]
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: room_name = room_data[0]
- en: room_height = room_data[1]
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: room_height = room_data[1]
- en: room_width = room_data[2]
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: room_width = room_data[2]
- en: floor_type = get_floor_type()
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: floor_type = get_floor_type()
- en: 'if current_room in range(1, 21):'
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: 'if current_room in range(1, 21):'
- en: 'bottom_edge = 2 #soil'
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 'bottom_edge = 2 #土壤'
- en: 'side_edge = 2 #soil'
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 'side_edge = 2 #土壤'
- en: 'if current_room in range(21, 26):'
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: 'if current_room in range(21, 26):'
- en: 'bottom_edge = 1 #wall'
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: 'bottom_edge = 1 #墙壁'
- en: 'side_edge = 2 #soil'
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: 'side_edge = 2 #土壤'
- en: 'if current_room > 25:'
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: 'if current_room > 25:'
- en: 'bottom_edge = 1 #wall'
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: 'bottom_edge = 1 #墙壁'
- en: 'side_edge = 1 #wall'
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 'side_edge = 1 #墙壁'
- en: '# Create top line of room map.'
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: '# 创建房间地图的顶部边界。'
- en: room_map=[[side_edge] * room_width]
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: room_map=[[side_edge] * room_width]
- en: '# Add middle lines of room map (wall, floor to fill width, wall).'
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: '# 添加房间地图的中间行（墙壁，地板填充宽度，墙壁）。'
- en: 'for y in range(room_height - 2):'
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL
  zh: 'for y in range(room_height - 2):'
- en: room_map.append([side_edge]
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: room_map.append([side_edge]
- en: + [floor_type]*(room_width - 2) + [side_edge])
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: + [floor_type]*(room_width - 2) + [side_edge])
- en: '# Add bottom line of room map.'
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: '# 添加房间地图的底部边界。'
- en: room_map.append([bottom_edge] * room_width)
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: room_map.append([bottom_edge] * room_width)
- en: '# Add doorways.'
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: '# 添加门。'
- en: middle_row = int(room_height / 2)
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: middle_row = int(room_height / 2)
- en: middle_column = int(room_width / 2)
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: middle_column = int(room_width / 2)
- en: 'if room_data[4]: # If exit at right of this room'
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: 'if room_data[4]: # 如果此房间右侧有出口'
- en: room_map[middle_row][room_width - 1] = floor_type
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[middle_row][room_width - 1] = floor_type
- en: room_map[middle_row+1][room_width - 1] = floor_type
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[middle_row+1][room_width - 1] = floor_type
- en: room_map[middle_row-1][room_width - 1] = floor_type
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[middle_row-1][room_width - 1] = floor_type
- en: 'if current_room % MAP_WIDTH != 1: # If room is not on left of map'
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: 'if current_room % MAP_WIDTH != 1: # 如果房间不在地图左侧'
- en: room_to_left = GAME_MAP[current_room - 1]
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: room_to_left = GAME_MAP[current_room - 1]
- en: '# If room on the left has a right exit, add left exit in this room'
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: '# 如果左侧房间有右出口，则在此房间添加左出口'
- en: 'if room_to_left[4]:'
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: 'if room_to_left[4]:'
- en: room_map[middle_row][0] = floor_type
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[middle_row][0] = floor_type
- en: room_map[middle_row + 1][0] = floor_type
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[middle_row + 1][0] = floor_type
- en: room_map[middle_row - 1][0] = floor_type
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[middle_row - 1][0] = floor_type
- en: 'if room_data[3]: # If exit at top of this room'
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: 'if room_data[3]: # 如果房间顶部有出口'
- en: room_map[0][middle_column] = floor_type
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[0][middle_column] = floor_type
- en: room_map[0][middle_column + 1] = floor_type
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[0][middle_column + 1] = floor_type
- en: room_map[0][middle_column - 1] = floor_type
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[0][middle_column - 1] = floor_type
- en: 'if current_room <= MAP_SIZE - MAP_WIDTH: # If room is not on bottom row'
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: 'if current_room <= MAP_SIZE - MAP_WIDTH: # 如果房间不在最底行'
- en: room_below = GAME_MAP[current_room+MAP_WIDTH]
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: room_below = GAME_MAP[current_room+MAP_WIDTH]
- en: '# If room below has a top exit, add exit at bottom of this one'
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
  zh: '# 如果下方房间有上方出口，则在当前房间底部添加出口'
- en: 'if room_below[3]:'
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: 'if room_below[3]:'
- en: room_map[room_height-1][middle_column] = floor_type
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[room_height-1][middle_column] = floor_type
- en: room_map[room_height-1][middle_column + 1] = floor_type
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[room_height-1][middle_column + 1] = floor_type
- en: room_map[room_height-1][middle_column - 1] = floor_type
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[room_height-1][middle_column - 1] = floor_type
- en: 'if current_room in scenery:'
  id: totrans-409
  prefs: []
  type: TYPE_NORMAL
  zh: 'if current_room in scenery:'
- en: 'for this_scenery in scenery[current_room]:'
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
  zh: 'for this_scenery in scenery[current_room]:'
- en: scenery_number = this_scenery[0]
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
  zh: scenery_number = this_scenery[0]
- en: scenery_y = this_scenery[1]
  id: totrans-412
  prefs: []
  type: TYPE_NORMAL
  zh: scenery_y = this_scenery[1]
- en: scenery_x = this_scenery[2]
  id: totrans-413
  prefs: []
  type: TYPE_NORMAL
  zh: scenery_x = this_scenery[2]
- en: room_map[scenery_y][scenery_x] = scenery_number
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[scenery_y][scenery_x] = scenery_number
- en: image_here = objects[scenery_number][0]
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
  zh: image_here = objects[scenery_number][0]
- en: image_width = image_here.get_width()
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: image_width = image_here.get_width()
- en: image_width_in_tiles = int(image_width / TILE_SIZE)
  id: totrans-417
  prefs: []
  type: TYPE_NORMAL
  zh: image_width_in_tiles = int(image_width / TILE_SIZE)
- en: 'for tile_number in range(1, image_width_in_tiles):'
  id: totrans-418
  prefs: []
  type: TYPE_NORMAL
  zh: 'for tile_number in range(1, image_width_in_tiles):'
- en: room_map[scenery_y][scenery_x + tile_number] = 255
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[scenery_y][scenery_x + tile_number] = 255
- en: 'center_y = int(HEIGHT / 2) # Center of game window'
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: 'center_y = int(HEIGHT / 2) # 游戏窗口的中心'
- en: center_x = int(WIDTH / 2)
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: center_x = int(WIDTH / 2)
- en: 'room_pixel_width = room_width * TILE_SIZE # Size of room in pixels'
  id: totrans-422
  prefs: []
  type: TYPE_NORMAL
  zh: 'room_pixel_width = room_width * TILE_SIZE # 房间的像素大小'
- en: room_pixel_height = room_height * TILE_SIZE
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: room_pixel_height = room_height * TILE_SIZE
- en: top_left_x = center_x - 0.5 * room_pixel_width
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: top_left_x = center_x - 0.5 * room_pixel_width
- en: top_left_y = (center_y - 0.5 * room_pixel_height) + 110
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: top_left_y = (center_y - 0.5 * room_pixel_height) + 110
- en: 'for prop_number, prop_info in props.items():'
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
  zh: 'for prop_number, prop_info in props.items():'
- en: prop_room = prop_info[0]
  id: totrans-427
  prefs: []
  type: TYPE_NORMAL
  zh: prop_room = prop_info[0]
- en: prop_y = prop_info[1]
  id: totrans-428
  prefs: []
  type: TYPE_NORMAL
  zh: prop_y = prop_info[1]
- en: prop_x = prop_info[2]
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: prop_x = prop_info[2]
- en: if (prop_room == current_room and
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: if (prop_room == current_room and
- en: 'room_map[prop_y][prop_x] in [0, 39, 2]):'
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
  zh: 'room_map[prop_y][prop_x] in [0, 39, 2]):'
- en: room_map[prop_y][prop_x] = prop_number
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[prop_y][prop_x] = prop_number
- en: image_here = objects[prop_number][0]
  id: totrans-433
  prefs: []
  type: TYPE_NORMAL
  zh: image_here = objects[prop_number][0]
- en: image_width = image_here.get_width()
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
  zh: image_width = image_here.get_width()
- en: image_width_in_tiles = int(image_width / TILE_SIZE)
  id: totrans-435
  prefs: []
  type: TYPE_NORMAL
  zh: image_width_in_tiles = int(image_width / TILE_SIZE)
- en: 'for tile_number in range(1, image_width_in_tiles):'
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
  zh: 'for tile_number in range(1, image_width_in_tiles):'
- en: room_map[prop_y][prop_x + tile_number] = 255
  id: totrans-437
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[prop_y][prop_x + tile_number] = 255
- en: 'hazard_map = [] # empty list'
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
  zh: 'hazard_map = [] # 空列表'
- en: 'for y in range(room_height):'
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: 'for y in range(room_height):'
- en: hazard_map.append( [0] * room_width )
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: hazard_map.append( [0] * room_width )
- en: '###############'
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: 'GAME LOOP ##'
  id: totrans-442
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 'GAME LOOP ##'
- en: '###############'
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: 'def start_room():'
  id: totrans-444
  prefs: []
  type: TYPE_NORMAL
  zh: 'def start_room():'
- en: global airlock_door_frame
  id: totrans-445
  prefs: []
  type: TYPE_NORMAL
  zh: global airlock_door_frame
- en: 'show_text("You are here: " + room_name, 0)'
  id: totrans-446
  prefs: []
  type: TYPE_NORMAL
  zh: 'show_text("你当前所在房间: " + room_name, 0)'
- en: 'if current_room == 26: # Room with self-shutting airlock door'
  id: totrans-447
  prefs: []
  type: TYPE_NORMAL
  zh: 'if current_room == 26: # 自闭气闸门的房间'
- en: airlock_door_frame = 0
  id: totrans-448
  prefs: []
  type: TYPE_NORMAL
  zh: airlock_door_frame = 0
- en: clock.schedule_interval(door_in_room_26, 0.05)
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
  zh: clock.schedule_interval(door_in_room_26, 0.05)
- en: hazard_start()
  id: totrans-450
  prefs: []
  type: TYPE_NORMAL
  zh: hazard_start()
- en: 'def game_loop():'
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
  zh: 'def game_loop():'
- en: global player_x, player_y, current_room
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
  zh: global player_x, player_y, current_room
- en: global from_player_x, from_player_y
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: global from_player_x, from_player_y
- en: global player_image, player_image_shadow
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
  zh: global player_image, player_image_shadow
- en: global selected_item, item_carrying, energy
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: global selected_item, item_carrying, energy
- en: global player_offset_x, player_offset_y
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
  zh: global player_offset_x, player_offset_y
- en: global player_frame, player_direction
  id: totrans-457
  prefs: []
  type: TYPE_NORMAL
  zh: global player_frame, player_direction
- en: 'if game_over:'
  id: totrans-458
  prefs: []
  type: TYPE_NORMAL
  zh: 'if game_over:'
- en: return
  id: totrans-459
  prefs: []
  type: TYPE_NORMAL
  zh: return
- en: 'if player_frame > 0:'
  id: totrans-460
  prefs: []
  type: TYPE_NORMAL
  zh: 'if player_frame > 0:'
- en: player_frame += 1
  id: totrans-461
  prefs: []
  type: TYPE_NORMAL
  zh: player_frame += 1
- en: time.sleep(0.05)
  id: totrans-462
  prefs: []
  type: TYPE_NORMAL
  zh: time.sleep(0.05)
- en: 'if player_frame == 5:'
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
  zh: 'if player_frame == 5:'
- en: player_frame = 0
  id: totrans-464
  prefs: []
  type: TYPE_NORMAL
  zh: player_frame = 0
- en: player_offset_x = 0
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
  zh: player_offset_x = 0
- en: player_offset_y = 0
  id: totrans-466
  prefs: []
  type: TYPE_NORMAL
  zh: player_offset_y = 0
- en: save player's current position
  id: totrans-467
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: save player's current position
- en: old_player_x = player_x
  id: totrans-468
  prefs: []
  type: TYPE_NORMAL
  zh: old_player_x = player_x
- en: old_player_y = player_y
  id: totrans-469
  prefs: []
  type: TYPE_NORMAL
  zh: old_player_y = player_y
- en: move if key is pressed
  id: totrans-470
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: move if key is pressed
- en: 'if player_frame == 0:'
  id: totrans-471
  prefs: []
  type: TYPE_NORMAL
  zh: 'if player_frame == 0:'
- en: 'if keyboard.right:'
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
  zh: 'if keyboard.right:'
- en: from_player_x = player_x
  id: totrans-473
  prefs: []
  type: TYPE_NORMAL
  zh: from_player_x = player_x
- en: from_player_y = player_y
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
  zh: from_player_y = player_y
- en: player_x += 1
  id: totrans-475
  prefs: []
  type: TYPE_NORMAL
  zh: player_x += 1
- en: player_direction = "right"
  id: totrans-476
  prefs: []
  type: TYPE_NORMAL
  zh: player_direction = "right"
- en: player_frame = 1
  id: totrans-477
  prefs: []
  type: TYPE_NORMAL
  zh: player_frame = 1
- en: 'elif keyboard.left: #elif stops player making diagonal movements'
  id: totrans-478
  prefs: []
  type: TYPE_NORMAL
  zh: 'elif keyboard.left: # elif 阻止玩家做出对角移动'
- en: from_player_x = player_x
  id: totrans-479
  prefs: []
  type: TYPE_NORMAL
  zh: from_player_x = player_x
- en: from_player_y = player_y
  id: totrans-480
  prefs: []
  type: TYPE_NORMAL
  zh: from_player_y = player_y
- en: player_x -= 1
  id: totrans-481
  prefs: []
  type: TYPE_NORMAL
  zh: player_x -= 1
- en: player_direction = "left"
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
  zh: player_direction = "left"
- en: player_frame = 1
  id: totrans-483
  prefs: []
  type: TYPE_NORMAL
  zh: player_frame = 1
- en: 'elif keyboard.up:'
  id: totrans-484
  prefs: []
  type: TYPE_NORMAL
  zh: 'elif keyboard.up:'
- en: from_player_x = player_x
  id: totrans-485
  prefs: []
  type: TYPE_NORMAL
  zh: from_player_x = player_x
- en: from_player_y = player_y
  id: totrans-486
  prefs: []
  type: TYPE_NORMAL
  zh: from_player_y = player_y
- en: player_y -= 1
  id: totrans-487
  prefs: []
  type: TYPE_NORMAL
  zh: player_y -= 1
- en: player_direction = "up"
  id: totrans-488
  prefs: []
  type: TYPE_NORMAL
  zh: player_direction = "up"
- en: player_frame = 1
  id: totrans-489
  prefs: []
  type: TYPE_NORMAL
  zh: player_frame = 1
- en: 'elif keyboard.down:'
  id: totrans-490
  prefs: []
  type: TYPE_NORMAL
  zh: 'elif keyboard.down:'
- en: from_player_x = player_x
  id: totrans-491
  prefs: []
  type: TYPE_NORMAL
  zh: from_player_x = player_x
- en: from_player_y = player_y
  id: totrans-492
  prefs: []
  type: TYPE_NORMAL
  zh: from_player_y = player_y
- en: player_y += 1
  id: totrans-493
  prefs: []
  type: TYPE_NORMAL
  zh: player_y += 1
- en: player_direction = "down"
  id: totrans-494
  prefs: []
  type: TYPE_NORMAL
  zh: player_direction = "down"
- en: player_frame = 1
  id: totrans-495
  prefs: []
  type: TYPE_NORMAL
  zh: player_frame = 1
- en: check for exiting the room
  id: totrans-496
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 检查是否退出房间
- en: 'if player_x == room_width: # through door on RIGHT'
  id: totrans-497
  prefs: []
  type: TYPE_NORMAL
  zh: 'if player_x == room_width: # 从右侧门进入'
- en: clock.unschedule(hazard_move)
  id: totrans-498
  prefs: []
  type: TYPE_NORMAL
  zh: clock.unschedule(hazard_move)
- en: current_room += 1
  id: totrans-499
  prefs: []
  type: TYPE_NORMAL
  zh: current_room += 1
- en: generate_map()
  id: totrans-500
  prefs: []
  type: TYPE_NORMAL
  zh: generate_map()
- en: 'player_x = 0 # enter at left'
  id: totrans-501
  prefs: []
  type: TYPE_NORMAL
  zh: 'player_x = 0 # 从左侧进入'
- en: 'player_y = int(room_height / 2) # enter at door'
  id: totrans-502
  prefs: []
  type: TYPE_NORMAL
  zh: 'player_y = int(room_height / 2) # 从门口进入'
- en: player_frame = 0
  id: totrans-503
  prefs: []
  type: TYPE_NORMAL
  zh: player_frame = 0
- en: start_room()
  id: totrans-504
  prefs: []
  type: TYPE_NORMAL
  zh: start_room()
- en: return
  id: totrans-505
  prefs: []
  type: TYPE_NORMAL
  zh: return
- en: 'if player_x == -1: # through door on LEFT'
  id: totrans-506
  prefs: []
  type: TYPE_NORMAL
  zh: 'if player_x == -1: # 从左侧门进入'
- en: clock.unschedule(hazard_move)
  id: totrans-507
  prefs: []
  type: TYPE_NORMAL
  zh: clock.unschedule(hazard_move)
- en: current_room -= 1
  id: totrans-508
  prefs: []
  type: TYPE_NORMAL
  zh: current_room -= 1
- en: generate_map()
  id: totrans-509
  prefs: []
  type: TYPE_NORMAL
  zh: generate_map()
- en: player_x = room_width - 1  # enter at right
  id: totrans-510
  prefs: []
  type: TYPE_NORMAL
  zh: player_x = room_width - 1  # 从右侧进入
- en: 'player_y = int(room_height / 2) # enter at door'
  id: totrans-511
  prefs: []
  type: TYPE_NORMAL
  zh: 'player_y = int(room_height / 2) # 从门口进入'
- en: player_frame = 0
  id: totrans-512
  prefs: []
  type: TYPE_NORMAL
  zh: player_frame = 0
- en: start_room()
  id: totrans-513
  prefs: []
  type: TYPE_NORMAL
  zh: start_room()
- en: return
  id: totrans-514
  prefs: []
  type: TYPE_NORMAL
  zh: return
- en: 'if player_y == room_height: # through door at BOTTOM'
  id: totrans-515
  prefs: []
  type: TYPE_NORMAL
  zh: 'if player_y == room_height: # 从底部门进入'
- en: clock.unschedule(hazard_move)
  id: totrans-516
  prefs: []
  type: TYPE_NORMAL
  zh: clock.unschedule(hazard_move)
- en: current_room += MAP_WIDTH
  id: totrans-517
  prefs: []
  type: TYPE_NORMAL
  zh: current_room += MAP_WIDTH
- en: generate_map()
  id: totrans-518
  prefs: []
  type: TYPE_NORMAL
  zh: generate_map()
- en: 'player_y = 0 # enter at top'
  id: totrans-519
  prefs: []
  type: TYPE_NORMAL
  zh: 'player_y = 0 # 从顶部进入'
- en: 'player_x = int(room_width / 2) # enter at door'
  id: totrans-520
  prefs: []
  type: TYPE_NORMAL
  zh: 'player_x = int(room_width / 2) # 从门口进入'
- en: player_frame = 0
  id: totrans-521
  prefs: []
  type: TYPE_NORMAL
  zh: player_frame = 0
- en: start_room()
  id: totrans-522
  prefs: []
  type: TYPE_NORMAL
  zh: start_room()
- en: return
  id: totrans-523
  prefs: []
  type: TYPE_NORMAL
  zh: return
- en: 'if player_y == -1: # through door at TOP'
  id: totrans-524
  prefs: []
  type: TYPE_NORMAL
  zh: 'if player_y == -1: # 从顶部门进入'
- en: clock.unschedule(hazard_move)
  id: totrans-525
  prefs: []
  type: TYPE_NORMAL
  zh: clock.unschedule(hazard_move)
- en: current_room -= MAP_WIDTH
  id: totrans-526
  prefs: []
  type: TYPE_NORMAL
  zh: current_room -= MAP_WIDTH
- en: generate_map()
  id: totrans-527
  prefs: []
  type: TYPE_NORMAL
  zh: generate_map()
- en: 'player_y = room_height - 1 # enter at bottom'
  id: totrans-528
  prefs: []
  type: TYPE_NORMAL
  zh: 'player_y = room_height - 1 # 从底部进入'
- en: 'player_x = int(room_width / 2) # enter at door'
  id: totrans-529
  prefs: []
  type: TYPE_NORMAL
  zh: 'player_x = int(room_width / 2) # 从门口进入'
- en: player_frame = 0
  id: totrans-530
  prefs: []
  type: TYPE_NORMAL
  zh: player_frame = 0
- en: start_room()
  id: totrans-531
  prefs: []
  type: TYPE_NORMAL
  zh: start_room()
- en: return
  id: totrans-532
  prefs: []
  type: TYPE_NORMAL
  zh: return
- en: 'if keyboard.g:'
  id: totrans-533
  prefs: []
  type: TYPE_NORMAL
  zh: 'if keyboard.g:'
- en: pick_up_object()
  id: totrans-534
  prefs: []
  type: TYPE_NORMAL
  zh: 捡起物品()
- en: 'if keyboard.tab and len(in_my_pockets) > 0:'
  id: totrans-535
  prefs: []
  type: TYPE_NORMAL
  zh: 'if keyboard.tab and len(in_my_pockets) > 0:'
- en: selected_item += 1
  id: totrans-536
  prefs: []
  type: TYPE_NORMAL
  zh: selected_item += 1
- en: 'if selected_item > len(in_my_pockets) - 1:'
  id: totrans-537
  prefs: []
  type: TYPE_NORMAL
  zh: 'if selected_item > len(in_my_pockets) - 1:'
- en: selected_item = 0
  id: totrans-538
  prefs: []
  type: TYPE_NORMAL
  zh: selected_item = 0
- en: item_carrying = in_my_pockets[selected_item]
  id: totrans-539
  prefs: []
  type: TYPE_NORMAL
  zh: item_carrying = in_my_pockets[selected_item]
- en: display_inventory()
  id: totrans-540
  prefs: []
  type: TYPE_NORMAL
  zh: 显示背包()
- en: 'if keyboard.d and item_carrying:'
  id: totrans-541
  prefs: []
  type: TYPE_NORMAL
  zh: 'if keyboard.d and item_carrying:'
- en: drop_object(old_player_y, old_player_x)
  id: totrans-542
  prefs: []
  type: TYPE_NORMAL
  zh: drop_object(old_player_y, old_player_x)
- en: 'if keyboard.space:'
  id: totrans-543
  prefs: []
  type: TYPE_NORMAL
  zh: 'if keyboard.space:'
- en: examine_object()
  id: totrans-544
  prefs: []
  type: TYPE_NORMAL
  zh: examine_object()
- en: 'if keyboard.u:'
  id: totrans-545
  prefs: []
  type: TYPE_NORMAL
  zh: 'if keyboard.u:'
- en: use_object()
  id: totrans-546
  prefs: []
  type: TYPE_NORMAL
  zh: 使用物品()
- en: Teleporter for testing
  id: totrans-547
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 用于测试的传送门
- en: Remove this section for the real game
  id: totrans-548
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 移除这一部分以进行实际游戏
- en: '##    if keyboard.x:'
  id: totrans-549
  prefs: []
  type: TYPE_NORMAL
  zh: '##    if keyboard.x:'
- en: '##        current_room = int(input("Enter room number:"))'
  id: totrans-550
  prefs: []
  type: TYPE_NORMAL
  zh: '##        current_room = int(input("请输入房间号:"))'
- en: '##        player_x = 2'
  id: totrans-551
  prefs: []
  type: TYPE_NORMAL
  zh: '##        player_x = 2'
- en: '##        player_y = 2'
  id: totrans-552
  prefs: []
  type: TYPE_NORMAL
  zh: '##        player_y = 2'
- en: '##        generate_map()'
  id: totrans-553
  prefs: []
  type: TYPE_NORMAL
  zh: '##        generate_map()'
- en: '##        start_room()'
  id: totrans-554
  prefs: []
  type: TYPE_NORMAL
  zh: '##        start_room()'
- en: '##        sounds.teleport.play()'
  id: totrans-555
  prefs: []
  type: TYPE_NORMAL
  zh: '##        sounds.teleport.play()'
- en: Teleport section ends
  id: totrans-556
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 传送部分结束
- en: '# If the player is standing somewhere they shouldn''t, move them back.'
  id: totrans-557
  prefs: []
  type: TYPE_NORMAL
  zh: '# 如果玩家站在不该站的位置，将其移回'
- en: if room_map[player_y][player_x] not in items_player_may_stand_on \
  id: totrans-558
  prefs: []
  type: TYPE_NORMAL
  zh: if room_map[player_y][player_x] not in items_player_may_stand_on \
- en: 'or hazard_map[player_y][player_x] != 0:'
  id: totrans-559
  prefs: []
  type: TYPE_NORMAL
  zh: 'or hazard_map[player_y][player_x] != 0:'
- en: player_x = old_player_x
  id: totrans-560
  prefs: []
  type: TYPE_NORMAL
  zh: player_x = old_player_x
- en: player_y = old_player_y
  id: totrans-561
  prefs: []
  type: TYPE_NORMAL
  zh: player_y = old_player_y
- en: player_frame = 0
  id: totrans-562
  prefs: []
  type: TYPE_NORMAL
  zh: player_frame = 0
- en: 'if room_map[player_y][player_x] == 48: # toxic floor'
  id: totrans-563
  prefs: []
  type: TYPE_NORMAL
  zh: 'if room_map[player_y][player_x] == 48: # 有毒地板'
- en: deplete_energy(1)
  id: totrans-564
  prefs: []
  type: TYPE_NORMAL
  zh: 消耗能量(1)
- en: 'if player_direction == "right" and player_frame > 0:'
  id: totrans-565
  prefs: []
  type: TYPE_NORMAL
  zh: 'if player_direction == "right" and player_frame > 0:'
- en: player_offset_x = -1 + (0.25 * player_frame)
  id: totrans-566
  prefs: []
  type: TYPE_NORMAL
  zh: player_offset_x = -1 + (0.25 * player_frame)
- en: 'if player_direction == "left" and player_frame > 0:'
  id: totrans-567
  prefs: []
  type: TYPE_NORMAL
  zh: 'if player_direction == "left" and player_frame > 0:'
- en: player_offset_x = 1 - (0.25 * player_frame)
  id: totrans-568
  prefs: []
  type: TYPE_NORMAL
  zh: player_offset_x = 1 - (0.25 * player_frame)
- en: 'if player_direction == "up" and player_frame > 0:'
  id: totrans-569
  prefs: []
  type: TYPE_NORMAL
  zh: 'if player_direction == "up" and player_frame > 0:'
- en: player_offset_y = 1 - (0.25 * player_frame)
  id: totrans-570
  prefs: []
  type: TYPE_NORMAL
  zh: player_offset_y = 1 - (0.25 * player_frame)
- en: 'if player_direction == "down" and player_frame > 0:'
  id: totrans-571
  prefs: []
  type: TYPE_NORMAL
  zh: 'if player_direction == "down" and player_frame > 0:'
- en: player_offset_y = -1 + (0.25 * player_frame)
  id: totrans-572
  prefs: []
  type: TYPE_NORMAL
  zh: player_offset_y = -1 + (0.25 * player_frame)
- en: '###############'
  id: totrans-573
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: '##  DISPLAY  ##'
  id: totrans-574
  prefs: []
  type: TYPE_NORMAL
  zh: '##  显示  ##'
- en: '###############'
  id: totrans-575
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: 'def draw_image(image, y, x):'
  id: totrans-576
  prefs: []
  type: TYPE_NORMAL
  zh: 'def draw_image(image, y, x):'
- en: screen.blit(
  id: totrans-577
  prefs: []
  type: TYPE_NORMAL
  zh: screen.blit(
- en: image,
  id: totrans-578
  prefs: []
  type: TYPE_NORMAL
  zh: image,
- en: (top_left_x + (x * TILE_SIZE),
  id: totrans-579
  prefs: []
  type: TYPE_NORMAL
  zh: (top_left_x + (x * TILE_SIZE),
- en: top_left_y + (y * TILE_SIZE) - image.get_height())
  id: totrans-580
  prefs: []
  type: TYPE_NORMAL
  zh: top_left_y + (y * TILE_SIZE) - image.get_height())
- en: )
  id: totrans-581
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: 'def draw_shadow(image, y, x):'
  id: totrans-582
  prefs: []
  type: TYPE_NORMAL
  zh: 'def draw_shadow(image, y, x):'
- en: screen.blit(
  id: totrans-583
  prefs: []
  type: TYPE_NORMAL
  zh: screen.blit(
- en: image,
  id: totrans-584
  prefs: []
  type: TYPE_NORMAL
  zh: image,
- en: (top_left_x + (x * TILE_SIZE),
  id: totrans-585
  prefs: []
  type: TYPE_NORMAL
  zh: (top_left_x + (x * TILE_SIZE),
- en: top_left_y + (y * TILE_SIZE))
  id: totrans-586
  prefs: []
  type: TYPE_NORMAL
  zh: top_left_y + (y * TILE_SIZE))
- en: )
  id: totrans-587
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: 'def draw_player():'
  id: totrans-588
  prefs: []
  type: TYPE_NORMAL
  zh: 'def draw_player():'
- en: player_image = PLAYER[player_direction][player_frame]
  id: totrans-589
  prefs: []
  type: TYPE_NORMAL
  zh: player_image = PLAYER[player_direction][player_frame]
- en: draw_image(player_image, player_y + player_offset_y,
  id: totrans-590
  prefs: []
  type: TYPE_NORMAL
  zh: draw_image(player_image, player_y + player_offset_y,
- en: player_x + player_offset_x)
  id: totrans-591
  prefs: []
  type: TYPE_NORMAL
  zh: player_x + player_offset_x)
- en: player_image_shadow = PLAYER_SHADOW[player_direction][player_frame]
  id: totrans-592
  prefs: []
  type: TYPE_NORMAL
  zh: player_image_shadow = PLAYER_SHADOW[player_direction][player_frame]
- en: draw_shadow(player_image_shadow, player_y + player_offset_y,
  id: totrans-593
  prefs: []
  type: TYPE_NORMAL
  zh: draw_shadow(player_image_shadow, player_y + player_offset_y,
- en: player_x + player_offset_x)
  id: totrans-594
  prefs: []
  type: TYPE_NORMAL
  zh: player_x + player_offset_x)
- en: 'def draw():'
  id: totrans-595
  prefs: []
  type: TYPE_NORMAL
  zh: 'def draw():'
- en: 'if game_over:'
  id: totrans-596
  prefs: []
  type: TYPE_NORMAL
  zh: 'if game_over:'
- en: return
  id: totrans-597
  prefs: []
  type: TYPE_NORMAL
  zh: return
- en: '# Clear the game arena area.'
  id: totrans-598
  prefs: []
  type: TYPE_NORMAL
  zh: '# 清除游戏竞技场区域。'
- en: box = Rect((0, 150), (800, 600))
  id: totrans-599
  prefs: []
  type: TYPE_NORMAL
  zh: box = Rect((0, 150), (800, 600))
- en: screen.draw.filled_rect(box, RED)
  id: totrans-600
  prefs: []
  type: TYPE_NORMAL
  zh: screen.draw.filled_rect(box, RED)
- en: box = Rect ((0, 0), (800, top_left_y + (room_height - 1)*30))
  id: totrans-601
  prefs: []
  type: TYPE_NORMAL
  zh: box = Rect ((0, 0), (800, top_left_y + (room_height - 1)*30))
- en: screen.surface.set_clip(box)
  id: totrans-602
  prefs: []
  type: TYPE_NORMAL
  zh: screen.surface.set_clip(box)
- en: floor_type = get_floor_type()
  id: totrans-603
  prefs: []
  type: TYPE_NORMAL
  zh: floor_type = get_floor_type()
- en: 'for y in range(room_height): # Lay down floor tiles, then items on floor.'
  id: totrans-604
  prefs: []
  type: TYPE_NORMAL
  zh: 'for y in range(room_height): # 铺设地板瓷砖，然后铺设地面物品。'
- en: 'for x in range(room_width):'
  id: totrans-605
  prefs: []
  type: TYPE_NORMAL
  zh: 'for x in range(room_width):'
- en: draw_image(objects[floor_type][0], y, x)
  id: totrans-606
  prefs: []
  type: TYPE_NORMAL
  zh: draw_image(objects[floor_type][0], y, x)
- en: '# Next line enables shadows to fall on top of objects on floor'
  id: totrans-607
  prefs: []
  type: TYPE_NORMAL
  zh: '# 下一行使阴影能够落在地面物体上方'
- en: 'if room_map[y][x] in items_player_may_stand_on:'
  id: totrans-608
  prefs: []
  type: TYPE_NORMAL
  zh: 'if room_map[y][x] in items_player_may_stand_on:'
- en: draw_image(objects[room_map[y][x]][0], y, x)
  id: totrans-609
  prefs: []
  type: TYPE_NORMAL
  zh: draw_image(objects[room_map[y][x]][0], y, x)
- en: '# Pressure pad in room 26 is added here, so props can go on top of it.'
  id: totrans-610
  prefs: []
  type: TYPE_NORMAL
  zh: '# 房间26中的压力垫在此处添加，以便道具可以放置在其上。'
- en: 'if current_room == 26:'
  id: totrans-611
  prefs: []
  type: TYPE_NORMAL
  zh: 'if current_room == 26:'
- en: draw_image(objects[39][0], 8, 2)
  id: totrans-612
  prefs: []
  type: TYPE_NORMAL
  zh: draw_image(objects[39][0], 8, 2)
- en: image_on_pad = room_map[8][2]
  id: totrans-613
  prefs: []
  type: TYPE_NORMAL
  zh: image_on_pad = room_map[8][2]
- en: 'if image_on_pad > 0:'
  id: totrans-614
  prefs: []
  type: TYPE_NORMAL
  zh: 'if image_on_pad > 0:'
- en: draw_image(objects[image_on_pad][0], 8, 2)
  id: totrans-615
  prefs: []
  type: TYPE_NORMAL
  zh: draw_image(objects[image_on_pad][0], 8, 2)
- en: 'for y in range(room_height):'
  id: totrans-616
  prefs: []
  type: TYPE_NORMAL
  zh: 'for y in range(room_height):'
- en: 'for x in range(room_width):'
  id: totrans-617
  prefs: []
  type: TYPE_NORMAL
  zh: 'for x in range(room_width):'
- en: item_here = room_map[y][x]
  id: totrans-618
  prefs: []
  type: TYPE_NORMAL
  zh: item_here = room_map[y][x]
- en: '# Player cannot walk on 255: it marks spaces used by wide objects.'
  id: totrans-619
  prefs: []
  type: TYPE_NORMAL
  zh: '# 玩家不能走到255位置：它标记了宽物体占据的空间。'
- en: 'if item_here not in items_player_may_stand_on + [255]:'
  id: totrans-620
  prefs: []
  type: TYPE_NORMAL
  zh: 'if item_here not in items_player_may_stand_on + [255]:'
- en: image = objects[item_here][0]
  id: totrans-621
  prefs: []
  type: TYPE_NORMAL
  zh: image = objects[item_here][0]
- en: if (current_room in outdoor_rooms
  id: totrans-622
  prefs: []
  type: TYPE_NORMAL
  zh: if (current_room in outdoor_rooms
- en: and y == room_height - 1
  id: totrans-623
  prefs: []
  type: TYPE_NORMAL
  zh: and y == room_height - 1
- en: and room_map[y][x] == 1) or \
  id: totrans-624
  prefs: []
  type: TYPE_NORMAL
  zh: and room_map[y][x] == 1) or \
- en: (current_room not in outdoor_rooms
  id: totrans-625
  prefs: []
  type: TYPE_NORMAL
  zh: (current_room not in outdoor_rooms
- en: and y == room_height - 1
  id: totrans-626
  prefs: []
  type: TYPE_NORMAL
  zh: and y == room_height - 1
- en: and room_map[y][x] == 1
  id: totrans-627
  prefs: []
  type: TYPE_NORMAL
  zh: and room_map[y][x] == 1
- en: and x > 0
  id: totrans-628
  prefs: []
  type: TYPE_NORMAL
  zh: and x > 0
- en: 'and x < room_width - 1):'
  id: totrans-629
  prefs: []
  type: TYPE_NORMAL
  zh: 'and x < room_width - 1):'
- en: '# Add transparent wall image in the front row.'
  id: totrans-630
  prefs: []
  type: TYPE_NORMAL
  zh: '# 在前排添加透明墙壁图像。'
- en: image = PILLARS[wall_transparency_frame]
  id: totrans-631
  prefs: []
  type: TYPE_NORMAL
  zh: image = PILLARS[wall_transparency_frame]
- en: draw_image(image, y, x)
  id: totrans-632
  prefs: []
  type: TYPE_NORMAL
  zh: draw_image(image, y, x)
- en: 'if objects[item_here][1] is not None: # If object has a shadow'
  id: totrans-633
  prefs: []
  type: TYPE_NORMAL
  zh: 'if objects[item_here][1] is not None: # 如果物体有阴影'
- en: shadow_image = objects[item_here][1]
  id: totrans-634
  prefs: []
  type: TYPE_NORMAL
  zh: shadow_image = objects[item_here][1]
- en: '# if shadow might need horizontal tiling'
  id: totrans-635
  prefs: []
  type: TYPE_NORMAL
  zh: '# 如果阴影可能需要水平平铺'
- en: if shadow_image in [images.half_shadow,
  id: totrans-636
  prefs: []
  type: TYPE_NORMAL
  zh: if shadow_image in [images.half_shadow,
- en: 'images.full_shadow]:'
  id: totrans-637
  prefs: []
  type: TYPE_NORMAL
  zh: 'images.full_shadow]:'
- en: shadow_width = int(image.get_width() / TILE_SIZE)
  id: totrans-638
  prefs: []
  type: TYPE_NORMAL
  zh: shadow_width = int(image.get_width() / TILE_SIZE)
- en: '# Use shadow across width of object.'
  id: totrans-639
  prefs: []
  type: TYPE_NORMAL
  zh: '# 使用跨越物体宽度的阴影。'
- en: 'for z in range(0, shadow_width):'
  id: totrans-640
  prefs: []
  type: TYPE_NORMAL
  zh: 'for z in range(0, shadow_width):'
- en: draw_shadow(shadow_image, y, x+z)
  id: totrans-641
  prefs: []
  type: TYPE_NORMAL
  zh: draw_shadow(shadow_image, y, x+z)
- en: 'else:'
  id: totrans-642
  prefs: []
  type: TYPE_NORMAL
  zh: 'else:'
- en: draw_shadow(shadow_image, y, x)
  id: totrans-643
  prefs: []
  type: TYPE_NORMAL
  zh: draw_shadow(shadow_image, y, x)
- en: hazard_here = hazard_map[y][x]
  id: totrans-644
  prefs: []
  type: TYPE_NORMAL
  zh: hazard_here = hazard_map[y][x]
- en: 'if hazard_here != 0: # If there''s a hazard at this position'
  id: totrans-645
  prefs: []
  type: TYPE_NORMAL
  zh: 'if hazard_here != 0: # 如果此位置有危险'
- en: draw_image(objects[hazard_here][0], y, x)
  id: totrans-646
  prefs: []
  type: TYPE_NORMAL
  zh: draw_image(objects[hazard_here][0], y, x)
- en: 'if (player_y == y):'
  id: totrans-647
  prefs: []
  type: TYPE_NORMAL
  zh: 'if (player_y == y):'
- en: draw_player()
  id: totrans-648
  prefs: []
  type: TYPE_NORMAL
  zh: draw_player()
- en: screen.surface.set_clip(None)
  id: totrans-649
  prefs: []
  type: TYPE_NORMAL
  zh: screen.surface.set_clip(None)
- en: 'def adjust_wall_transparency():'
  id: totrans-650
  prefs: []
  type: TYPE_NORMAL
  zh: 'def adjust_wall_transparency():'
- en: global wall_transparency_frame
  id: totrans-651
  prefs: []
  type: TYPE_NORMAL
  zh: global wall_transparency_frame
- en: if (player_y == room_height - 2
  id: totrans-652
  prefs: []
  type: TYPE_NORMAL
  zh: if (player_y == room_height - 2
- en: and room_map[room_height - 1][player_x] == 1
  id: totrans-653
  prefs: []
  type: TYPE_NORMAL
  zh: and room_map[room_height - 1][player_x] == 1
- en: 'and wall_transparency_frame < 4):'
  id: totrans-654
  prefs: []
  type: TYPE_NORMAL
  zh: 'and wall_transparency_frame < 4):'
- en: 'wall_transparency_frame += 1 # Fade wall out.'
  id: totrans-655
  prefs: []
  type: TYPE_NORMAL
  zh: 'wall_transparency_frame += 1 # 墙壁渐变消失。'
- en: if ((player_y < room_height - 2
  id: totrans-656
  prefs: []
  type: TYPE_NORMAL
  zh: if ((player_y < room_height - 2
- en: or room_map[room_height - 1][player_x] != 1)
  id: totrans-657
  prefs: []
  type: TYPE_NORMAL
  zh: or room_map[room_height - 1][player_x] != 1)
- en: 'and wall_transparency_frame > 0):'
  id: totrans-658
  prefs: []
  type: TYPE_NORMAL
  zh: 'and wall_transparency_frame > 0):'
- en: 'wall_transparency_frame -= 1 # Fade wall in.'
  id: totrans-659
  prefs: []
  type: TYPE_NORMAL
  zh: 'wall_transparency_frame -= 1 # 墙壁渐变出现。'
- en: 'def show_text(text_to_show, line_number):'
  id: totrans-660
  prefs: []
  type: TYPE_NORMAL
  zh: 'def show_text(text_to_show, line_number):'
- en: 'if game_over:'
  id: totrans-661
  prefs: []
  type: TYPE_NORMAL
  zh: 'if game_over:'
- en: return
  id: totrans-662
  prefs: []
  type: TYPE_NORMAL
  zh: return
- en: text_lines = [15, 50]
  id: totrans-663
  prefs: []
  type: TYPE_NORMAL
  zh: text_lines = [15, 50]
- en: box = Rect((0, text_lines[line_number]), (800, 35))
  id: totrans-664
  prefs: []
  type: TYPE_NORMAL
  zh: box = Rect((0, text_lines[line_number]), (800, 35))
- en: screen.draw.filled_rect(box, BLACK)
  id: totrans-665
  prefs: []
  type: TYPE_NORMAL
  zh: screen.draw.filled_rect(box, BLACK)
- en: screen.draw.text(text_to_show,
  id: totrans-666
  prefs: []
  type: TYPE_NORMAL
  zh: screen.draw.text(text_to_show,
- en: (20, text_lines[line_number]), color=GREEN)
  id: totrans-667
  prefs: []
  type: TYPE_NORMAL
  zh: (20, text_lines[line_number]), color=GREEN)
- en: '###############'
  id: totrans-668
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: '##   PROPS   ##'
  id: totrans-669
  prefs: []
  type: TYPE_NORMAL
  zh: '##   道具   ##'
- en: '###############'
  id: totrans-670
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: Props are objects that may move between rooms, appear or disappear.
  id: totrans-671
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 道具是可能在房间间移动、出现或消失的物体。
- en: All props must be set up here. Props not yet in the game go into room 0.
  id: totrans-672
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 所有道具必须在这里设置。游戏中尚未出现的道具进入房间0。
- en: 'object number : [room, y, x]'
  id: totrans-673
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 'object number : [room, y, x]'
- en: props = {
  id: totrans-674
  prefs: []
  type: TYPE_NORMAL
  zh: props = {
- en: '20: [31, 0, 4], 21: [26, 0, 1], 22: [41, 0, 2], 23: [39, 0, 5],'
  id: totrans-675
  prefs: []
  type: TYPE_NORMAL
  zh: '20: [31, 0, 4], 21: [26, 0, 1], 22: [41, 0, 2], 23: [39, 0, 5],'
- en: '24: [45, 0, 2],'
  id: totrans-676
  prefs: []
  type: TYPE_NORMAL
  zh: '24: [45, 0, 2],'
- en: '25: [32, 0, 2], 26: [27, 12, 5], # two sides of same door'
  id: totrans-677
  prefs: []
  type: TYPE_NORMAL
  zh: '25: [32, 0, 2], 26: [27, 12, 5], # 同一扇门的两侧'
- en: '40: [0, 8, 6], 53: [45, 1, 5], 54: [0, 0, 0], 55: [0, 0, 0],'
  id: totrans-678
  prefs: []
  type: TYPE_NORMAL
  zh: '40: [0, 8, 6], 53: [45, 1, 5], 54: [0, 0, 0], 55: [0, 0, 0],'
- en: '56: [0, 0, 0], 57: [35, 4, 6], 58: [0, 0, 0], 59: [31, 1, 7],'
  id: totrans-679
  prefs: []
  type: TYPE_NORMAL
  zh: '56: [0, 0, 0], 57: [35, 4, 6], 58: [0, 0, 0], 59: [31, 1, 7],'
- en: '60: [0, 0, 0], 61: [36, 1, 1], 62: [36, 1, 6], 63: [0, 0, 0],'
  id: totrans-680
  prefs: []
  type: TYPE_NORMAL
  zh: '60: [0, 0, 0], 61: [36, 1, 1], 62: [36, 1, 6], 63: [0, 0, 0],'
- en: '64: [27, 8, 3], 65: [50, 1, 7], 66: [39, 5, 6], 67: [46, 1, 1],'
  id: totrans-681
  prefs: []
  type: TYPE_NORMAL
  zh: '64: [27, 8, 3], 65: [50, 1, 7], 66: [39, 5, 6], 67: [46, 1, 1],'
- en: '68: [0, 0, 0], 69: [30, 3, 3], 70: [47, 1, 3],'
  id: totrans-682
  prefs: []
  type: TYPE_NORMAL
  zh: '68: [0, 0, 0], 69: [30, 3, 3], 70: [47, 1, 3],'
- en: '71: [0, LANDER_Y, LANDER_X], 72: [0, 0, 0], 73: [27, 4, 6],'
  id: totrans-683
  prefs: []
  type: TYPE_NORMAL
  zh: '71: [0, LANDER_Y, LANDER_X], 72: [0, 0, 0], 73: [27, 4, 6],'
- en: '74: [28, 1, 11], 75: [0, 0, 0], 76: [41, 3, 5], 77: [0, 0, 0],'
  id: totrans-684
  prefs: []
  type: TYPE_NORMAL
  zh: '74: [28, 1, 11], 75: [0, 0, 0], 76: [41, 3, 5], 77: [0, 0, 0],'
- en: '78: [35, 9, 11], 79: [26, 3, 2], 80: [41, 7, 5], 81: [29, 1, 1]'
  id: totrans-685
  prefs: []
  type: TYPE_NORMAL
  zh: '78: [35, 9, 11], 79: [26, 3, 2], 80: [41, 7, 5], 81: [29, 1, 1]'
- en: '}'
  id: totrans-686
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: checksum = 0
  id: totrans-687
  prefs: []
  type: TYPE_NORMAL
  zh: checksum = 0
- en: 'for key, prop in props.items():'
  id: totrans-688
  prefs: []
  type: TYPE_NORMAL
  zh: 'for key, prop in props.items():'
- en: 'if key != 71: # 71 is skipped because it''s different each game.'
  id: totrans-689
  prefs: []
  type: TYPE_NORMAL
  zh: 'if key != 71: # 71 被跳过，因为每局游戏都不同。'
- en: checksum += (prop[0] * key
  id: totrans-690
  prefs: []
  type: TYPE_NORMAL
  zh: checksum += (prop[0] * key
- en: + prop[1] * (key + 1)
  id: totrans-691
  prefs: []
  type: TYPE_NORMAL
  zh: + prop[1] * (key + 1)
- en: + prop[2] * (key + 2))
  id: totrans-692
  prefs: []
  type: TYPE_NORMAL
  zh: + prop[2] * (key + 2))
- en: print(len(props), "props")
  id: totrans-693
  prefs: []
  type: TYPE_NORMAL
  zh: print(len(props), "道具")
- en: assert len(props) == 37, "Expected 37 prop items"
  id: totrans-694
  prefs: []
  type: TYPE_NORMAL
  zh: assert len(props) == 37, "预期有 37 个道具"
- en: print("Prop checksum:", checksum)
  id: totrans-695
  prefs: []
  type: TYPE_NORMAL
  zh: print("道具校验和:", checksum)
- en: assert checksum == 61414, "Error in props data"
  id: totrans-696
  prefs: []
  type: TYPE_NORMAL
  zh: assert checksum == 61414, "道具数据错误"
- en: in_my_pockets = [55]
  id: totrans-697
  prefs: []
  type: TYPE_NORMAL
  zh: in_my_pockets = [55]
- en: 'selected_item = 0 # the first item'
  id: totrans-698
  prefs: []
  type: TYPE_NORMAL
  zh: 'selected_item = 0 # 第一个物品'
- en: item_carrying = in_my_pockets[selected_item]
  id: totrans-699
  prefs: []
  type: TYPE_NORMAL
  zh: item_carrying = in_my_pockets[selected_item]
- en: RECIPES = [
  id: totrans-700
  prefs: []
  type: TYPE_NORMAL
  zh: RECIPES = [
- en: '[62, 35, 63], [76, 28, 77], [78, 38, 54], [73, 74, 75],'
  id: totrans-701
  prefs: []
  type: TYPE_NORMAL
  zh: '[62, 35, 63], [76, 28, 77], [78, 38, 54], [73, 74, 75],'
- en: '[59, 54, 60], [77, 55, 56], [56, 57, 58], [71, 65, 72],'
  id: totrans-702
  prefs: []
  type: TYPE_NORMAL
  zh: '[59, 54, 60], [77, 55, 56], [56, 57, 58], [71, 65, 72],'
- en: '[88, 58, 89], [89, 60, 90], [67, 35, 68]'
  id: totrans-703
  prefs: []
  type: TYPE_NORMAL
  zh: '[88, 58, 89], [89, 60, 90], [67, 35, 68]'
- en: ']'
  id: totrans-704
  prefs: []
  type: TYPE_NORMAL
  zh: ']'
- en: checksum = 0
  id: totrans-705
  prefs: []
  type: TYPE_NORMAL
  zh: checksum = 0
- en: check_counter = 1
  id: totrans-706
  prefs: []
  type: TYPE_NORMAL
  zh: check_counter = 1
- en: 'for recipe in RECIPES:'
  id: totrans-707
  prefs: []
  type: TYPE_NORMAL
  zh: 'for recipe in RECIPES:'
- en: checksum += (recipe[0] * check_counter
  id: totrans-708
  prefs: []
  type: TYPE_NORMAL
  zh: checksum += (recipe[0] * check_counter
- en: + recipe[1] * (check_counter + 1)
  id: totrans-709
  prefs: []
  type: TYPE_NORMAL
  zh: + recipe[1] * (check_counter + 1)
- en: + recipe[2] * (check_counter + 2))
  id: totrans-710
  prefs: []
  type: TYPE_NORMAL
  zh: + recipe[2] * (check_counter + 2))
- en: check_counter += 3
  id: totrans-711
  prefs: []
  type: TYPE_NORMAL
  zh: check_counter += 3
- en: print(len(RECIPES), "recipes")
  id: totrans-712
  prefs: []
  type: TYPE_NORMAL
  zh: print(len(RECIPES), "配方")
- en: assert len(RECIPES) == 11, "Expected 11 recipes"
  id: totrans-713
  prefs: []
  type: TYPE_NORMAL
  zh: assert len(RECIPES) == 11, "预期有 11 个配方"
- en: assert checksum == 37296, "Error in recipes data"
  id: totrans-714
  prefs: []
  type: TYPE_NORMAL
  zh: assert checksum == 37296, "配方数据错误"
- en: print("Recipe checksum:", checksum)
  id: totrans-715
  prefs: []
  type: TYPE_NORMAL
  zh: print("配方校验和:", checksum)
- en: '#######################'
  id: totrans-716
  prefs: []
  type: TYPE_NORMAL
  zh: '#######################'
- en: 'PROP INTERACTIONS ##'
  id: totrans-717
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 'PROP INTERACTIONS ##'
- en: '#######################'
  id: totrans-718
  prefs: []
  type: TYPE_NORMAL
  zh: '#######################'
- en: 'def find_object_start_x():'
  id: totrans-719
  prefs: []
  type: TYPE_NORMAL
  zh: 'def find_object_start_x():'
- en: checker_x = player_x
  id: totrans-720
  prefs: []
  type: TYPE_NORMAL
  zh: checker_x = player_x
- en: 'while room_map[player_y][checker_x] == 255:'
  id: totrans-721
  prefs: []
  type: TYPE_NORMAL
  zh: 'while room_map[player_y][checker_x] == 255:'
- en: checker_x -= 1
  id: totrans-722
  prefs: []
  type: TYPE_NORMAL
  zh: checker_x -= 1
- en: return checker_x
  id: totrans-723
  prefs: []
  type: TYPE_NORMAL
  zh: return checker_x
- en: 'def get_item_under_player():'
  id: totrans-724
  prefs: []
  type: TYPE_NORMAL
  zh: 'def get_item_under_player():'
- en: item_x = find_object_start_x()
  id: totrans-725
  prefs: []
  type: TYPE_NORMAL
  zh: item_x = find_object_start_x()
- en: item_player_is_on = room_map[player_y][item_x]
  id: totrans-726
  prefs: []
  type: TYPE_NORMAL
  zh: item_player_is_on = room_map[player_y][item_x]
- en: return item_player_is_on
  id: totrans-727
  prefs: []
  type: TYPE_NORMAL
  zh: return item_player_is_on
- en: 'def pick_up_object():'
  id: totrans-728
  prefs: []
  type: TYPE_NORMAL
  zh: 'def pick_up_object():'
- en: global room_map
  id: totrans-729
  prefs: []
  type: TYPE_NORMAL
  zh: global room_map
- en: '# Get object number at player''s location.'
  id: totrans-730
  prefs: []
  type: TYPE_NORMAL
  zh: '# 获取玩家位置的物品编号。'
- en: item_player_is_on = get_item_under_player()
  id: totrans-731
  prefs: []
  type: TYPE_NORMAL
  zh: item_player_is_on = get_item_under_player()
- en: 'if item_player_is_on in items_player_may_carry:'
  id: totrans-732
  prefs: []
  type: TYPE_NORMAL
  zh: 'if item_player_is_on in items_player_may_carry:'
- en: '# Clear the floor space.'
  id: totrans-733
  prefs: []
  type: TYPE_NORMAL
  zh: '# 清除地面空间。'
- en: room_map[player_y][player_x] = get_floor_type()
  id: totrans-734
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[player_y][player_x] = get_floor_type()
- en: add_object(item_player_is_on)
  id: totrans-735
  prefs: []
  type: TYPE_NORMAL
  zh: add_object(item_player_is_on)
- en: show_text("Now carrying " + objects[item_player_is_on][3], 0)
  id: totrans-736
  prefs: []
  type: TYPE_NORMAL
  zh: show_text("现在携带 " + objects[item_player_is_on][3], 0)
- en: sounds.pickup.play()
  id: totrans-737
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.pickup.play()
- en: time.sleep(0.5)
  id: totrans-738
  prefs: []
  type: TYPE_NORMAL
  zh: time.sleep(0.5)
- en: 'else:'
  id: totrans-739
  prefs: []
  type: TYPE_NORMAL
  zh: 'else:'
- en: show_text("You can't carry that!", 0)
  id: totrans-740
  prefs: []
  type: TYPE_NORMAL
  zh: show_text("你无法携带这个！", 0)
- en: 'def add_object(item): # Adds item to inventory.'
  id: totrans-741
  prefs: []
  type: TYPE_NORMAL
  zh: 'def add_object(item): # 将物品添加到背包中。'
- en: global selected_item, item_carrying
  id: totrans-742
  prefs: []
  type: TYPE_NORMAL
  zh: global selected_item, item_carrying
- en: in_my_pockets.append(item)
  id: totrans-743
  prefs: []
  type: TYPE_NORMAL
  zh: in_my_pockets.append(item)
- en: item_carrying = item
  id: totrans-744
  prefs: []
  type: TYPE_NORMAL
  zh: item_carrying = item
- en: '# Minus one because indexes start at 0.'
  id: totrans-745
  prefs: []
  type: TYPE_NORMAL
  zh: '# 减一因为索引从 0 开始。'
- en: selected_item = len(in_my_pockets) - 1
  id: totrans-746
  prefs: []
  type: TYPE_NORMAL
  zh: selected_item = len(in_my_pockets) - 1
- en: display_inventory()
  id: totrans-747
  prefs: []
  type: TYPE_NORMAL
  zh: display_inventory()
- en: 'props[item][0] = 0 # Carried objects go into room 0 (off the map).'
  id: totrans-748
  prefs: []
  type: TYPE_NORMAL
  zh: 'props[item][0] = 0 # 携带的物品进入房间 0（地图外）。'
- en: 'def display_inventory():'
  id: totrans-749
  prefs: []
  type: TYPE_NORMAL
  zh: 'def display_inventory():'
- en: box = Rect((0, 45), (800, 105))
  id: totrans-750
  prefs: []
  type: TYPE_NORMAL
  zh: box = Rect((0, 45), (800, 105))
- en: screen.draw.filled_rect(box, BLACK)
  id: totrans-751
  prefs: []
  type: TYPE_NORMAL
  zh: screen.draw.filled_rect(box, BLACK)
- en: 'if len(in_my_pockets) == 0:'
  id: totrans-752
  prefs: []
  type: TYPE_NORMAL
  zh: 'if len(in_my_pockets) == 0:'
- en: return
  id: totrans-753
  prefs: []
  type: TYPE_NORMAL
  zh: return
- en: start_display = (selected_item // 16) * 16
  id: totrans-754
  prefs: []
  type: TYPE_NORMAL
  zh: start_display = (selected_item // 16) * 16
- en: 'list_to_show = in_my_pockets[start_display : start_display + 16]'
  id: totrans-755
  prefs: []
  type: TYPE_NORMAL
  zh: 'list_to_show = in_my_pockets[start_display : start_display + 16]'
- en: selected_marker = selected_item % 16
  id: totrans-756
  prefs: []
  type: TYPE_NORMAL
  zh: selected_marker = selected_item % 16
- en: 'for item_counter in range(len(list_to_show)):'
  id: totrans-757
  prefs: []
  type: TYPE_NORMAL
  zh: 'for item_counter in range(len(list_to_show)):'
- en: item_number = list_to_show[item_counter]
  id: totrans-758
  prefs: []
  type: TYPE_NORMAL
  zh: item_number = list_to_show[item_counter]
- en: image = objects[item_number][0]
  id: totrans-759
  prefs: []
  type: TYPE_NORMAL
  zh: image = objects[item_number][0]
- en: screen.blit(image, (25 + (46 * item_counter), 90))
  id: totrans-760
  prefs: []
  type: TYPE_NORMAL
  zh: screen.blit(image, (25 + (46 * item_counter), 90))
- en: box_left = (selected_marker * 46) - 3
  id: totrans-761
  prefs: []
  type: TYPE_NORMAL
  zh: box_left = (selected_marker * 46) - 3
- en: box = Rect((22 + box_left, 85), (40, 40))
  id: totrans-762
  prefs: []
  type: TYPE_NORMAL
  zh: box = Rect((22 + box_left, 85), (40, 40))
- en: screen.draw.rect(box, WHITE)
  id: totrans-763
  prefs: []
  type: TYPE_NORMAL
  zh: screen.draw.rect(box, WHITE)
- en: item_highlighted = in_my_pockets[selected_item]
  id: totrans-764
  prefs: []
  type: TYPE_NORMAL
  zh: item_highlighted = in_my_pockets[selected_item]
- en: description = objects[item_highlighted][2]
  id: totrans-765
  prefs: []
  type: TYPE_NORMAL
  zh: description = objects[item_highlighted][2]
- en: screen.draw.text(description, (20, 130), color="white")
  id: totrans-766
  prefs: []
  type: TYPE_NORMAL
  zh: screen.draw.text(description, (20, 130), color="white")
- en: 'def drop_object(old_y, old_x):'
  id: totrans-767
  prefs: []
  type: TYPE_NORMAL
  zh: 'def drop_object(old_y, old_x):'
- en: global room_map, props
  id: totrans-768
  prefs: []
  type: TYPE_NORMAL
  zh: global room_map, props
- en: 'if room_map[old_y][old_x] in [0, 2, 39]: # places you can drop things'
  id: totrans-769
  prefs: []
  type: TYPE_NORMAL
  zh: 'if room_map[old_y][old_x] in [0, 2, 39]: # 可以丢东西的地方'
- en: props[item_carrying][0] = current_room
  id: totrans-770
  prefs: []
  type: TYPE_NORMAL
  zh: props[item_carrying][0] = current_room
- en: props[item_carrying][1] = old_y
  id: totrans-771
  prefs: []
  type: TYPE_NORMAL
  zh: props[item_carrying][1] = old_y
- en: props[item_carrying][2] = old_x
  id: totrans-772
  prefs: []
  type: TYPE_NORMAL
  zh: props[item_carrying][2] = old_x
- en: room_map[old_y][old_x] = item_carrying
  id: totrans-773
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[old_y][old_x] = item_carrying
- en: show_text("You have dropped " + objects[item_carrying][3], 0)
  id: totrans-774
  prefs: []
  type: TYPE_NORMAL
  zh: show_text("你丢下了 " + objects[item_carrying][3], 0)
- en: sounds.drop.play()
  id: totrans-775
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.drop.play()
- en: remove_object(item_carrying)
  id: totrans-776
  prefs: []
  type: TYPE_NORMAL
  zh: remove_object(item_carrying)
- en: time.sleep(0.5)
  id: totrans-777
  prefs: []
  type: TYPE_NORMAL
  zh: time.sleep(0.5)
- en: 'else: # This only happens if there is already a prop here'
  id: totrans-778
  prefs: []
  type: TYPE_NORMAL
  zh: 'else: # 如果这里已经有物品，则执行这个'
- en: show_text("You can't drop that there.", 0)
  id: totrans-779
  prefs: []
  type: TYPE_NORMAL
  zh: show_text("你不能把它丢在这里。", 0)
- en: time.sleep(0.5)
  id: totrans-780
  prefs: []
  type: TYPE_NORMAL
  zh: time.sleep(0.5)
- en: 'def remove_object(item): # Takes item out of inventory'
  id: totrans-781
  prefs: []
  type: TYPE_NORMAL
  zh: 'def remove_object(item): # 从背包中移除物品'
- en: global selected_item, in_my_pockets, item_carrying
  id: totrans-782
  prefs: []
  type: TYPE_NORMAL
  zh: global selected_item, in_my_pockets, item_carrying
- en: in_my_pockets.remove(item)
  id: totrans-783
  prefs: []
  type: TYPE_NORMAL
  zh: in_my_pockets.remove(item)
- en: selected_item = selected_item - 1
  id: totrans-784
  prefs: []
  type: TYPE_NORMAL
  zh: selected_item = selected_item - 1
- en: 'if selected_item < 0:'
  id: totrans-785
  prefs: []
  type: TYPE_NORMAL
  zh: 'if selected_item < 0:'
- en: selected_item = 0
  id: totrans-786
  prefs: []
  type: TYPE_NORMAL
  zh: selected_item = 0
- en: 'if len(in_my_pockets) == 0: # If they''re not carrying anything'
  id: totrans-787
  prefs: []
  type: TYPE_NORMAL
  zh: 'if len(in_my_pockets) == 0: # 如果背包中没有物品'
- en: 'item_carrying = False # Set item_carrying to False'
  id: totrans-788
  prefs: []
  type: TYPE_NORMAL
  zh: 'item_carrying = False # 将 item_carrying 设置为 False'
- en: 'else: # Otherwise set it to the new selected item'
  id: totrans-789
  prefs: []
  type: TYPE_NORMAL
  zh: 'else: # 否则，将其设置为新选择的物品'
- en: item_carrying = in_my_pockets[selected_item]
  id: totrans-790
  prefs: []
  type: TYPE_NORMAL
  zh: item_carrying = in_my_pockets[selected_item]
- en: display_inventory()
  id: totrans-791
  prefs: []
  type: TYPE_NORMAL
  zh: display_inventory()
- en: 'def examine_object():'
  id: totrans-792
  prefs: []
  type: TYPE_NORMAL
  zh: 'def examine_object():'
- en: item_player_is_on = get_item_under_player()
  id: totrans-793
  prefs: []
  type: TYPE_NORMAL
  zh: item_player_is_on = get_item_under_player()
- en: left_tile_of_item = find_object_start_x()
  id: totrans-794
  prefs: []
  type: TYPE_NORMAL
  zh: left_tile_of_item = find_object_start_x()
- en: 'if item_player_is_on in [0, 2]: # don''t describe the floor'
  id: totrans-795
  prefs: []
  type: TYPE_NORMAL
  zh: 'if item_player_is_on in [0, 2]: # 不描述地板'
- en: return
  id: totrans-796
  prefs: []
  type: TYPE_NORMAL
  zh: return
- en: 'description = "You see: " + objects[item_player_is_on][2]'
  id: totrans-797
  prefs: []
  type: TYPE_NORMAL
  zh: description = "你看到： " + objects[item_player_is_on][2]
- en: 'for prop_number, details in props.items():'
  id: totrans-798
  prefs: []
  type: TYPE_NORMAL
  zh: 'for prop_number, details in props.items():'
- en: '# props = object number: [room number, y, x]'
  id: totrans-799
  prefs: []
  type: TYPE_NORMAL
  zh: '# props = 物品编号：[房间编号，y，x]'
- en: 'if details[0] == current_room: # if prop is in the room'
  id: totrans-800
  prefs: []
  type: TYPE_NORMAL
  zh: 'if details[0] == current_room: # 如果物品在房间内'
- en: '# If prop is hidden (= at player''s location but not on map)'
  id: totrans-801
  prefs: []
  type: TYPE_NORMAL
  zh: '# 如果物品是隐藏的（即在玩家位置但不在地图上）'
- en: if (details[1] == player_y
  id: totrans-802
  prefs: []
  type: TYPE_NORMAL
  zh: if (details[1] == player_y
- en: and details[2] == left_tile_of_item
  id: totrans-803
  prefs: []
  type: TYPE_NORMAL
  zh: 和 details[2] == left_tile_of_item
- en: 'and room_map[details[1]][details[2]] != prop_number):'
  id: totrans-804
  prefs: []
  type: TYPE_NORMAL
  zh: '和 room_map[details[1]][details[2]] != prop_number):'
- en: add_object(prop_number)
  id: totrans-805
  prefs: []
  type: TYPE_NORMAL
  zh: add_object(prop_number)
- en: description = "You found " + objects[prop_number][3]
  id: totrans-806
  prefs: []
  type: TYPE_NORMAL
  zh: description = "你找到了 " + objects[prop_number][3]
- en: sounds.combine.play()
  id: totrans-807
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.combine.play()
- en: show_text(description, 0)
  id: totrans-808
  prefs: []
  type: TYPE_NORMAL
  zh: show_text(description, 0)
- en: time.sleep(0.5)
  id: totrans-809
  prefs: []
  type: TYPE_NORMAL
  zh: time.sleep(0.5)
- en: '#################'
  id: totrans-810
  prefs: []
  type: TYPE_NORMAL
  zh: '#################'
- en: 'USE OBJECTS ##'
  id: totrans-811
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '使用物品 ##'
- en: '#################'
  id: totrans-812
  prefs: []
  type: TYPE_NORMAL
  zh: '#################'
- en: 'def use_object():'
  id: totrans-813
  prefs: []
  type: TYPE_NORMAL
  zh: 'def use_object():'
- en: global room_map, props, item_carrying, air, selected_item, energy
  id: totrans-814
  prefs: []
  type: TYPE_NORMAL
  zh: global room_map, props, item_carrying, air, selected_item, energy
- en: global in_my_pockets, suit_stitched, air_fixed, game_over
  id: totrans-815
  prefs: []
  type: TYPE_NORMAL
  zh: global in_my_pockets, suit_stitched, air_fixed, game_over
- en: use_message = "You fiddle around with it but don't get anywhere."
  id: totrans-816
  prefs: []
  type: TYPE_NORMAL
  zh: use_message = "你摆弄了一阵子，但没有什么进展。"
- en: standard_responses = {
  id: totrans-817
  prefs: []
  type: TYPE_NORMAL
  zh: standard_responses = {
- en: '4: "Air is running out! You can''t take this lying down!",'
  id: totrans-818
  prefs: []
  type: TYPE_NORMAL
  zh: '4: "空气快用完了！你不能坐视不管！",'
- en: '6: "This is no time to sit around!",'
  id: totrans-819
  prefs: []
  type: TYPE_NORMAL
  zh: '6: "现在不是坐着不动的时候！",'
- en: '7: "This is no time to sit around!",'
  id: totrans-820
  prefs: []
  type: TYPE_NORMAL
  zh: '7: "现在不是坐着不动的时候！",'
- en: '32: "It shakes and rumbles, but nothing else happens.",'
  id: totrans-821
  prefs: []
  type: TYPE_NORMAL
  zh: '32: "它摇晃并发出轰鸣声，但什么也没发生。",'
- en: '34: "Ah! That''s better. Now wash your hands.",'
  id: totrans-822
  prefs: []
  type: TYPE_NORMAL
  zh: '34: "啊！好多了。现在洗洗手吧。",'
- en: '35: "You wash your hands and shake the water off.",'
  id: totrans-823
  prefs: []
  type: TYPE_NORMAL
  zh: '35: "你洗了洗手，并把水甩掉。",'
- en: '37: "The test tubes smoke slightly as you shake them.",'
  id: totrans-824
  prefs: []
  type: TYPE_NORMAL
  zh: '37: "试管在你摇晃时微微冒烟。",'
- en: '54: "You chew the gum. It''s sticky like glue.",'
  id: totrans-825
  prefs: []
  type: TYPE_NORMAL
  zh: '54: "你嚼了口口香糖，黏黏的像胶水。",'
- en: '55: "The yoyo bounces up and down, slightly slower than on Earth",'
  id: totrans-826
  prefs: []
  type: TYPE_NORMAL
  zh: '55: "溜溜球上下弹跳，速度比地球上稍慢",'
- en: '56: "It''s a bit too fiddly. Can you thread it on something?",'
  id: totrans-827
  prefs: []
  type: TYPE_NORMAL
  zh: '56: "有点麻烦。你能把它穿到什么东西上去吗？",'
- en: '59: "You need to fix the leak before you can use the canister",'
  id: totrans-828
  prefs: []
  type: TYPE_NORMAL
  zh: '59: "你需要修理泄漏才能使用罐子。",'
- en: '61: "You try signalling with the mirror, but nobody can see you.",'
  id: totrans-829
  prefs: []
  type: TYPE_NORMAL
  zh: '61: "你试着用镜子示意，但没有人能看到你。",'
- en: '62: "Don''t throw resources away. Things might come in handy...",'
  id: totrans-830
  prefs: []
  type: TYPE_NORMAL
  zh: '62: "别把资源浪费掉，东西可能会派上用场...",'
- en: '67: "To enjoy yummy space food, just add water!",'
  id: totrans-831
  prefs: []
  type: TYPE_NORMAL
  zh: '67: "想享受美味的太空食物，只需加水！",'
- en: '75: "You are at Sector: " + str(current_room) + " // X: " \'
  id: totrans-832
  prefs: []
  type: TYPE_NORMAL
  zh: '75: "你位于区域: " + str(current_room) + " // X: " \'
- en: '+ str(player_x) + " // Y: " + str(player_y)'
  id: totrans-833
  prefs: []
  type: TYPE_NORMAL
  zh: '+ str(player_x) + " // Y: " + str(player_y)'
- en: '}'
  id: totrans-834
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '# Get object number at player''s location.'
  id: totrans-835
  prefs: []
  type: TYPE_NORMAL
  zh: '# 获取玩家位置的物品编号。'
- en: item_player_is_on = get_item_under_player()
  id: totrans-836
  prefs: []
  type: TYPE_NORMAL
  zh: item_player_is_on = get_item_under_player()
- en: 'for this_item in [item_player_is_on, item_carrying]:'
  id: totrans-837
  prefs: []
  type: TYPE_NORMAL
  zh: 'for this_item in [item_player_is_on, item_carrying]:'
- en: 'if this_item in standard_responses:'
  id: totrans-838
  prefs: []
  type: TYPE_NORMAL
  zh: 'if this_item in standard_responses:'
- en: use_message = standard_responses[this_item]
  id: totrans-839
  prefs: []
  type: TYPE_NORMAL
  zh: use_message = standard_responses[this_item]
- en: 'if item_carrying == 70 or item_player_is_on == 70:'
  id: totrans-840
  prefs: []
  type: TYPE_NORMAL
  zh: 'if item_carrying == 70 or item_player_is_on == 70:'
- en: use_message = "Banging tunes!"
  id: totrans-841
  prefs: []
  type: TYPE_NORMAL
  zh: use_message = "震撼的音乐！"
- en: sounds.steelmusic.play(2)
  id: totrans-842
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.steelmusic.play(2)
- en: 'elif item_player_is_on == 11:'
  id: totrans-843
  prefs: []
  type: TYPE_NORMAL
  zh: 'elif item_player_is_on == 11:'
- en: 'use_message = "AIR: " + str(air) + \'
  id: totrans-844
  prefs: []
  type: TYPE_NORMAL
  zh: 'use_message = "空气: " + str(air) + \'
- en: '"% / ENERGY " + str(energy) + "% / "'
  id: totrans-845
  prefs: []
  type: TYPE_NORMAL
  zh: '"% / 能量 " + str(energy) + "% / "'
- en: 'if not suit_stitched:'
  id: totrans-846
  prefs: []
  type: TYPE_NORMAL
  zh: 'if not suit_stitched:'
- en: use_message += "*ALERT* SUIT FABRIC TORN / "
  id: totrans-847
  prefs: []
  type: TYPE_NORMAL
  zh: use_message += "*警告* 套装面料撕裂 / "
- en: 'if not air_fixed:'
  id: totrans-848
  prefs: []
  type: TYPE_NORMAL
  zh: 'if not air_fixed:'
- en: use_message += "*ALERT* SUIT AIR BOTTLE MISSING"
  id: totrans-849
  prefs: []
  type: TYPE_NORMAL
  zh: use_message += "*警告* 套装空气瓶丢失"
- en: 'if suit_stitched and air_fixed:'
  id: totrans-850
  prefs: []
  type: TYPE_NORMAL
  zh: 'if suit_stitched and air_fixed:'
- en: use_message += " SUIT OK"
  id: totrans-851
  prefs: []
  type: TYPE_NORMAL
  zh: use_message += " 套装正常"
- en: show_text(use_message, 0)
  id: totrans-852
  prefs: []
  type: TYPE_NORMAL
  zh: show_text(use_message, 0)
- en: sounds.say_status_report.play()
  id: totrans-853
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.say_status_report.play()
- en: time.sleep(0.5)
  id: totrans-854
  prefs: []
  type: TYPE_NORMAL
  zh: time.sleep(0.5)
- en: '# If "on" the computer, player intention is clearly status update.'
  id: totrans-855
  prefs: []
  type: TYPE_NORMAL
  zh: '# 如果玩家“在”计算机上，玩家的意图显然是更新状态。'
- en: '# Return to stop another object use accidentally overriding this.'
  id: totrans-856
  prefs: []
  type: TYPE_NORMAL
  zh: '# 返回以防止其他物品使用意外覆盖此项。'
- en: return
  id: totrans-857
  prefs: []
  type: TYPE_NORMAL
  zh: return
- en: 'elif item_carrying == 60 or item_player_is_on == 60:'
  id: totrans-858
  prefs: []
  type: TYPE_NORMAL
  zh: 'elif item_carrying == 60 or item_player_is_on == 60:'
- en: use_message = "You fix " + objects[60][3] + " to the suit"
  id: totrans-859
  prefs: []
  type: TYPE_NORMAL
  zh: use_message = "你将" + objects[60][3] + "修复到套装上"
- en: air_fixed = True
  id: totrans-860
  prefs: []
  type: TYPE_NORMAL
  zh: air_fixed = True
- en: air = 90
  id: totrans-861
  prefs: []
  type: TYPE_NORMAL
  zh: air = 90
- en: air_countdown()
  id: totrans-862
  prefs: []
  type: TYPE_NORMAL
  zh: air_countdown()
- en: remove_object(60)
  id: totrans-863
  prefs: []
  type: TYPE_NORMAL
  zh: remove_object(60)
- en: elif (item_carrying == 58 or item_player_is_on == 58) \
  id: totrans-864
  prefs: []
  type: TYPE_NORMAL
  zh: elif (item_carrying == 58 or item_player_is_on == 58) \
- en: 'and not suit_stitched:'
  id: totrans-865
  prefs: []
  type: TYPE_NORMAL
  zh: 'and not suit_stitched:'
- en: use_message = "You use " + objects[56][3] + \
  id: totrans-866
  prefs: []
  type: TYPE_NORMAL
  zh: use_message = "你使用了" + objects[56][3] + \
- en: '" to repair the suit fabric"'
  id: totrans-867
  prefs: []
  type: TYPE_NORMAL
  zh: '" 修复套装面料"'
- en: suit_stitched = True
  id: totrans-868
  prefs: []
  type: TYPE_NORMAL
  zh: suit_stitched = True
- en: remove_object(58)
  id: totrans-869
  prefs: []
  type: TYPE_NORMAL
  zh: remove_object(58)
- en: 'elif item_carrying == 72 or item_player_is_on == 72:'
  id: totrans-870
  prefs: []
  type: TYPE_NORMAL
  zh: 'elif item_carrying == 72 or item_player_is_on == 72:'
- en: use_message = "You radio for help. A rescue ship is coming. \
  id: totrans-871
  prefs: []
  type: TYPE_NORMAL
  zh: use_message = "你呼叫了救援。救援船正在来。\
- en: Rendezvous Sector 13, outside."
  id: totrans-872
  prefs: []
  type: TYPE_NORMAL
  zh: 会合区域13，外部。"
- en: props[40][0] = 13
  id: totrans-873
  prefs: []
  type: TYPE_NORMAL
  zh: props[40][0] = 13
- en: elif (item_carrying == 66 or item_player_is_on == 66) \
  id: totrans-874
  prefs: []
  type: TYPE_NORMAL
  zh: elif (item_carrying == 66 or item_player_is_on == 66) \
- en: 'and current_room in outdoor_rooms:'
  id: totrans-875
  prefs: []
  type: TYPE_NORMAL
  zh: 'and current_room in outdoor_rooms:'
- en: use_message = "You dig..."
  id: totrans-876
  prefs: []
  type: TYPE_NORMAL
  zh: use_message = "你开始挖掘..."
- en: if (current_room == LANDER_SECTOR
  id: totrans-877
  prefs: []
  type: TYPE_NORMAL
  zh: if (current_room == LANDER_SECTOR
- en: and player_x == LANDER_X
  id: totrans-878
  prefs: []
  type: TYPE_NORMAL
  zh: and player_x == LANDER_X
- en: 'and player_y == LANDER_Y):'
  id: totrans-879
  prefs: []
  type: TYPE_NORMAL
  zh: 'and player_y == LANDER_Y):'
- en: add_object(71)
  id: totrans-880
  prefs: []
  type: TYPE_NORMAL
  zh: add_object(71)
- en: use_message = "You found the Poodle lander!"
  id: totrans-881
  prefs: []
  type: TYPE_NORMAL
  zh: use_message = "你找到了贵宾犬着陆器！"
- en: 'elif item_player_is_on == 40:'
  id: totrans-882
  prefs: []
  type: TYPE_NORMAL
  zh: 'elif item_player_is_on == 40:'
- en: clock.unschedule(air_countdown)
  id: totrans-883
  prefs: []
  type: TYPE_NORMAL
  zh: clock.unschedule(air_countdown)
- en: show_text("Congratulations, "+ PLAYER_NAME +"!", 0)
  id: totrans-884
  prefs: []
  type: TYPE_NORMAL
  zh: show_text("恭喜，"+ PLAYER_NAME +"!", 0)
- en: show_text("Mission success! You have made it to safety.", 1)
  id: totrans-885
  prefs: []
  type: TYPE_NORMAL
  zh: show_text("任务成功！你已经安全到达。", 1)
- en: game_over = True
  id: totrans-886
  prefs: []
  type: TYPE_NORMAL
  zh: game_over = True
- en: sounds.take_off.play()
  id: totrans-887
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.take_off.play()
- en: game_completion_sequence()
  id: totrans-888
  prefs: []
  type: TYPE_NORMAL
  zh: game_completion_sequence()
- en: 'elif item_player_is_on == 16:'
  id: totrans-889
  prefs: []
  type: TYPE_NORMAL
  zh: 'elif item_player_is_on == 16:'
- en: energy += 1
  id: totrans-890
  prefs: []
  type: TYPE_NORMAL
  zh: energy += 1
- en: 'if energy > 100:'
  id: totrans-891
  prefs: []
  type: TYPE_NORMAL
  zh: 'if energy > 100:'
- en: energy = 100
  id: totrans-892
  prefs: []
  type: TYPE_NORMAL
  zh: energy = 100
- en: use_message = "You munch the lettuce and get a little energy back"
  id: totrans-893
  prefs: []
  type: TYPE_NORMAL
  zh: use_message = "你吃了生菜，恢复了一些能量"
- en: draw_energy_air()
  id: totrans-894
  prefs: []
  type: TYPE_NORMAL
  zh: draw_energy_air()
- en: 'elif item_player_is_on == 42:'
  id: totrans-895
  prefs: []
  type: TYPE_NORMAL
  zh: 'elif item_player_is_on == 42:'
- en: 'if current_room == 27:'
  id: totrans-896
  prefs: []
  type: TYPE_NORMAL
  zh: 'if current_room == 27:'
- en: open_door(26)
  id: totrans-897
  prefs: []
  type: TYPE_NORMAL
  zh: open_door(26)
- en: 'props[25][0] = 0 # Door from RM32 to engineering bay'
  id: totrans-898
  prefs: []
  type: TYPE_NORMAL
  zh: 'props[25][0] = 0 # 从RM32到工程舱的门'
- en: 'props[26][0] = 0 # Door inside engineering bay'
  id: totrans-899
  prefs: []
  type: TYPE_NORMAL
  zh: 'props[26][0] = 0 # 工程舱内的门'
- en: clock.schedule_unique(shut_engineering_door, 60)
  id: totrans-900
  prefs: []
  type: TYPE_NORMAL
  zh: clock.schedule_unique(shut_engineering_door, 60)
- en: use_message = "You press the button"
  id: totrans-901
  prefs: []
  type: TYPE_NORMAL
  zh: use_message = "你按下了按钮"
- en: show_text("Door to engineering bay is open for 60 seconds", 1)
  id: totrans-902
  prefs: []
  type: TYPE_NORMAL
  zh: show_text("通往工程舱的门已打开60秒", 1)
- en: sounds.say_doors_open.play()
  id: totrans-903
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.say_doors_open.play()
- en: sounds.doors.play()
  id: totrans-904
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.doors.play()
- en: 'elif item_carrying == 68 or item_player_is_on == 68:'
  id: totrans-905
  prefs: []
  type: TYPE_NORMAL
  zh: 'elif item_carrying == 68 or item_player_is_on == 68:'
- en: energy = 100
  id: totrans-906
  prefs: []
  type: TYPE_NORMAL
  zh: energy = 100
- en: use_message = "You use the food to restore your energy"
  id: totrans-907
  prefs: []
  type: TYPE_NORMAL
  zh: use_message = "你使用食物恢复了能量"
- en: remove_object(68)
  id: totrans-908
  prefs: []
  type: TYPE_NORMAL
  zh: remove_object(68)
- en: draw_energy_air()
  id: totrans-909
  prefs: []
  type: TYPE_NORMAL
  zh: draw_energy_air()
- en: 'if suit_stitched and air_fixed: # open airlock access'
  id: totrans-910
  prefs: []
  type: TYPE_NORMAL
  zh: 'if suit_stitched and air_fixed: # 打开气闸门'
- en: 'if current_room == 31 and props[20][0] == 31:'
  id: totrans-911
  prefs: []
  type: TYPE_NORMAL
  zh: 'if current_room == 31 and props[20][0] == 31:'
- en: 'open_door(20) # which includes removing the door'
  id: totrans-912
  prefs: []
  type: TYPE_NORMAL
  zh: 'open_door(20) # 这包括移除门'
- en: sounds.say_airlock_open.play()
  id: totrans-913
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.say_airlock_open.play()
- en: show_text("The computer tells you the airlock is now open.", 1)
  id: totrans-914
  prefs: []
  type: TYPE_NORMAL
  zh: show_text("计算机告诉你气闸门现在已打开。", 1)
- en: 'elif props[20][0] == 31:'
  id: totrans-915
  prefs: []
  type: TYPE_NORMAL
  zh: 'elif props[20][0] == 31:'
- en: 'props[20][0] = 0 # remove door from map'
  id: totrans-916
  prefs: []
  type: TYPE_NORMAL
  zh: 'props[20][0] = 0 # 从地图中移除门'
- en: sounds.say_airlock_open.play()
  id: totrans-917
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.say_airlock_open.play()
- en: show_text("The computer tells you the airlock is now open.", 1)
  id: totrans-918
  prefs: []
  type: TYPE_NORMAL
  zh: show_text("计算机告诉你气闸现在已开启。", 1)
- en: 'for recipe in RECIPES:'
  id: totrans-919
  prefs: []
  type: TYPE_NORMAL
  zh: 'for recipe in RECIPES:'
- en: ingredient1 = recipe[0]
  id: totrans-920
  prefs: []
  type: TYPE_NORMAL
  zh: ingredient1 = recipe[0]
- en: ingredient2 = recipe[1]
  id: totrans-921
  prefs: []
  type: TYPE_NORMAL
  zh: ingredient2 = recipe[1]
- en: combination = recipe[2]
  id: totrans-922
  prefs: []
  type: TYPE_NORMAL
  zh: combination = recipe[2]
- en: if (item_carrying == ingredient1
  id: totrans-923
  prefs: []
  type: TYPE_NORMAL
  zh: if (item_carrying == ingredient1
- en: and item_player_is_on == ingredient2) \
  id: totrans-924
  prefs: []
  type: TYPE_NORMAL
  zh: and item_player_is_on == ingredient2) \
- en: or (item_carrying == ingredient2
  id: totrans-925
  prefs: []
  type: TYPE_NORMAL
  zh: or (item_carrying == ingredient2
- en: 'and item_player_is_on == ingredient1):'
  id: totrans-926
  prefs: []
  type: TYPE_NORMAL
  zh: 'and item_player_is_on == ingredient1):'
- en: use_message = "You combine " + objects[ingredient1][3] \
  id: totrans-927
  prefs: []
  type: TYPE_NORMAL
  zh: use_message = "你将 " + objects[ingredient1][3] \
- en: + " and " + objects[ingredient2][3] \
  id: totrans-928
  prefs: []
  type: TYPE_NORMAL
  zh: + " 和 " + objects[ingredient2][3] \
- en: + " to make " + objects[combination][3]
  id: totrans-929
  prefs: []
  type: TYPE_NORMAL
  zh: + " 来制造 " + objects[combination][3]
- en: 'if item_player_is_on in props.keys():'
  id: totrans-930
  prefs: []
  type: TYPE_NORMAL
  zh: 'if item_player_is_on in props.keys():'
- en: props[item_player_is_on][0] = 0
  id: totrans-931
  prefs: []
  type: TYPE_NORMAL
  zh: props[item_player_is_on][0] = 0
- en: room_map[player_y][player_x] = get_floor_type()
  id: totrans-932
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[player_y][player_x] = get_floor_type()
- en: in_my_pockets.remove(item_carrying)
  id: totrans-933
  prefs: []
  type: TYPE_NORMAL
  zh: in_my_pockets.remove(item_carrying)
- en: add_object(combination)
  id: totrans-934
  prefs: []
  type: TYPE_NORMAL
  zh: add_object(combination)
- en: sounds.combine.play()
  id: totrans-935
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.combine.play()
- en: '# {key object number: door object number}'
  id: totrans-936
  prefs: []
  type: TYPE_NORMAL
  zh: '# {关键物体编号: 门物体编号}'
- en: ACCESS_DICTIONARY = { 79:22, 80:23, 81:24 }
  id: totrans-937
  prefs: []
  type: TYPE_NORMAL
  zh: ACCESS_DICTIONARY = { 79:22, 80:23, 81:24 }
- en: 'if item_carrying in ACCESS_DICTIONARY:'
  id: totrans-938
  prefs: []
  type: TYPE_NORMAL
  zh: 'if item_carrying in ACCESS_DICTIONARY:'
- en: door_number = ACCESS_DICTIONARY[item_carrying]
  id: totrans-939
  prefs: []
  type: TYPE_NORMAL
  zh: door_number = ACCESS_DICTIONARY[item_carrying]
- en: 'if props[door_number][0] == current_room:'
  id: totrans-940
  prefs: []
  type: TYPE_NORMAL
  zh: 'if props[door_number][0] == current_room:'
- en: use_message = "You unlock the door!"
  id: totrans-941
  prefs: []
  type: TYPE_NORMAL
  zh: use_message = "你解锁了门！"
- en: sounds.say_doors_open.play()
  id: totrans-942
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.say_doors_open.play()
- en: sounds.doors.play()
  id: totrans-943
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.doors.play()
- en: open_door(door_number)
  id: totrans-944
  prefs: []
  type: TYPE_NORMAL
  zh: open_door(door_number)
- en: show_text(use_message, 0)
  id: totrans-945
  prefs: []
  type: TYPE_NORMAL
  zh: show_text(use_message, 0)
- en: time.sleep(0.5)
  id: totrans-946
  prefs: []
  type: TYPE_NORMAL
  zh: time.sleep(0.5)
- en: 'def game_completion_sequence():'
  id: totrans-947
  prefs: []
  type: TYPE_NORMAL
  zh: 'def game_completion_sequence():'
- en: 'global launch_frame #(initial value is 0, set up in VARIABLES section)'
  id: totrans-948
  prefs: []
  type: TYPE_NORMAL
  zh: 'global launch_frame #(初始值为0，在VARIABLES部分设置)'
- en: box = Rect((0, 150), (800, 600))
  id: totrans-949
  prefs: []
  type: TYPE_NORMAL
  zh: box = Rect((0, 150), (800, 600))
- en: screen.draw.filled_rect(box, (128, 0, 0))
  id: totrans-950
  prefs: []
  type: TYPE_NORMAL
  zh: screen.draw.filled_rect(box, (128, 0, 0))
- en: box = Rect ((0, top_left_y - 30), (800, 390))
  id: totrans-951
  prefs: []
  type: TYPE_NORMAL
  zh: box = Rect ((0, top_left_y - 30), (800, 390))
- en: screen.surface.set_clip(box)
  id: totrans-952
  prefs: []
  type: TYPE_NORMAL
  zh: screen.surface.set_clip(box)
- en: 'for y in range(0, 13):'
  id: totrans-953
  prefs: []
  type: TYPE_NORMAL
  zh: 'for y in range(0, 13):'
- en: 'for x in range(0, 13):'
  id: totrans-954
  prefs: []
  type: TYPE_NORMAL
  zh: 'for x in range(0, 13):'
- en: draw_image(images.soil, y, x)
  id: totrans-955
  prefs: []
  type: TYPE_NORMAL
  zh: draw_image(images.soil, y, x)
- en: launch_frame += 1
  id: totrans-956
  prefs: []
  type: TYPE_NORMAL
  zh: launch_frame += 1
- en: 'if launch_frame < 9:'
  id: totrans-957
  prefs: []
  type: TYPE_NORMAL
  zh: 'if launch_frame < 9:'
- en: draw_image(images.rescue_ship, 8 - launch_frame, 6)
  id: totrans-958
  prefs: []
  type: TYPE_NORMAL
  zh: draw_image(images.rescue_ship, 8 - launch_frame, 6)
- en: draw_shadow(images.rescue_ship_shadow, 8 + launch_frame, 6)
  id: totrans-959
  prefs: []
  type: TYPE_NORMAL
  zh: draw_shadow(images.rescue_ship_shadow, 8 + launch_frame, 6)
- en: clock.schedule(game_completion_sequence, 0.25)
  id: totrans-960
  prefs: []
  type: TYPE_NORMAL
  zh: clock.schedule(game_completion_sequence, 0.25)
- en: 'else:'
  id: totrans-961
  prefs: []
  type: TYPE_NORMAL
  zh: 'else:'
- en: screen.surface.set_clip(None)
  id: totrans-962
  prefs: []
  type: TYPE_NORMAL
  zh: screen.surface.set_clip(None)
- en: screen.draw.text("MISSION", (200, 380), color = "white",
  id: totrans-963
  prefs: []
  type: TYPE_NORMAL
  zh: screen.draw.text("任务", (200, 380), color = "white",
- en: fontsize = 128, shadow = (1, 1), scolor = "black")
  id: totrans-964
  prefs: []
  type: TYPE_NORMAL
  zh: fontsize = 128, shadow = (1, 1), scolor = "black")
- en: screen.draw.text("COMPLETE", (145, 480), color = "white",
  id: totrans-965
  prefs: []
  type: TYPE_NORMAL
  zh: screen.draw.text("完成", (145, 480), color = "white",
- en: fontsize = 128, shadow = (1, 1), scolor = "black")
  id: totrans-966
  prefs: []
  type: TYPE_NORMAL
  zh: fontsize = 128, shadow = (1, 1), scolor = "black")
- en: sounds.completion.play()
  id: totrans-967
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.completion.play()
- en: sounds.say_mission_complete.play()
  id: totrans-968
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.say_mission_complete.play()
- en: '###############'
  id: totrans-969
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: '##   DOORS   ##'
  id: totrans-970
  prefs: []
  type: TYPE_NORMAL
  zh: '##   门   ##'
- en: '###############'
  id: totrans-971
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: 'def open_door(opening_door_number):'
  id: totrans-972
  prefs: []
  type: TYPE_NORMAL
  zh: 'def open_door(opening_door_number):'
- en: global door_frames, door_shadow_frames
  id: totrans-973
  prefs: []
  type: TYPE_NORMAL
  zh: global door_frames, door_shadow_frames
- en: global door_frame_number, door_object_number
  id: totrans-974
  prefs: []
  type: TYPE_NORMAL
  zh: global door_frame_number, door_object_number
- en: door_frames = [images.door1, images.door2, images.door3,
  id: totrans-975
  prefs: []
  type: TYPE_NORMAL
  zh: door_frames = [images.door1, images.door2, images.door3,
- en: images.door4, images.floor]
  id: totrans-976
  prefs: []
  type: TYPE_NORMAL
  zh: images.door4, images.floor]
- en: '# (Final frame restores shadow ready for when door reappears).'
  id: totrans-977
  prefs: []
  type: TYPE_NORMAL
  zh: '# （最终帧恢复阴影，准备门重新出现时）。'
- en: door_shadow_frames = [images.door1_shadow, images.door2_shadow,
  id: totrans-978
  prefs: []
  type: TYPE_NORMAL
  zh: door_shadow_frames = [images.door1_shadow, images.door2_shadow,
- en: images.door3_shadow, images.door4_shadow,
  id: totrans-979
  prefs: []
  type: TYPE_NORMAL
  zh: images.door3_shadow, images.door4_shadow,
- en: images.door_shadow]
  id: totrans-980
  prefs: []
  type: TYPE_NORMAL
  zh: images.door_shadow]
- en: door_frame_number = 0
  id: totrans-981
  prefs: []
  type: TYPE_NORMAL
  zh: door_frame_number = 0
- en: door_object_number = opening_door_number
  id: totrans-982
  prefs: []
  type: TYPE_NORMAL
  zh: door_object_number = opening_door_number
- en: do_door_animation()
  id: totrans-983
  prefs: []
  type: TYPE_NORMAL
  zh: do_door_animation()
- en: 'def close_door(closing_door_number):'
  id: totrans-984
  prefs: []
  type: TYPE_NORMAL
  zh: 'def close_door(closing_door_number):'
- en: global door_frames, door_shadow_frames
  id: totrans-985
  prefs: []
  type: TYPE_NORMAL
  zh: global door_frames, door_shadow_frames
- en: global door_frame_number, door_object_number, player_y
  id: totrans-986
  prefs: []
  type: TYPE_NORMAL
  zh: global door_frame_number, door_object_number, player_y
- en: door_frames = [images.door4, images.door3, images.door2,
  id: totrans-987
  prefs: []
  type: TYPE_NORMAL
  zh: door_frames = [images.door4, images.door3, images.door2,
- en: images.door1, images.door]
  id: totrans-988
  prefs: []
  type: TYPE_NORMAL
  zh: images.door1, images.door]
- en: door_shadow_frames = [images.door4_shadow, images.door3_shadow,
  id: totrans-989
  prefs: []
  type: TYPE_NORMAL
  zh: door_shadow_frames = [images.door4_shadow, images.door3_shadow,
- en: images.door2_shadow, images.door1_shadow,
  id: totrans-990
  prefs: []
  type: TYPE_NORMAL
  zh: images.door2_shadow, images.door1_shadow,
- en: images.door_shadow]
  id: totrans-991
  prefs: []
  type: TYPE_NORMAL
  zh: images.door_shadow]
- en: door_frame_number = 0
  id: totrans-992
  prefs: []
  type: TYPE_NORMAL
  zh: door_frame_number = 0
- en: door_object_number = closing_door_number
  id: totrans-993
  prefs: []
  type: TYPE_NORMAL
  zh: door_object_number = closing_door_number
- en: '# If player is in same row as a door, they must be in open doorway'
  id: totrans-994
  prefs: []
  type: TYPE_NORMAL
  zh: '# 如果玩家在与门同一行，他们必须在开启的门口'
- en: 'if player_y == props[door_object_number][1]:'
  id: totrans-995
  prefs: []
  type: TYPE_NORMAL
  zh: 'if player_y == props[door_object_number][1]:'
- en: 'if player_y == 0: # if in the top doorway'
  id: totrans-996
  prefs: []
  type: TYPE_NORMAL
  zh: 'if player_y == 0: # 如果在顶部门口'
- en: 'player_y = 1 # move them down'
  id: totrans-997
  prefs: []
  type: TYPE_NORMAL
  zh: 'player_y = 1  # 将玩家移到下方'
- en: 'else:'
  id: totrans-998
  prefs: []
  type: TYPE_NORMAL
  zh: 'else:'
- en: 'player_y = room_height - 2 # move them up'
  id: totrans-999
  prefs: []
  type: TYPE_NORMAL
  zh: 'player_y = room_height - 2  # 将玩家移到上方'
- en: do_door_animation()
  id: totrans-1000
  prefs: []
  type: TYPE_NORMAL
  zh: do_door_animation()
- en: 'def do_door_animation():'
  id: totrans-1001
  prefs: []
  type: TYPE_NORMAL
  zh: 'def do_door_animation():'
- en: global door_frames, door_frame_number, door_object_number, objects
  id: totrans-1002
  prefs: []
  type: TYPE_NORMAL
  zh: global door_frames, door_frame_number, door_object_number, objects
- en: objects[door_object_number][0] = door_frames[door_frame_number]
  id: totrans-1003
  prefs: []
  type: TYPE_NORMAL
  zh: objects[door_object_number][0] = door_frames[door_frame_number]
- en: objects[door_object_number][1] = door_shadow_frames[door_frame_number]
  id: totrans-1004
  prefs: []
  type: TYPE_NORMAL
  zh: objects[door_object_number][1] = door_shadow_frames[door_frame_number]
- en: door_frame_number += 1
  id: totrans-1005
  prefs: []
  type: TYPE_NORMAL
  zh: door_frame_number += 1
- en: 'if door_frame_number == 5:'
  id: totrans-1006
  prefs: []
  type: TYPE_NORMAL
  zh: 'if door_frame_number == 5:'
- en: 'if door_frames[-1] == images.floor:'
  id: totrans-1007
  prefs: []
  type: TYPE_NORMAL
  zh: 'if door_frames[-1] == images.floor:'
- en: 'props[door_object_number][0] = 0 # remove door from props list'
  id: totrans-1008
  prefs: []
  type: TYPE_NORMAL
  zh: 'props[door_object_number][0] = 0  # 从props列表中移除门'
- en: '# Regenerate room map from the props'
  id: totrans-1009
  prefs: []
  type: TYPE_NORMAL
  zh: '# 从props重新生成房间地图'
- en: '# to put the door in the room if required.'
  id: totrans-1010
  prefs: []
  type: TYPE_NORMAL
  zh: '# 如有必要，将门放入房间。'
- en: generate_map()
  id: totrans-1011
  prefs: []
  type: TYPE_NORMAL
  zh: generate_map()
- en: 'else:'
  id: totrans-1012
  prefs: []
  type: TYPE_NORMAL
  zh: 'else:'
- en: clock.schedule(do_door_animation, 0.15)
  id: totrans-1013
  prefs: []
  type: TYPE_NORMAL
  zh: clock.schedule(do_door_animation, 0.15)
- en: 'def shut_engineering_door():'
  id: totrans-1014
  prefs: []
  type: TYPE_NORMAL
  zh: 'def shut_engineering_door():'
- en: global current_room, door_room_number, props
  id: totrans-1015
  prefs: []
  type: TYPE_NORMAL
  zh: global current_room, door_room_number, props
- en: 'props[25][0] = 32 # Door from room 32 to the engineering bay.'
  id: totrans-1016
  prefs: []
  type: TYPE_NORMAL
  zh: 'props[25][0] = 32  # 从32号房间到工程区的门。'
- en: 'props[26][0] = 27 # Door inside engineering bay.'
  id: totrans-1017
  prefs: []
  type: TYPE_NORMAL
  zh: 'props[26][0] = 27  # 工程区内部的门。'
- en: 'generate_map() # Add door to room_map for if in affected room.'
  id: totrans-1018
  prefs: []
  type: TYPE_NORMAL
  zh: 'generate_map()  # 在受影响的房间中添加门到房间地图。'
- en: 'if current_room == 27:'
  id: totrans-1019
  prefs: []
  type: TYPE_NORMAL
  zh: 'if current_room == 27:'
- en: close_door(26)
  id: totrans-1020
  prefs: []
  type: TYPE_NORMAL
  zh: close_door(26)
- en: 'if current_room == 32:'
  id: totrans-1021
  prefs: []
  type: TYPE_NORMAL
  zh: 'if current_room == 32:'
- en: close_door(25)
  id: totrans-1022
  prefs: []
  type: TYPE_NORMAL
  zh: close_door(25)
- en: show_text("The computer tells you the doors are closed.", 1)
  id: totrans-1023
  prefs: []
  type: TYPE_NORMAL
  zh: show_text("电脑告诉你门已关闭。", 1)
- en: sounds.say_doors_closed.play()
  id: totrans-1024
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.say_doors_closed.play()
- en: 'def door_in_room_26():'
  id: totrans-1025
  prefs: []
  type: TYPE_NORMAL
  zh: 'def door_in_room_26():'
- en: global airlock_door_frame, room_map
  id: totrans-1026
  prefs: []
  type: TYPE_NORMAL
  zh: global airlock_door_frame, room_map
- en: frames = [images.door, images.door1, images.door2,
  id: totrans-1027
  prefs: []
  type: TYPE_NORMAL
  zh: frames = [images.door, images.door1, images.door2,
- en: images.door3,images.door4, images.floor
  id: totrans-1028
  prefs: []
  type: TYPE_NORMAL
  zh: images.door3,images.door4, images.floor
- en: ']'
  id: totrans-1029
  prefs: []
  type: TYPE_NORMAL
  zh: ']'
- en: shadow_frames = [images.door_shadow, images.door1_shadow,
  id: totrans-1030
  prefs: []
  type: TYPE_NORMAL
  zh: shadow_frames = [images.door_shadow, images.door1_shadow,
- en: images.door2_shadow, images.door3_shadow,
  id: totrans-1031
  prefs: []
  type: TYPE_NORMAL
  zh: images.door2_shadow, images.door3_shadow,
- en: images.door4_shadow, None]
  id: totrans-1032
  prefs: []
  type: TYPE_NORMAL
  zh: images.door4_shadow, None]
- en: 'if current_room != 26:'
  id: totrans-1033
  prefs: []
  type: TYPE_NORMAL
  zh: 'if current_room != 26:'
- en: clock.unschedule(door_in_room_26)
  id: totrans-1034
  prefs: []
  type: TYPE_NORMAL
  zh: clock.unschedule(door_in_room_26)
- en: return
  id: totrans-1035
  prefs: []
  type: TYPE_NORMAL
  zh: return
- en: '# prop 21 is the door in Room 26.'
  id: totrans-1036
  prefs: []
  type: TYPE_NORMAL
  zh: '# prop 21 是26号房间的门。'
- en: if ((player_y == 8 and player_x == 2) or props[63] == [26, 8, 2]) \
  id: totrans-1037
  prefs: []
  type: TYPE_NORMAL
  zh: if ((player_y == 8 and player_x == 2) or props[63] == [26, 8, 2]) \
- en: 'and props[21][0] == 26:'
  id: totrans-1038
  prefs: []
  type: TYPE_NORMAL
  zh: 'and props[21][0] == 26:'
- en: airlock_door_frame += 1
  id: totrans-1039
  prefs: []
  type: TYPE_NORMAL
  zh: airlock_door_frame += 1
- en: 'if airlock_door_frame == 5:'
  id: totrans-1040
  prefs: []
  type: TYPE_NORMAL
  zh: 'if airlock_door_frame == 5:'
- en: 'props[21][0] = 0 # Remove door from map when fully open.'
  id: totrans-1041
  prefs: []
  type: TYPE_NORMAL
  zh: 'props[21][0] = 0  # 当门完全打开时，从地图中移除门。'
- en: room_map[0][1] = 0
  id: totrans-1042
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[0][1] = 0
- en: room_map[0][2] = 0
  id: totrans-1043
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[0][2] = 0
- en: room_map[0][3] = 0
  id: totrans-1044
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[0][3] = 0
- en: if ((player_y != 8 or player_x != 2) and props[63] != [26, 8, 2]) \
  id: totrans-1045
  prefs: []
  type: TYPE_NORMAL
  zh: if ((player_y != 8 or player_x != 2) and props[63] != [26, 8, 2]) \
- en: 'and airlock_door_frame > 0:'
  id: totrans-1046
  prefs: []
  type: TYPE_NORMAL
  zh: 'and airlock_door_frame > 0:'
- en: 'if airlock_door_frame == 5:'
  id: totrans-1047
  prefs: []
  type: TYPE_NORMAL
  zh: 'if airlock_door_frame == 5:'
- en: '# Add door to props and map so animation is shown.'
  id: totrans-1048
  prefs: []
  type: TYPE_NORMAL
  zh: '# 将门添加到props和地图中，以便显示动画。'
- en: props[21][0] = 26
  id: totrans-1049
  prefs: []
  type: TYPE_NORMAL
  zh: props[21][0] = 26
- en: room_map[0][1] = 21
  id: totrans-1050
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[0][1] = 21
- en: room_map[0][2] = 255
  id: totrans-1051
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[0][2] = 255
- en: room_map[0][3] = 255
  id: totrans-1052
  prefs: []
  type: TYPE_NORMAL
  zh: room_map[0][3] = 255
- en: airlock_door_frame -= 1
  id: totrans-1053
  prefs: []
  type: TYPE_NORMAL
  zh: airlock_door_frame -= 1
- en: objects[21][0] = frames[airlock_door_frame]
  id: totrans-1054
  prefs: []
  type: TYPE_NORMAL
  zh: objects[21][0] = frames[airlock_door_frame]
- en: objects[21][1] = shadow_frames[airlock_door_frame]
  id: totrans-1055
  prefs: []
  type: TYPE_NORMAL
  zh: objects[21][1] = shadow_frames[airlock_door_frame]
- en: '###############'
  id: totrans-1056
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: '##    AIR    ##'
  id: totrans-1057
  prefs: []
  type: TYPE_NORMAL
  zh: '##    AIR    ##'
- en: '###############'
  id: totrans-1058
  prefs: []
  type: TYPE_NORMAL
  zh: '###############'
- en: 'def draw_energy_air():'
  id: totrans-1059
  prefs: []
  type: TYPE_NORMAL
  zh: 'def draw_energy_air():'
- en: box = Rect((20, 765), (350, 20))
  id: totrans-1060
  prefs: []
  type: TYPE_NORMAL
  zh: box = Rect((20, 765), (350, 20))
- en: screen.draw.filled_rect(box, BLACK)
  id: totrans-1061
  prefs: []
  type: TYPE_NORMAL
  zh: screen.draw.filled_rect(box, BLACK)
- en: screen.draw.text("AIR", (20, 766), color=BLUE)
  id: totrans-1062
  prefs: []
  type: TYPE_NORMAL
  zh: screen.draw.text("空气", (20, 766), color=BLUE)
- en: screen.draw.text("ENERGY", (180, 766), color=YELLOW)
  id: totrans-1063
  prefs: []
  type: TYPE_NORMAL
  zh: screen.draw.text("能量", (180, 766), color=YELLOW)
- en: 'if air > 0:'
  id: totrans-1064
  prefs: []
  type: TYPE_NORMAL
  zh: 'if air > 0:'
- en: box = Rect((50, 765), (air, 20))
  id: totrans-1065
  prefs: []
  type: TYPE_NORMAL
  zh: box = Rect((50, 765), (air, 20))
- en: 'screen.draw.filled_rect(box, BLUE) # Draw new air bar.'
  id: totrans-1066
  prefs: []
  type: TYPE_NORMAL
  zh: 'screen.draw.filled_rect(box, BLUE)  # 绘制新的空气条。'
- en: 'if energy > 0:'
  id: totrans-1067
  prefs: []
  type: TYPE_NORMAL
  zh: 'if energy > 0:'
- en: box = Rect((250, 765), (energy, 20))
  id: totrans-1068
  prefs: []
  type: TYPE_NORMAL
  zh: box = Rect((250, 765), (energy, 20))
- en: 'screen.draw.filled_rect(box, YELLOW) # Draw new energy bar.'
  id: totrans-1069
  prefs: []
  type: TYPE_NORMAL
  zh: 'screen.draw.filled_rect(box, YELLOW)  # 绘制新的能量条。'
- en: 'def end_the_game(reason):'
  id: totrans-1070
  prefs: []
  type: TYPE_NORMAL
  zh: 'def end_the_game(reason):'
- en: global game_over
  id: totrans-1071
  prefs: []
  type: TYPE_NORMAL
  zh: global game_over
- en: show_text(reason, 1)
  id: totrans-1072
  prefs: []
  type: TYPE_NORMAL
  zh: show_text(reason, 1)
- en: game_over = True
  id: totrans-1073
  prefs: []
  type: TYPE_NORMAL
  zh: game_over = True
- en: sounds.say_mission_fail.play()
  id: totrans-1074
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.say_mission_fail.play()
- en: sounds.gameover.play()
  id: totrans-1075
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.gameover.play()
- en: screen.draw.text("GAME OVER", (120, 400), color = "white",
  id: totrans-1076
  prefs: []
  type: TYPE_NORMAL
  zh: screen.draw.text("游戏结束", (120, 400), color = "white",
- en: fontsize = 128, shadow = (1, 1), scolor = "black")
  id: totrans-1077
  prefs: []
  type: TYPE_NORMAL
  zh: fontsize = 128, shadow = (1, 1), scolor = "black")
- en: 'def air_countdown():'
  id: totrans-1078
  prefs: []
  type: TYPE_NORMAL
  zh: 'def air_countdown():'
- en: global air, game_over
  id: totrans-1079
  prefs: []
  type: TYPE_NORMAL
  zh: global air, game_over
- en: 'if game_over:'
  id: totrans-1080
  prefs: []
  type: TYPE_NORMAL
  zh: 'if game_over:'
- en: 'return # Don''t sap air when they''re already dead.'
  id: totrans-1081
  prefs: []
  type: TYPE_NORMAL
  zh: 'return  # 当玩家已经死亡时，不消耗空气。'
- en: air -= 1
  id: totrans-1082
  prefs: []
  type: TYPE_NORMAL
  zh: air -= 1
- en: 'if air == 20:'
  id: totrans-1083
  prefs: []
  type: TYPE_NORMAL
  zh: 'if air == 20:'
- en: sounds.say_air_low.play()
  id: totrans-1084
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.say_air_low.play()
- en: 'if air == 10:'
  id: totrans-1085
  prefs: []
  type: TYPE_NORMAL
  zh: 'if air == 10:'
- en: sounds.say_act_now.play()
  id: totrans-1086
  prefs: []
  type: TYPE_NORMAL
  zh: sounds.say_act_now.play()
- en: draw_energy_air()
  id: totrans-1087
  prefs: []
  type: TYPE_NORMAL
  zh: draw_energy_air()
- en: 'if air < 1:'
  id: totrans-1088
  prefs: []
  type: TYPE_NORMAL
  zh: 'if air < 1:'
- en: end_the_game("You're out of air!")
  id: totrans-1089
  prefs: []
  type: TYPE_NORMAL
  zh: end_the_game("你没有空气了！")
- en: 'def alarm():'
  id: totrans-1090
  prefs: []
  type: TYPE_NORMAL
- en: show_text("Air is running out, " + PLAYER_NAME
  id: totrans-1091
  prefs: []
  type: TYPE_NORMAL
- en: + "! Get to safety, then radio for help!", 1)
  id: totrans-1092
  prefs: []
  type: TYPE_NORMAL
- en: sounds.alarm.play(3)
  id: totrans-1093
  prefs: []
  type: TYPE_NORMAL
- en: sounds.say_breach.play()
  id: totrans-1094
  prefs: []
  type: TYPE_NORMAL
- en: '###############'
  id: totrans-1095
  prefs: []
  type: TYPE_NORMAL
- en: '##  HAZARDS  ##'
  id: totrans-1096
  prefs: []
  type: TYPE_NORMAL
- en: '###############'
  id: totrans-1097
  prefs: []
  type: TYPE_NORMAL
- en: hazard_data = {
  id: totrans-1098
  prefs: []
  type: TYPE_NORMAL
- en: '# room number: [[y, x, direction, bounce addition to direction]]'
  id: totrans-1099
  prefs: []
  type: TYPE_NORMAL
- en: '28: [[1, 8, 2, 1], [7, 3, 4, 1]], 32: [[1, 5, 4, -1]],'
  id: totrans-1100
  prefs: []
  type: TYPE_NORMAL
- en: '34: [[5, 1, 1, 1], [5, 5, 1, 2]], 35: [[4, 4, 1, 2], [2, 5, 2, 2]],'
  id: totrans-1101
  prefs: []
  type: TYPE_NORMAL
- en: '36: [[2, 1, 2, 2]], 38: [[1, 4, 3, 2], [5, 8, 1, 2]],'
  id: totrans-1102
  prefs: []
  type: TYPE_NORMAL
- en: '40: [[3, 1, 3, -1], [6, 5, 2, 2], [7, 5, 4, 2]],'
  id: totrans-1103
  prefs: []
  type: TYPE_NORMAL
- en: '41: [[4, 5, 2, 2], [6, 3, 4, 2], [8, 1, 2, 2]],'
  id: totrans-1104
  prefs: []
  type: TYPE_NORMAL
- en: '42: [[2, 1, 2, 2], [4, 3, 2, 2], [6, 5, 2, 2]],'
  id: totrans-1105
  prefs: []
  type: TYPE_NORMAL
- en: '46: [[2, 1, 2, 2]],'
  id: totrans-1106
  prefs: []
  type: TYPE_NORMAL
- en: '48: [[1, 8, 3, 2], [8, 8, 1, 2], [3, 9, 3, 2]]'
  id: totrans-1107
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-1108
  prefs: []
  type: TYPE_NORMAL
- en: 'def deplete_energy(penalty):'
  id: totrans-1109
  prefs: []
  type: TYPE_NORMAL
- en: global energy, game_over
  id: totrans-1110
  prefs: []
  type: TYPE_NORMAL
- en: 'if game_over:'
  id: totrans-1111
  prefs: []
  type: TYPE_NORMAL
- en: 'return # Don''t sap energy when they''re already dead.'
  id: totrans-1112
  prefs: []
  type: TYPE_NORMAL
- en: energy = energy - penalty
  id: totrans-1113
  prefs: []
  type: TYPE_NORMAL
- en: draw_energy_air()
  id: totrans-1114
  prefs: []
  type: TYPE_NORMAL
- en: 'if energy < 1:'
  id: totrans-1115
  prefs: []
  type: TYPE_NORMAL
- en: end_the_game("You're out of energy!")
  id: totrans-1116
  prefs: []
  type: TYPE_NORMAL
- en: 'def hazard_start():'
  id: totrans-1117
  prefs: []
  type: TYPE_NORMAL
- en: global current_room_hazards_list, hazard_map
  id: totrans-1118
  prefs: []
  type: TYPE_NORMAL
- en: 'if current_room in hazard_data.keys():'
  id: totrans-1119
  prefs: []
  type: TYPE_NORMAL
- en: current_room_hazards_list = hazard_data[current_room]
  id: totrans-1120
  prefs: []
  type: TYPE_NORMAL
- en: 'for hazard in current_room_hazards_list:'
  id: totrans-1121
  prefs: []
  type: TYPE_NORMAL
- en: hazard_y = hazard[0]
  id: totrans-1122
  prefs: []
  type: TYPE_NORMAL
- en: hazard_x = hazard[1]
  id: totrans-1123
  prefs: []
  type: TYPE_NORMAL
- en: hazard_map[hazard_y][hazard_x] = 49 + (current_room % 3)
  id: totrans-1124
  prefs: []
  type: TYPE_NORMAL
- en: clock.schedule_interval(hazard_move, 0.15)
  id: totrans-1125
  prefs: []
  type: TYPE_NORMAL
- en: 'def hazard_move():'
  id: totrans-1126
  prefs: []
  type: TYPE_NORMAL
- en: global current_room_hazards_list, hazard_data, hazard_map
  id: totrans-1127
  prefs: []
  type: TYPE_NORMAL
- en: global old_player_x, old_player_y
  id: totrans-1128
  prefs: []
  type: TYPE_NORMAL
- en: 'if game_over:'
  id: totrans-1129
  prefs: []
  type: TYPE_NORMAL
- en: return
  id: totrans-1130
  prefs: []
  type: TYPE_NORMAL
- en: 'for hazard in current_room_hazards_list:'
  id: totrans-1131
  prefs: []
  type: TYPE_NORMAL
- en: hazard_y = hazard[0]
  id: totrans-1132
  prefs: []
  type: TYPE_NORMAL
- en: hazard_x = hazard[1]
  id: totrans-1133
  prefs: []
  type: TYPE_NORMAL
- en: hazard_direction = hazard[2]
  id: totrans-1134
  prefs: []
  type: TYPE_NORMAL
- en: old_hazard_x = hazard_x
  id: totrans-1135
  prefs: []
  type: TYPE_NORMAL
- en: old_hazard_y = hazard_y
  id: totrans-1136
  prefs: []
  type: TYPE_NORMAL
- en: hazard_map[old_hazard_y][old_hazard_x] = 0
  id: totrans-1137
  prefs: []
  type: TYPE_NORMAL
- en: 'if hazard_direction == 1: # up'
  id: totrans-1138
  prefs: []
  type: TYPE_NORMAL
- en: hazard_y -= 1
  id: totrans-1139
  prefs: []
  type: TYPE_NORMAL
- en: 'if hazard_direction == 2: # right'
  id: totrans-1140
  prefs: []
  type: TYPE_NORMAL
- en: hazard_x += 1
  id: totrans-1141
  prefs: []
  type: TYPE_NORMAL
- en: 'if hazard_direction == 3: # down'
  id: totrans-1142
  prefs: []
  type: TYPE_NORMAL
- en: hazard_y += 1
  id: totrans-1143
  prefs: []
  type: TYPE_NORMAL
- en: 'if hazard_direction == 4: # left'
  id: totrans-1144
  prefs: []
  type: TYPE_NORMAL
- en: hazard_x -= 1
  id: totrans-1145
  prefs: []
  type: TYPE_NORMAL
- en: hazard_should_bounce = False
  id: totrans-1146
  prefs: []
  type: TYPE_NORMAL
- en: if (hazard_y == player_y and hazard_x == player_x) or \
  id: totrans-1147
  prefs: []
  type: TYPE_NORMAL
- en: (hazard_y == from_player_y and hazard_x == from_player_x
  id: totrans-1148
  prefs: []
  type: TYPE_NORMAL
- en: 'and player_frame > 0):'
  id: totrans-1149
  prefs: []
  type: TYPE_NORMAL
- en: sounds.ouch.play()
  id: totrans-1150
  prefs: []
  type: TYPE_NORMAL
- en: deplete_energy(10)
  id: totrans-1151
  prefs: []
  type: TYPE_NORMAL
- en: hazard_should_bounce = True
  id: totrans-1152
  prefs: []
  type: TYPE_NORMAL
- en: '# Stop hazard going out of the doors'
  id: totrans-1153
  prefs: []
  type: TYPE_NORMAL
- en: 'if hazard_x == room_width:'
  id: totrans-1154
  prefs: []
  type: TYPE_NORMAL
- en: hazard_should_bounce = True
  id: totrans-1155
  prefs: []
  type: TYPE_NORMAL
- en: hazard_x = room_width - 1
  id: totrans-1156
  prefs: []
  type: TYPE_NORMAL
- en: 'if hazard_x == -1:'
  id: totrans-1157
  prefs: []
  type: TYPE_NORMAL
- en: hazard_should_bounce = True
  id: totrans-1158
  prefs: []
  type: TYPE_NORMAL
- en: hazard_x = 0
  id: totrans-1159
  prefs: []
  type: TYPE_NORMAL
- en: 'if hazard_y == room_height:'
  id: totrans-1160
  prefs: []
  type: TYPE_NORMAL
- en: hazard_should_bounce = True
  id: totrans-1161
  prefs: []
  type: TYPE_NORMAL
- en: hazard_y = room_height - 1
  id: totrans-1162
  prefs: []
  type: TYPE_NORMAL
- en: 'if hazard_y == -1:'
  id: totrans-1163
  prefs: []
  type: TYPE_NORMAL
- en: hazard_should_bounce = True
  id: totrans-1164
  prefs: []
  type: TYPE_NORMAL
- en: hazard_y = 0
  id: totrans-1165
  prefs: []
  type: TYPE_NORMAL
- en: '# Stop when hazard hits scenery or another hazard.'
  id: totrans-1166
  prefs: []
  type: TYPE_NORMAL
- en: if room_map[hazard_y][hazard_x] not in items_player_may_stand_on \
  id: totrans-1167
  prefs: []
  type: TYPE_NORMAL
- en: 'or hazard_map[hazard_y][hazard_x] != 0:'
  id: totrans-1168
  prefs: []
  type: TYPE_NORMAL
- en: hazard_should_bounce = True
  id: totrans-1169
  prefs: []
  type: TYPE_NORMAL
- en: 'if hazard_should_bounce:'
  id: totrans-1170
  prefs: []
  type: TYPE_NORMAL
- en: 'hazard_y = old_hazard_y # Move back to last valid position.'
  id: totrans-1171
  prefs: []
  type: TYPE_NORMAL
- en: hazard_x = old_hazard_x
  id: totrans-1172
  prefs: []
  type: TYPE_NORMAL
- en: hazard_direction += hazard[3]
  id: totrans-1173
  prefs: []
  type: TYPE_NORMAL
- en: 'if hazard_direction > 4:'
  id: totrans-1174
  prefs: []
  type: TYPE_NORMAL
- en: hazard_direction -= 4
  id: totrans-1175
  prefs: []
  type: TYPE_NORMAL
- en: 'if hazard_direction < 1:'
  id: totrans-1176
  prefs: []
  type: TYPE_NORMAL
- en: hazard_direction += 4
  id: totrans-1177
  prefs: []
  type: TYPE_NORMAL
- en: hazard[2] = hazard_direction
  id: totrans-1178
  prefs: []
  type: TYPE_NORMAL
- en: hazard_map[hazard_y][hazard_x] = 49 + (current_room % 3)
  id: totrans-1179
  prefs: []
  type: TYPE_NORMAL
- en: hazard[0] = hazard_y
  id: totrans-1180
  prefs: []
  type: TYPE_NORMAL
- en: hazard[1] = hazard_x
  id: totrans-1181
  prefs: []
  type: TYPE_NORMAL
- en: '###############'
  id: totrans-1182
  prefs: []
  type: TYPE_NORMAL
- en: '##   START   ##'
  id: totrans-1183
  prefs: []
  type: TYPE_NORMAL
- en: '###############'
  id: totrans-1184
  prefs: []
  type: TYPE_NORMAL
- en: clock.schedule_interval(game_loop, 0.03)
  id: totrans-1185
  prefs: []
  type: TYPE_NORMAL
- en: generate_map()
  id: totrans-1186
  prefs: []
  type: TYPE_NORMAL
- en: clock.schedule_interval(adjust_wall_transparency, 0.05)
  id: totrans-1187
  prefs: []
  type: TYPE_NORMAL
  zh: clock.schedule_interval(adjust_wall_transparency, 0.05)
- en: clock.schedule_unique(display_inventory, 1)
  id: totrans-1188
  prefs: []
  type: TYPE_NORMAL
  zh: clock.schedule_unique(display_inventory, 1)
- en: clock.schedule_unique(draw_energy_air, 0.5)
  id: totrans-1189
  prefs: []
  type: TYPE_NORMAL
  zh: clock.schedule_unique(draw_energy_air, 0.5)
- en: clock.schedule_unique(alarm, 10)
  id: totrans-1190
  prefs: []
  type: TYPE_NORMAL
  zh: clock.schedule_unique(alarm, 10)
- en: A higher number below gives a longer time limit.
  id: totrans-1191
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下方的更大数字会设置更长的时间限制。
- en: clock.schedule_interval(air_countdown, 5)
  id: totrans-1192
  prefs: []
  type: TYPE_NORMAL
  zh: clock.schedule_interval(air_countdown, 5)
- en: 'sounds.mission.play() # Intro music'
  id: totrans-1193
  prefs: []
  type: TYPE_NORMAL
  zh: 'sounds.mission.play() # 介绍音乐'
