- en: A
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: A
- en: Installation and Troubleshooting
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 安装与故障排除
- en: '![](Images/chapterart.png)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/chapterart.png)'
- en: There are many versions of Python available and numerous ways to set it up on
    each operating system. If the approach in Chapter 1 didn’t work, or if you want
    to install a different version of Python than the one currently installed, the
    instructions in this appendix can help.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多版本的 Python 可供选择，并且每个操作系统上都有多种安装方式。如果第一章中的方法不起作用，或者你想安装与当前安装版本不同的 Python 版本，本附录中的说明可以帮助你。
- en: Python on Windows
  id: totrans-4
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Windows上的Python
- en: The instructions in Chapter 1 show you how to install Python using the official
    installer at [https://python.org](https://python.org). If you couldn’t get Python
    to run after using the installer, the troubleshooting instructions in this section
    should help you get Python up and running.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 第一章中的说明向你展示了如何使用[https://python.org](https://python.org)的官方安装程序来安装 Python。如果你在使用安装程序后无法运行
    Python，本节中的故障排除说明将帮助你让 Python 正常运行。
- en: Using py Instead of python
  id: totrans-6
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 py 代替 python
- en: If you run a recent Python installer and then issue the command `python` in
    a terminal, you should see the Python prompt for a terminal session (`>>>`). When
    Windows doesn’t recognize the `python` command, it will either open the Microsoft
    Store because it thinks Python isn’t installed, or you’ll get a message such as
    “Python was not found.” If the Microsoft Store opens, close it; it’s better to
    use the official Python installer from [https://python.org](https://python.org)
    than the one that Microsoft maintains.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你运行了最近的 Python 安装程序，然后在终端中输入 `python` 命令，你应该会看到终端会话的 Python 提示符（`>>>`）。如果
    Windows 无法识别 `python` 命令，它会打开微软商店，因为它认为 Python 未安装，或者你会看到类似“未找到 Python”的消息。如果微软商店打开了，请关闭它；与其使用微软维护的版本，还是更好地使用来自[https://python.org](https://python.org)的官方
    Python 安装程序。
- en: The simplest solution, without making any changes to your system, is to try
    the `py` command. This is a Windows utility that finds the latest version of Python
    installed on your system and runs that interpreter. If this command works and
    you want to use it, simply use `py` anywhere you see the `python` or `python3`
    command in this book.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 最简单的解决方法是尝试使用`py`命令，而无需对系统进行任何更改。这是一个 Windows 工具，可以找到系统上安装的最新 Python 版本并运行该解释器。如果此命令有效且你希望使用它，只需在本书中看到`python`或`python3`命令时，使用`py`即可。
- en: Rerunning the Installer
  id: totrans-9
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 重新运行安装程序
- en: The most common reason `python` doesn’t work is that people forget to select
    the Add Python to PATH option when running the installer; this is an easy mistake
    to make. The `PATH` variable is a system setting that tells Python where to look
    for commonly used programs. In this case, Windows doesn’t know how to find the
    Python interpreter.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '`python`命令无法正常工作最常见的原因是人们在运行安装程序时忘记选择“Add Python to PATH”选项；这是一个容易犯的错误。`PATH`变量是一个系统设置，告诉
    Python 去哪里查找常用的程序。在这种情况下，Windows 不知道如何找到 Python 解释器。'
- en: The simplest fix in this situation is to run the installer again. If there’s
    a newer installer available from [https://python.org](https://python.org), download
    the new installer and run it, making sure to check the **Add Python to PATH**
    box.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 这种情况下最简单的解决方法是重新运行安装程序。如果从[https://python.org](https://python.org)可以获取更新的安装程序，请下载新版本并运行，确保勾选**Add
    Python to PATH**选项。
- en: If you already have the latest installer, run it again and select the **Modify**
    option. You’ll see a list of optional features; keep the default options selected
    on this screen. Then click **Next** and check the **Add Python to Environment
    Variables** box. Finally, click **Install**. The installer will recognize that
    Python is already installed, and it will add the location of the Python interpreter
    to the `PATH` variable. Make sure you close any open terminals, because they’ll
    still be using the old `PATH` variable. Open a new terminal window and issue the
    command `python` again; you should see a Python prompt (`>>>`).
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你已经有了最新的安装程序，请再次运行并选择**Modify**选项。你将看到一个可选功能的列表；在这个界面上保持默认选项。然后点击**Next**并勾选**Add
    Python to Environment Variables**框。最后点击**Install**。安装程序会识别到 Python 已经安装，并将 Python
    解释器的位置添加到 `PATH` 变量中。确保关闭所有打开的终端，因为它们仍然会使用旧的 `PATH` 变量。打开一个新的终端窗口并再次输入 `python`
    命令；你应该会看到 Python 提示符（`>>>`）。
- en: Python on macOS
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: macOS上的Python
- en: The installation instructions in Chapter 1 use the official Python installer
    at [https://python.org](https://python.org). The official installer has been working
    well for years now, but there are a few things that can get you off track. This
    section will help if anything isn’t working in a straightforward manner.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 第1章中的安装说明使用了[https://python.org](https://python.org)的官方 Python 安装程序。该官方安装程序多年来一直运行良好，但有一些情况可能会让你偏离正轨。如果有什么不按预期工作，本节将帮助你解决问题。
- en: Accidentally Installing Apple’s Version of Python
  id: totrans-15
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 意外安装了 Apple 版本的 Python
- en: If you run the `python3` command and Python is not yet installed on your system,
    you’ll most likely see a message that the *command line developer tools* need
    to be installed. The best approach at this point is to close the pop-up showing
    this message, download the Python installer from [https://python.org](https://python.org),
    and run the installer.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你运行`python3`命令时，系统中尚未安装 Python，你很可能会看到需要安装*命令行开发者工具*的消息。此时，最好的做法是关闭显示该消息的弹窗，下载
    Python 安装程序，来自[https://python.org](https://python.org)，并运行安装程序。
- en: If you choose to install the command line developer tools at this point, macOS
    will install Apple’s version of Python along with the developer tools. The only
    issue with this is that Apple’s version of Python is usually somewhat behind the
    latest official version of Python. However, you can still download and run the
    official installer from [https://python.org](https://python.org), and `python3`
    will then point to the newer version. Don’t worry about having the developer tools
    installed; there are some useful tools in there, including the Git version control
    system discussed in Appendix D.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你选择在此时安装命令行开发者工具，macOS 会与开发者工具一起安装 Apple 的 Python 版本。唯一的问题是，Apple 的 Python
    版本通常会比最新的官方版本稍微滞后。然而，你仍然可以从[https://python.org](https://python.org)下载并运行官方安装程序，`python3`就会指向更新的版本。不要担心开发者工具已安装；其中有一些有用的工具，包括附录
    D 中讨论的 Git 版本控制系统。
- en: Python 2 on Older Versions of macOS
  id: totrans-18
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 旧版 macOS 上的 Python 2
- en: On older versions of macOS, before Monterey (macOS 12), an outdated version
    of Python 2 was installed by default. On these systems, the command `python` points
    to the outdated system interpreter. If you’re using a version of macOS with Python
    2 installed, make sure you use the `python3` command, and you’ll always be using
    the version of Python you installed.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在旧版 macOS（Monterey 之前的版本，macOS 12）上，默认安装的是过时的 Python 2。在这些系统中，`python`命令会指向过时的系统解释器。如果你使用的是安装了
    Python 2 的 macOS 版本，请确保使用`python3`命令，这样你就能始终使用你安装的 Python 版本。
- en: Python on Linux
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Linux 上的 Python
- en: Python is included by default on almost every Linux system. However, if the
    default version on your system is earlier than Python 3.9, you should install
    the latest version. You can also install the latest version if you want the most
    recent features, like Python’s improved error messages. The following instructions
    should work for most apt-based systems.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: Python 默认已经包含在几乎所有 Linux 系统中。然而，如果你系统上的默认版本早于 Python 3.9，建议安装最新版本。你也可以安装最新版本，以便获得最新的功能，比如
    Python 改进后的错误信息。以下的说明适用于大多数基于 apt 的系统。
- en: Using the Default Python Installation
  id: totrans-22
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用默认的 Python 安装
- en: 'If you want to use the version of Python that `python3` points to, make sure
    you have these three additional packages installed:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想使用`python3`所指向的 Python 版本，请确保安装以下三个附加包：
- en: '[PRE0]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: These packages include tools that are useful for developers and tools that let
    you install third-party packages, like the ones used in the projects section of
    this book.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 这些包包括一些对开发人员有用的工具，以及让你安装第三方包的工具，比如本书项目部分使用的包。
- en: Installing the Latest Version of Python
  id: totrans-26
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 安装最新版本的 Python
- en: 'We’ll use a package called `deadsnakes`, which makes it easy to install multiple
    versions of Python. Enter the following commands:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用一个叫做`deadsnakes`的包，它可以方便地安装多个版本的 Python。输入以下命令：
- en: '[PRE1]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: These commands will install Python 3.11 onto your system.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 这些命令将会把 Python 3.11 安装到你的系统中。
- en: 'Enter the following command to start a terminal session that runs Python 3.11:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 输入以下命令，启动一个运行 Python 3.11 的终端会话：
- en: '[PRE2]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Anywhere you see the command `python` in this book, use `python3.11` instead.
    You’ll also want to use this command when you run programs from the terminal.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，凡是出现`python`命令的地方，请使用`python3.11`代替。你也需要在从终端运行程序时使用这个命令。
- en: 'You’ll need to install two more packages to make the most of your Python installation:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要再安装两个包，才能充分利用你的 Python 安装：
- en: '[PRE3]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: These packages include modules you’ll need when installing and running third-party
    packages, like the ones used in the projects in the second half of the book.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 这些包包括在安装和运行第三方包时所需的模块，例如书籍下半部分项目中使用的那些包。
- en: Checking Which Version of Python You’re Using
  id: totrans-36
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 检查你正在使用的Python版本
- en: If you’re having any issues running Python or installing additional packages,
    it can be helpful to know exactly which version of Python you’re using. You may
    have multiple versions of Python installed and not be clear about which version
    is currently being used.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你在运行Python或安装额外包时遇到任何问题，知道自己正在使用哪个版本的Python会很有帮助。你可能安装了多个版本的Python，且不清楚当前使用的是哪个版本。
- en: 'Issue the following command in a terminal:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 在终端中执行以下命令：
- en: '[PRE4]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: This tells you exactly which version the command `python` is currently pointing
    to. The shorter command `python -V` will give the same output.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 这告诉你当前命令`python`所指向的确切版本。较短的命令`python -V`也会给出相同的输出。
- en: Python Keywords and Built-in Functions
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Python 关键字和内置函数
- en: 'Python comes with its own set of keywords and built-in functions. It’s important
    to be aware of these when you’re naming things in Python: your names cannot be
    the same as these keywords and shouldn’t be the same as the function names, or
    you’ll overwrite the functions.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: Python自带了一套关键字和内置函数。了解这些非常重要，因为在Python中命名时，你的名称不能与这些关键字相同，也不应与函数名相同，否则你将覆盖这些函数。
- en: In this section, we’ll list Python’s keywords and built-in function names, so
    you’ll know which names to avoid.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将列出Python的关键字和内置函数名称，以便你知道哪些名称需要避免使用。
- en: Python Keywords
  id: totrans-44
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Python 关键字
- en: Each of the following keywords has a specific meaning, and you’ll see an error
    if you try to use any of them as a variable name.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 以下每个关键字都有特定的含义，如果你尝试将它们用作变量名，会出现错误。
- en: '[PRE5]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Python Built-in Functions
  id: totrans-47
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Python 内置函数
- en: 'You won’t get an error if you use one of the following readily available built-in
    functions as a variable name, but you’ll override the behavior of that function:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你使用以下这些现成的内置函数作为变量名，你不会遇到错误，但会覆盖该函数的行为：
- en: '[PRE6]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
