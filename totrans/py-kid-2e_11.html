<html><head></head><body><div id="sbo-rt-content"><h2 class="h2" id="ch10"><span epub:type="pagebreak" id="page_135"/><span class="big">10</span><br/>Using tkinter for Better Graphics</h2>&#13;
<div class="image1"><img src="Images/common.jpg" alt="Image" width="600" height="230"/></div>&#13;
<p class="indent">The problem with using a turtle to draw is . . . that . . . turtles . . . are . . . really . . . slow. Even when a turtle is going at top speed, it’s still not very fast. While this isn’t really an issue for turtles, it is for computer graphics.</p>&#13;
<p class="indent">Computer graphics usually need to move fast. If you play games on a game console or computer, think for a moment about the graphics you see on the screen. Two-dimensional (2D) graphics are flat: the characters generally move only up and down or left and right, as in many <span epub:type="pagebreak" id="page_136"/>Nintendo and phone games. In pseudo-three-dimensional (3D) games—ones that are almost 3D—images look a little more real, but the characters generally move only in relation to a flat plane (this is also known as <em>isometric graphics</em>). Finally, we have 3D games, with graphics that attempt to mimic reality. Whether games use 2D, pseudo-3D, or 3D graphics, all have one thing in common: the need to draw on the computer screen very quickly.</p>&#13;
<div class="image1"><img src="Images/f0136-01.jpg" alt="Image" width="226" height="155"/></div>&#13;
<p class="indent">If you’ve never tried to create your own animation, try this simple project:</p>&#13;
<ol>&#13;
<li class="noindent">Get a blank pad of paper, and in the bottom corner of the first page, draw something (perhaps a stick figure).</li>&#13;
<li class="noindent">On the corner of the next page, draw the same stick figure, but move its leg slightly.</li>&#13;
<li class="noindent">On the next page, draw the stick figure again, with the leg moved a little more.</li>&#13;
<li class="noindent">Gradually go through each page, drawing a modified stick figure on the bottom corner.</li>&#13;
</ol>&#13;
<p class="noindent">When you’re finished, flip quickly through the pages, and you should see your stick figure moving. This is the basic method used with all animation, whether cartoons or video games. An image is drawn, and then drawn again with a slight change to create the illusion of movement. To make an image look like it is moving, you need to display each <em>frame</em>—or piece of the animation—very quickly.</p>&#13;
<p class="indent">Python offers different ways to create graphics. In addition to the <span class="literal">turtle</span> module, you can use <em>external</em> modules (which you need to install separately), as well as the <span class="literal">tkinter</span> module, which you should already have in your standard Python installation. The <span class="literal">tkinter</span> module can be used to create full applications, like a simple word processor, as well as drawings. In this chapter, we’ll explore using <span class="literal">tkinter</span> to create graphics.</p>&#13;
<h3 class="h3" id="ch10lev1sec1"><span epub:type="pagebreak" id="page_137"/>Creating a Clickable Button</h3>&#13;
<p class="noindent">For our first example, we’ll use the <span class="literal">tkinter</span> module to create a basic application with a button. Enter this code:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> <span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
<span class="brown">&gt;&gt;&gt;</span> tk = Tk()&#13;
<span class="brown">&gt;&gt;&gt;</span> btn = Button(tk, text=<span class="green">'click me'</span>)&#13;
<span class="brown">&gt;&gt;&gt;</span> btn.pack()&#13;
</pre>&#13;
<p class="indent">On the first line, we import the contents of the <span class="literal">tkinter</span> module. The <span class="literal">from <em>module-name</em> import *</span> line allows us to use the contents of a module without using its name. In contrast, when using <span class="literal">import turtle</span> in previous examples, we needed to include the module name to access its contents, like so:</p>&#13;
<div class="image1"><img src="Images/f0137-01.jpg" alt="Image" width="264" height="123"/></div>&#13;
<pre class="pre1"><span class="orange">import</span> turtle&#13;
t = turtle.Turtle()&#13;
</pre>&#13;
<p class="indent">When we use <span class="literal">import *</span>, we don’t need to call <span class="literal">turtle.Turtle</span>, as we did in <a href="ch04.xhtml#ch04">Chapters 4</a> and <a href="ch09.xhtml#ch09">9</a>. This is most useful when you’re using modules with a lot of classes and functions, because it reduces the amount you need to type:</p>&#13;
<pre class="pre1"><span class="orange">from</span> turtle <span class="orange">import</span> *&#13;
t = Turtle()&#13;
</pre>&#13;
<p class="indent">On the next line in our button example, we create a variable containing an object of the class <span class="literal">Tk</span> with <span class="literal">tk = Tk()</span>, just like we create a <span class="literal">Turtle</span> object for the turtle. The <span class="literal">tk</span> object creates a basic window to which we can then add other things, such as buttons, input boxes, or a canvas to draw on. This is the main class provided by the <span class="literal">tkinter</span> module; without creating an object of the <span class="literal">Tk</span> class, you won’t be able to do any graphics or animations.</p>&#13;
<p class="indent">On the third line, we create a button with <span class="literal">btn = Button</span>, and pass the <span class="literal">tk</span> variable as the first parameter and “click me” as the text the button will display with <span class="literal">text=’click me’</span>. Although we’ve added this button to the window, it won’t be displayed until you enter the line <span class="literal">btn.pack()</span>, which tells the button to appear. It also lines everything up correctly on the screen if <span epub:type="pagebreak" id="page_138"/>there are other buttons or objects to display. The result should be something like <a href="ch10.xhtml#ch10fig01">Figure 10-1</a>.</p>&#13;
<div class="image1" id="ch10fig01"><img src="Images/10fig01.jpg" alt="Image" width="601" height="227"/></div>&#13;
<p class="figcap"><em>Figure 10-1: A <span class="literal">tkinter</span> application with a single button</em></p>&#13;
<p class="indent">Right now, the Click Me button doesn’t do much. You can click it all day, but nothing will happen until we change the code a bit. (Be sure to close the window you created earlier!)</p>&#13;
<p class="indent">First, we create a function to print some text:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> <span class="orange">def</span> hello():&#13;
        <span class="violet">print</span>(<span class="green">'hello there'</span>)&#13;
</pre>&#13;
<p class="indent">Then we modify our example to use this new function:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> <span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
<span class="brown">&gt;&gt;&gt;</span> tk = Tk()&#13;
<span class="brown">&gt;&gt;&gt;</span> btn = Button(tk, text=<span class="green">'click me'</span>, command=hello)&#13;
<span class="brown">&gt;&gt;&gt;</span> btn.pack()&#13;
</pre>&#13;
<p class="indent">We’ve made only a slight change to the previous version of this code, adding the <span class="literal">command</span> parameter, which tells Python to use the <span class="literal">hello</span> function when the button is clicked.</p>&#13;
<p class="indent">Now when you click the button, you’ll see “hello there” written to the Python Shell. This will appear each time the button is clicked. In <a href="ch10.xhtml#ch10fig02">Figure 10-2</a>, I’ve clicked the button five times.</p>&#13;
<div class="image1" id="ch10fig02"><img src="Images/10fig02.jpg" alt="Image" width="601" height="227"/></div>&#13;
<p class="figcap"><em>Figure 10-2: Clicking the button</em></p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_139"/>This is the first time we’ve used named parameters in any of our code examples, so let’s talk about them a bit before continuing with our drawing.</p>&#13;
<h3 class="h3" id="ch10lev1sec2">Using Named Parameters</h3>&#13;
<p class="noindent"><em>Named parameters</em> are just like normal parameters, but rather than using the specific order of the values provided to a function to determine which value belongs to which parameter (the first value is the first parameter, the second value is the second parameter, and so on), we explicitly name the values so they can appear in any order.</p>&#13;
<p class="indent">Sometimes functions have a lot of parameters, and we may not always need to provide a value for every one. With named parameters, we can provide values for only the parameters we need to give values.</p>&#13;
<p class="indent">For example, suppose we have a <span class="literal">person</span> function that takes two parameters, <span class="literal">width</span> and <span class="literal">height</span>:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> <span class="orange">def</span> person(width, height):&#13;
        <span class="violet">print</span>(f<span class="green">'I am {width} feet wide, {height} feet high'</span>)&#13;
</pre>&#13;
<p class="indent">Normally, we might call this function like so:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> person(4, 3)&#13;
<span class="blue">I am 4 feet wide, 3 feet high</span>&#13;
</pre>&#13;
<p class="indent">Using named parameters, we could call this function and specify the parameter name with each value:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> person(height=3, width=4)&#13;
<span class="blue">I am 4 feet wide, 3 feet high</span>&#13;
</pre>&#13;
<p class="indent">Named parameters will become particularly useful as we do more with the <span class="literal">tkinter</span> module.</p>&#13;
<h3 class="h3" id="ch10lev1sec3">Creating a Canvas for Drawing</h3>&#13;
<p class="noindent">Buttons are nice tools, but they’re not particularly useful when we want to draw things on the screen. When it’s time to draw, we need a different component: a <span class="literal">canvas</span> object, which is an object of the <span class="literal">Canvas</span> class (provided by the <span class="literal">tkinter</span> module).</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_140"/>When creating a canvas, we pass the width and height (in pixels) of the canvas to Python. Otherwise, the code is similar to the button code. For example:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> <span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
<span class="brown">&gt;&gt;&gt;</span> tk = Tk()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas = Canvas(tk, width=500, height=500)&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.pack()&#13;
</pre>&#13;
<p class="indent">As with the button example, a window will appear when you enter <span class="literal">tk = Tk()</span>. On the last line, we pack the canvas with <span class="literal">canvas.pack()</span>, which applies the changes to the size of the canvas (a width of 500 pixels and a height of 500 pixels, as specified in the third line of code).</p>&#13;
<p class="indent">Also like the button example, the <span class="literal">pack</span> function tells the canvas to display itself in the correct position within the window. If <span class="literal">pack</span> isn’t called, nothing will display properly.</p>&#13;
<div class="image1"><img src="Images/f0140-01.jpg" alt="Image" width="300" height="331"/></div>&#13;
<h3 class="h3" id="ch10lev1sec4">Drawing Lines</h3>&#13;
<p class="noindent">To draw a line on the canvas, we use pixel coordinates. <em>Coordinates</em> determine the positions of pixels on a surface. On a <span class="literal">tkinter</span> canvas, coordinates describe how far across the canvas (from left to right) and how far down the canvas (top to bottom) to place the pixel.</p>&#13;
<p class="indent">For example, because our canvas is 500 pixels wide by 500 pixels high, the coordinates of the bottom-right corner of the screen are (500, 500). To draw the line shown in <a href="ch10.xhtml#ch10fig03">Figure 10-3</a>, we would use the starting coordinates (0, 0) and ending coordinates (500, 500).</p>&#13;
<div class="image1" id="ch10fig03"><span epub:type="pagebreak" id="page_141"/><img src="Images/10fig03.jpg" alt="Image" width="526" height="557"/></div>&#13;
<p class="figcap"><em>Figure 10-3: Drawing a diagonal line with <span class="literal">tkinter</span></em></p>&#13;
<p class="indent">We specify the coordinates by using the <span class="literal">create_line</span> function, as shown here:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> <span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
<span class="brown">&gt;&gt;&gt;</span> tk = Tk()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas = Canvas(tk, width=500, height=500)&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.pack()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.create_line(0, 0, 500, 500)&#13;
<span class="blue">1</span>&#13;
</pre>&#13;
<p class="indent">The <span class="literal">create_line</span> function returns 1, which is an identifier; we’ll learn more about that later. If we had done the same thing with the <span class="literal">turtle</span> module, we would’ve needed the following this code:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> <span class="orange">import</span> turtle&#13;
<span class="brown">&gt;&gt;&gt;</span> turtle.setup(width=500, height=500)&#13;
<span class="brown">&gt;&gt;&gt;</span> t = turtle.Turtle()&#13;
<span epub:type="pagebreak" id="page_142"/><span class="brown">&gt;&gt;&gt;</span> t.up()&#13;
<span class="brown">&gt;&gt;&gt;</span> t.goto(-250, 250)&#13;
<span class="brown">&gt;&gt;&gt;</span> t.down()&#13;
<span class="brown">&gt;&gt;&gt;</span> t.goto(500, -500)&#13;
</pre>&#13;
<p class="indent">In this code, the canvas is 500 pixels wide and 500 high, so the turtle appears at position <span class="literal">250, 250</span> (in the middle of the canvas). If we use the function <span class="literal">t.goto(-250, 250)</span>, we’re moving left 250 and up 250 pixels to the top left of the screen. When we call <span class="literal">t.goto(500, -500)</span>, we’re then moving right 500 pixels and down 500 pixels to the bottom-right corner.</p>&#13;
<p class="indent">So we can see that the <span class="literal">tkinter</span> code is already an improvement. It’s slightly shorter and simpler. Now let’s look at some of the functions available on the <span class="literal">canvas</span> object that we can use to create more interesting drawings.</p>&#13;
<h3 class="h3" id="ch10lev1sec5">Drawing Boxes</h3>&#13;
<p class="noindent">With the <span class="literal">turtle</span> module, we drew a box by moving forward, turning, moving forward, turning again, and so on. Eventually, we were able to draw a rectangular or square box by changing how far we moved forward.</p>&#13;
<p class="indent">The <span class="literal">tkinter</span> module makes it a lot easier to draw a square or rectangle. All you need to know are the coordinates for the corners. Try the following example (you can close the other windows now):</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> <span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
<span class="brown">&gt;&gt;&gt;</span> tk = Tk()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas = Canvas(tk, width=400, height=400)&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.pack()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.create_rectangle(10, 10, 50, 50)&#13;
</pre>&#13;
<p class="indent">In this code, we use <span class="literal">tkinter</span> to create a canvas that is 400 pixels wide by 400 pixels high, and we then draw a square in the top-left corner of the window, like <a href="ch10.xhtml#ch10fig04">Figure 10-4</a>.</p>&#13;
<div class="image1" id="ch10fig04"><span epub:type="pagebreak" id="page_143"/><img src="Images/10fig04.jpg" alt="Image" width="525" height="288"/></div>&#13;
<p class="figcap"><em>Figure 10-4: Drawing a box</em></p>&#13;
<p class="indent">The parameters we pass to <span class="literal">canvas.create_rectangle</span> in the last line of the code are the coordinates for the top-left and bottom-right corners of the square. We provide these coordinates as the distance from the left-hand side of the canvas and the distance from the top of the canvas. In this case, the first two coordinates (the top-left corner) are 10 pixels across from the left and 10 pixels down from the top—those are the first numbers: <span class="literal">10, 10</span>. The bottom-right corner of the square is 50 pixels across from the left and 50 pixels down from the top—the second numbers: <span class="literal">50, 50</span>.</p>&#13;
<p class="indent">We’ll refer to these two sets of coordinates as <em>x1</em>, <em>y1</em> and <em>x2</em>, <em>y2</em>. To draw a rectangle, we can increase the distance of the second corner from the side of the canvas (increasing the value of the <em>x2</em> parameter), like this:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> <span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
<span class="brown">&gt;&gt;&gt;</span> tk = Tk()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas = Canvas(tk, width=400, height=400)&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.pack()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.create_rectangle(10, 10, 300, 50)&#13;
</pre>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_144"/>In this example, the top-left coordinates of the rectangle (its position on the screen) are (<span class="literal">10, 10</span>), and the bottom-right coordinates are (<span class="literal">300, 50</span>). The result is a rectangle that is the same height as our original square (40 pixels) but much wider.</p>&#13;
<div class="image1" id="ch10fig05"><img src="Images/10fig05.jpg" alt="Image" width="526" height="254"/></div>&#13;
<p class="figcap"><em>Figure 10-5: A wide rectangle</em></p>&#13;
<p class="indent">We can also draw a rectangle by increasing the distance of the second corner from the top of the canvas (increasing the value of the <em>y2</em> parameter), like this:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> <span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
<span class="brown">&gt;&gt;&gt;</span> tk = Tk()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas = Canvas(tk, width=400, height=400)&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.pack()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.create_rectangle(10, 10, 50, 300)&#13;
</pre>&#13;
<p class="indent">In this call to the <span class="literal">create_rectangle</span> function, we’re telling <span class="literal">tkinter</span> to:</p>&#13;
<ul>&#13;
<li class="noindent">Go 10 pixels across the canvas (from the top left).</li>&#13;
<li class="noindent">Go 10 pixels down the canvas. This is the starting corner of the rectangle.</li>&#13;
<li class="noindent">Draw the rectangle across to 50 pixels.</li>&#13;
<li class="noindent">Draw down to 300 pixels.</li>&#13;
</ul>&#13;
<p class="indent">The end result should look something like <a href="ch10.xhtml#ch10fig06">Figure 10-6</a>.</p>&#13;
<div class="image1" id="ch10fig06"><span epub:type="pagebreak" id="page_145"/><img src="Images/10fig06.jpg" alt="Image" width="526" height="474"/></div>&#13;
<p class="figcap"><em>Figure 10-6: A tall rectangle</em></p>&#13;
<h3 class="h3" id="ch10lev1sec6">Drawing a Lot of Rectangles</h3>&#13;
<p class="noindent">Let’s try filling the canvas with different-sized rectangles by importing the <span class="literal">random</span> module and then creating a function that uses a random number for the coordinates at the top-left and bottom-right corners of the rectangle.</p>&#13;
<p class="indent">We’ll use the <span class="literal">randrange</span> function provided by the <span class="literal">random</span> module. When we give this function a number, it returns a random integer between 0 and the number we give it. For example, calling <span class="literal">randrange(10)</span> returns a number between 0 and 9, <span class="literal">randrange(100)</span> returns a number between 0 and 99, and so on.</p>&#13;
<p class="indent">To use <span class="literal">randrange</span> in a function, create a new window by selecting <strong>File ▸ New File</strong>, and enter the following code:</p>&#13;
<pre class="pre1"><span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
<span class="orange">import</span> random&#13;
tk = Tk()&#13;
canvas = Canvas(tk, width=400, height=400)&#13;
canvas.pack()&#13;
&#13;
<span class="orange">def</span> random_rectangle(width, height):&#13;
    x1 = random.randrange(width)&#13;
    y1 = random.randrange(height)&#13;
<span epub:type="pagebreak" id="page_146"/>    x2 = x1 + random.randrange(width)&#13;
    y2 = y1 + random.randrange(height)&#13;
    canvas.create_rectangle(x1, y1, x2, y2)&#13;
</pre>&#13;
<p class="indent">We first define our (<span class="literal">random_rectangle</span>) function as taking two parameters: <span class="literal">width</span> and <span class="literal">height</span>. Next, we create variables for the top-left corner of the rectangle by using the <span class="literal">randrange</span> function, passing the width and the height as parameters with <span class="literal">x1 = random</span> <span class="literal">.randrange(width)</span> and <span class="literal">y1 = random.randrange(height)</span>, respectively. With the second line of this function, we’re saying, “Create a variable called <span class="literal">x1</span> and set its value to a random number between 0 and the value in the parameter <span class="literal">width</span>.”</p>&#13;
<p class="indent">The next two lines create variables for the bottom-right corner of the rectangle, taking into account the top-left coordinates (either <span class="literal">x1</span> or <span class="literal">y1</span>) and adding a random number to those values. The third line of the function is effectively saying, “Create the variable <span class="literal">x2</span> by adding a random number to the value we already calculated for <span class="literal">x1</span>.”</p>&#13;
<p class="indent">Finally, with <span class="literal">canvas.create_rectangle</span>, we use the variables <span class="literal">x1</span>, <span class="literal">y1</span>, <span class="literal">x2</span>, and <span class="literal">y2</span> to draw the rectangle on the canvas.</p>&#13;
<p class="indent">To try our <span class="literal">random_rectangle</span> function, we’ll pass it the width and height of the canvas. Add the following code below the function you’ve just entered:</p>&#13;
<pre class="pre1">random_rectangle(400, 400)</pre>&#13;
<p class="indent">Save the code you’ve entered (select <strong>File ▸ Save</strong> and enter a filename such as <em>randomrect.py</em>), and then select <strong>Run ▸ Run Module</strong>.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>Our <span class="literal">random_rectangle</span> function can draw a rectangle off the side or bottom of the canvas. That’s because the top-left corner of the rectangle can be anywhere on the canvas (even in the bottom right-hand corner), and it doesn’t cause any errors to draw past the width or height of the canvas.</em></p>&#13;
</div>&#13;
<p class="indent">Once you’ve seen the function working, fill the screen with rectangles by creating a loop to call <span class="literal">random_rectangle</span> a number of times. Let’s try a <span class="literal">for</span> loop of 100 random rectangles. Add the following code, save your work, and try running it again:</p>&#13;
<pre class="pre1"><span class="orange">for</span> x <span class="orange">in</span> <span class="violet">range</span>(0, 100):&#13;
    random_rectangle(400, 400)&#13;
</pre>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_147"/>This code produces a bit of a mess, but it’s kind of modern art (<a href="ch10.xhtml#ch10fig07">Figure 10-7</a>).</p>&#13;
<div class="image1" id="ch10fig07"><img src="Images/10fig07.jpg" alt="Image" width="526" height="565"/></div>&#13;
<p class="figcap"><em>Figure 10-7: Modern art with tkinter</em></p>&#13;
<h3 class="h3" id="ch10lev1sec7">Setting the Color</h3>&#13;
<p class="noindent">Let’s add interest to our graphics with color. We’ll change the <span class="literal">random_rectangle</span> function to pass in a color for the rectangle as an additional parameter (<span class="literal">fill_color</span>). Enter this code in a new window, and when you save, call the file <em>colorrect.py</em>:</p>&#13;
<pre class="pre1"><span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
<span class="orange">import</span> random&#13;
tk = Tk()&#13;
canvas = Canvas(tk, width=400, height=400)&#13;
canvas.pack()&#13;
&#13;
<span class="orange">def</span> random_rectangle(width, height, fill_color):&#13;
    x1 = random.randrange(width)&#13;
    y1 = random.randrange(height)&#13;
    x2 = random.randrange(x1 + random.randrange(width))&#13;
<span epub:type="pagebreak" id="page_148"/>    y2 = random.randrange(y1 + random.randrange(height))&#13;
    canvas.create_rectangle(x1, y1, x2, y2, fill=fill_color)&#13;
</pre>&#13;
<p class="indent">The <span class="literal">create_rectangle</span> function now takes a parameter, <span class="literal">fill_color</span>, which specifies the color to use when drawing the rectangle.</p>&#13;
<p class="indent">We can pass named colors into the function like this to create a bunch of uniquely colored rectangles. If you try this example, consider copying and pasting, after you enter the first line, to save on typing. To do so, select the text to copy, press CTRL-C to copy it, click a blank line, and press CTRL-V to paste. Add this code to <em>colorrect.py</em>, just below the function:</p>&#13;
<div class="image1"><img src="Images/f0148-01.jpg" alt="Image" width="151" height="271"/></div>&#13;
<pre class="pre1">random_rectangle(400, 400, <span class="green">'green'</span>)&#13;
random_rectangle(400, 400, <span class="green">'red'</span>)&#13;
random_rectangle(400, 400, <span class="green">'blue'</span>)&#13;
random_rectangle(400, 400, <span class="green">'orange'</span>)&#13;
random_rectangle(400, 400, <span class="green">'yellow'</span>)&#13;
random_rectangle(400, 400, <span class="green">'pink'</span>)&#13;
random_rectangle(400, 400, <span class="green">'purple'</span>)&#13;
random_rectangle(400, 400, <span class="green">'violet'</span>)&#13;
random_rectangle(400, 400, <span class="green">'magenta'</span>)&#13;
random_rectangle(400, 400, <span class="green">'cyan'</span>)&#13;
</pre>&#13;
<p class="indent">Many of these named colors will display the color you expect to see, but others may produce an error message (depending on whether you’re using Windows, macOS, or Linux). But what about a custom color that isn’t exactly the same as a named color? Recall in <a href="ch09.xhtml#ch09">Chapter 9</a> that we set the color of the turtle’s pen by using percentages of the colors red, green, and blue. Setting the amount of each primary color (red, green, and blue) to use in a color combination with <span class="literal">tkinter</span> is slightly more complicated, but we’ll work through it.</p>&#13;
<p class="indent">When working with the <span class="literal">turtle</span> module, we created gold using 90 percent red, 75 percent green, and no blue. In <span class="literal">tkinter</span>, we can create the same gold color by using this line:</p>&#13;
<pre class="pre1">random_rectangle(400, 400, <span class="green">'#e5d800'</span>)&#13;
</pre>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_149"/>The hash mark (<span class="literal">#</span>) before the value <span class="literal">ffd800</span> tells Python we’re providing a <em>hexadecimal</em> number. Hexadecimal is a way of representing numbers that is common in computer programming. It uses a base of 16 (0 through 9, then A through F) rather than decimal, which has a base of 10 (0 through 9). If you haven’t learned about bases in mathematics, just know that you can convert a normal decimal number to hexadecimal using a <em>format placeholder</em> in a string: <span class="literal">{:x}</span> (see “Embedding Values in Strings” on <a href="ch03.xhtml#ch03lev1sec4">page 29</a>). For example, to convert the decimal number 15 to hexadecimal, you could do this:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> <span class="violet">print</span>(f<span class="green">'{15:x}'</span>)&#13;
<span class="blue">f</span>&#13;
</pre>&#13;
<p class="indent">This is an f-string with a special format modifier (that’s <span class="literal">:x</span>) that tells Python to convert the number to hexadecimal.</p>&#13;
<p class="indent">To make sure our number has at least two digits, we can change the format placeholder slightly, to this:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> <span class="violet">print</span>(f<span class="green">'{15:02x}'</span>)&#13;
<span class="blue">0f</span>&#13;
</pre>&#13;
<p class="indent">This time we have a slightly different format modifier (<span class="literal">02x</span>) that says we want hexadecimal conversion, but with two digits (using 0 for any missing digit).</p>&#13;
<p class="indent">The <span class="literal">tkinter</span> module provides an easy way to get hexadecimal color values. Try running the following code in IDLE:</p>&#13;
<pre class="pre1"><span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
<span class="orange">from</span> tkinter <span class="orange">import</span> colorchooser&#13;
tk = Tk()&#13;
tk.update()&#13;
<span class="violet">print</span>(colorchooser.askcolor())&#13;
</pre>&#13;
<p class="indent">This code displays a color chooser, shown in <a href="ch10.xhtml#ch10fig08">Figure 10-8</a>. Note that you have to explicitly import the <span class="literal">colorchooser</span> module because it’s not automatically available in Python when you use <span class="literal">from tkinter import</span> <span class="literal">*</span>.</p>&#13;
<div class="image1" id="ch10fig08"><span epub:type="pagebreak" id="page_150"/><img src="Images/10fig08.jpg" alt="Image" width="527" height="388"/></div>&#13;
<p class="figcap"><em>Figure 10-8: The tkinter color chooser (which may look different on your OS)</em></p>&#13;
<p class="indent">When you select a color and click <strong>OK</strong>, a tuple will be displayed. This tuple contains another tuple with three numbers and a string:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> <span class="violet">print</span>(colorchooser.askcolor())&#13;
<span class="blue">((157, 163, 164), '#9da3a4')</span>&#13;
</pre>&#13;
<p class="indent">The three numbers represent the amounts of red, green, and blue. In <span class="literal">tkinter</span>, the amount of each primary color to use in a color combination is represented by a number between 0 and 255 (which is different from using a percentage for each primary color with the <span class="literal">turtle</span> module). The string in the tuple contains the hexadecimal version of those three numbers.</p>&#13;
<p class="indent">You can either copy and paste the string value to use it, or store the tuple as a variable and use the index position of the hexadecimal value.</p>&#13;
<p class="indent">Let’s use the <span class="literal">random_rectangle</span> function to see how this works, by replacing all the <span class="literal">random_rectangle</span> calls at the bottom of <em>colorrect.py</em> with the following code:</p>&#13;
<pre class="pre1"><span class="orange">from</span> tkinter <span class="orange">import</span> colorchooser&#13;
c = colorchooser.askcolor()&#13;
random_rectangle(400, 400, c[1])&#13;
</pre>&#13;
<p class="indent">You can see the result in <a href="ch10.xhtml#ch10fig09">Figure 10-9</a>.</p>&#13;
<div class="image1" id="ch10fig09"><span epub:type="pagebreak" id="page_151"/><img src="Images/10fig09.jpg" alt="Image" width="526" height="564"/></div>&#13;
<p class="figcap"><em>Figure 10-9: Drawing a purple rectangle</em></p>&#13;
<h3 class="h3" id="ch10lev1sec8">Drawing Arcs</h3>&#13;
<p class="noindent">An <em>arc</em> is a segment of the circumference of a circle or curve. To draw an arc with <span class="literal">tkinter</span>, you need to draw it inside a rectangle by using the <span class="literal">create_arc</span> function with code like this:</p>&#13;
<pre class="pre1">canvas.create_arc(10, 10, 200, 100, extent=180, style=ARC)&#13;
</pre>&#13;
<div class="image1" id="ch10fig10"><img src="Images/10fig10.jpg" alt="Image" width="526" height="240"/></div>&#13;
<p class="figcap"><em>Figure 10-10: Drawing an arc</em></p>&#13;
<div class="note">&#13;
<p class="notet"><span epub:type="pagebreak" id="page_152"/><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>If you’ve closed all the <span class="literal">tkinter</span> windows or restarted IDLE, make sure to reimport <span class="literal">tkinter</span> and then re-create the canvas with this code:</em></p>&#13;
</div>&#13;
<pre class="pre1"><span class="codeitalic1"><span class="brown">&gt;&gt;&gt;</span> <span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
<span class="brown">&gt;&gt;&gt;</span> tk = Tk()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas = Canvas(tk, width=400, height=400)&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.pack()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.create_arc(10, 10, 200, 100, extent=180, style=ARC)</span>&#13;
</pre>&#13;
<p class="indent">This code places the top-left corner of the rectangle that will contain the arc at the coordinates (<span class="literal">10, 10</span>), which is 10 pixels across and 10 pixels down, and its bottom-right corner at coordinates (<span class="literal">200, 100</span>), or 200 pixels across and 100 pixels down. The next parameter, <span class="literal">extent</span>, is used to specify the degrees of the angle of the arc. Recall from <a href="ch04.xhtml#ch04">Chapter 4</a> that degrees are a way of measuring the distance to travel around a circle. <a href="ch10.xhtml#ch10fig11">Figure 10-11</a> shows examples of two arcs, where we travel 90 degrees and 270 degrees around a circle.</p>&#13;
<div class="image1" id="ch10fig11"><img src="Images/10fig11.jpg" alt="Image" width="326" height="168"/></div>&#13;
<p class="figcap"><em>Figure 10-11: 90- and 270- degree arcs</em></p>&#13;
<p class="indent">The following code draws several different arcs down the page so you can see what happens when we use different degrees with the <span class="literal">create_arc</span> function:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> <span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
<span class="brown">&gt;&gt;&gt;</span> tk = Tk()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas = Canvas(tk, width=400, height=400)&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.pack()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.create_arc(10, 10, 200, 80, extent=45, style=ARC)&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.create_arc(10, 80, 200, 160, extent=90, style=ARC)&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.create_arc(10, 160, 200, 240, extent=135, style=ARC)&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.create_arc(10, 240, 200, 320, extent=180, style=ARC)&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.create_arc(10, 320, 200, 400, extent=359, style=ARC)&#13;
</pre>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_153"/>The result is shown in <a href="ch10.xhtml#ch10fig12">Figure 10-12</a>.</p>&#13;
<div class="image1" id="ch10fig12"><img src="Images/10fig12.jpg" alt="Image" width="526" height="565"/></div>&#13;
<p class="figcap"><em>Figure 10-12: Multiple arcs</em></p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>We use 359 degrees in the final circle, rather than 360, because <span class="literal">tkinter</span> considers 360 to be the same as 0 degrees, and would draw nothing.</em></p>&#13;
</div>&#13;
<p class="indent">The <span class="literal">style</span> parameter is the type of arc you want to draw. There are two other types of arc: chord and pieslice. A <em>chord</em> is almost the same as the arc we have already drawn, except the two ends are joined together with a single straight line. A <em>pieslice</em> is exactly what it sounds like—as if you cut a segment out of a pizza or a pie.</p>&#13;
<h3 class="h3" id="ch10lev1sec9">Drawing Polygons</h3>&#13;
<p class="noindent">A <em>polygon</em> is any shape with three or more sides. There are regularly shaped polygons—like triangles, squares, rectangles, pentagons, hexagons, and so on—as well as <em>irregular</em> polygons with uneven edges, many more sides, and odd shapes.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_154"/>When drawing polygons with <span class="literal">tkinter</span>, you need to provide coordinates for each point of the polygon. We can draw a triangle with the following code:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> <span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
<span class="brown">&gt;&gt;&gt;</span> tk = Tk()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas = Canvas(tk, width=400, height=400)&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.pack()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.create_polygon(10, 10, 100, 10, 100, 110, fill=<span class="green">''</span>, &#13;
    outline=<span class="green">'black'</span>)&#13;
</pre>&#13;
<p class="indent">This example draws a triangle by starting with the <em>x</em> and <em>y</em> coordinates (10, 10), then moving across to (<span class="literal">100, 10</span>), and finishing at (<span class="literal">100, 110</span>). We set the fill color to nothing (an empty string), so the triangle won’t be colored in, and the outline is set to <span class="literal">’black’</span>, so it will be drawn with a black line. It should look like <a href="ch10.xhtml#ch10fig13">Figure 10-13</a>.</p>&#13;
<div class="image1" id="ch10fig13"><img src="Images/10fig13.jpg" alt="Image" width="527" height="278"/></div>&#13;
<p class="figcap"><em>Figure 10-13: Drawing a triangle</em></p>&#13;
<p class="indent">We can add an irregular polygon by using this code:</p>&#13;
<pre class="pre1">canvas.create_polygon(200, 10, 240, 30, 120, 100, 140, 120, fill=<span class="green">''</span>,&#13;
outline=<span class="green">'black'</span>)&#13;
</pre>&#13;
<p class="indent">This code begins with the coordinates (<span class="literal">200, 10</span>), moves to (<span class="literal">240, 30</span>), then to (<span class="literal">120, 100</span>), and finally to (<span class="literal">140, 120</span>). The <span class="literal">tkinter</span> module automatically joins the line back to the first coordinate. The result is shown in <a href="ch10.xhtml#ch10fig14">Figure 10-14</a>.</p>&#13;
<div class="image1" id="ch10fig14"><span epub:type="pagebreak" id="page_155"/><img src="Images/10fig14.jpg" alt="Image" width="526" height="278"/></div>&#13;
<p class="figcap"><em>Figure 10-14: Irregular polygon</em></p>&#13;
<h3 class="h3" id="ch10lev1sec10">Displaying Text</h3>&#13;
<p class="noindent">In addition to drawing shapes, you can also write on the canvas by using the <span class="literal">create_text</span> function. This function takes only two coordinates—the <em>x</em> and <em>y</em> positions of the text—along with a named parameter for the text to display. In the following code, we create our canvas as before and then display a sentence positioned at the coordinates (<span class="literal">150, 100</span>). Save this code as <em>text.py</em>:</p>&#13;
<pre class="pre1"><span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
tk = Tk()&#13;
canvas = Canvas(tk, width=400, height=400)&#13;
canvas.pack()&#13;
canvas.create_text(150, 100, text=<span class="green">'There once was a man from Toulouse,'</span>)&#13;
</pre>&#13;
<p class="indent">The <span class="literal">create_text</span> function can take other useful parameters, such as a text fill color. In the following code, we call the <span class="literal">create</span> <span class="literal">_text</span> function with coordinates (<span class="literal">130, 120</span>), the text we want to display, and a red fill color:</p>&#13;
<pre class="pre1">canvas.create_text(130, 120, text=<span class="green">'Who rode around on a moose.'</span>, fill=<span class="green">'red'</span>)&#13;
</pre>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_156"/>You can also specify the <em>font</em>, or the typeface used for the displayed text, as a tuple with the font name and the size of the text. For example, the tuple for the <em>Times</em> font of size 20 is (<span class="literal">'Times', 20</span>). In the following code, we display text using the <em>Times</em> font set at size 15, the <em>Helvetica</em> font at size 20, and the <em>Courier</em> font at sizes 22 and then 30:</p>&#13;
<div class="image1"><img src="Images/f0156-01.jpg" alt="Image" width="227" height="178"/></div>&#13;
<pre class="pre1">canvas.create_text(150, 150, text=<span class="green">'He said, "It\'s my curse,'</span>, font=(<span class="green">'Times'</span>, 15))&#13;
canvas.create_text(200, 200, text=<span class="green">'But it could be worse,'</span>, font=(<span class="green">'Helvetica'</span>, 20))&#13;
canvas.create_text(220, 250, text=<span class="green">'My cousin rides round'</span>, font=(<span class="green">'Courier'</span>, 22))&#13;
canvas.create_text(220, 300, text=<span class="green">'on a goose."'</span>, font=(<span class="green">'Courier'</span>, 30))&#13;
</pre>&#13;
<p class="indent"><a href="ch10.xhtml#ch10fig15">Figure 10-15</a> shows the result of these functions using the three specified fonts at five different sizes.</p>&#13;
<div class="image1" id="ch10fig15"><img src="Images/10fig15.jpg" alt="Image" width="526" height="565"/></div>&#13;
<p class="figcap"><em>Figure 10-15: Drawing text with <span class="literal">tkinter</span></em></p>&#13;
<h3 class="h3" id="ch10lev1sec11"><span epub:type="pagebreak" id="page_157"/>Displaying Images</h3>&#13;
<p class="noindent">To display an image on a canvas by using <span class="literal">tkinter</span>, first load the image and then use the <span class="literal">create_image</span> function on the canvas object. Any image you load must be in a folder (or directory) that’s accessible to Python.</p>&#13;
<p class="indent">The best place to put images is in your home folder. On Windows this is <em>c:</em><em>\</em><em>Users</em><em>\</em><em>&lt;your username&gt;</em>; on macOS, <em>/Users/&lt;your username&gt;</em>; and on Ubuntu or Raspberry Pi, <em>/home/&lt;your</em> <em>username&gt;</em>. <a href="ch10.xhtml#ch10fig16">Figure 10-16</a> shows a home folder on Windows.</p>&#13;
<div class="image1" id="ch10fig16"><img src="Images/10fig16.jpg" alt="Image" width="526" height="298"/></div>&#13;
<p class="figcap"><em>Figure 10-16: Home folder on Windows</em></p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>With <span class="literal">tkinter</span>, you can load only GIF images—image files with the extension</em> .gif. <em>You can display other types of images, such as PNG</em> (.png) <em>and JPG</em> (.jpg), <em>but you’ll need to use a different module such as Pillow, the Python Imaging Library (found at</em> <a href="https://python-pillow.org">https://python-pillow.org</a><em>). If you don’t have a GIF to use, try opening a photo and then saving it as a GIF. On Windows you can do this quite easily with the Paint app—but there are plenty of other ways to convert images to the GIF format.</em></p>&#13;
</div>&#13;
<p class="indent">We can display an image called <em>test.gif</em> as follows.</p>&#13;
<span epub:type="pagebreak" id="page_158"/>&#13;
<pre class="pre1"><span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
tk = Tk()&#13;
canvas = Canvas(tk, width=400, height=400)&#13;
canvas.pack()&#13;
my_image = PhotoImage(<span class="orange">file</span>=<span class="green">'c:\\Users\\jason\\test.gif'</span>)&#13;
canvas.create_image(0, 0, anchor=NW, image=my_image)&#13;
</pre>&#13;
<p class="indent">In the first four lines, we set up the canvas as with the previous examples. In the fifth line, the image is loaded into the <span class="literal">my_image</span> variable. We create <span class="literal">PhotoImage</span> with the filename <em>c:\\</em> <em>Users\\jason\\test.gif</em>. We need to use two backslashes (<em>\\</em>) in a Windows filename, because backslash is a special character in a Python string (used for something called an escape character—for example, <em>\t</em> is the escape character representing a tab, <em>\n</em> is the escape character representing a newline, which we used back in <a href="ch07.xhtml#ch07">Chapter 7</a>), and two backslashes are simply a way of saying, “I don’t want to use an escape character here—I want a single backslash.”</p>&#13;
<p class="indent">If you saved your image to the desktop, you should create the <span class="literal">PhotoImage</span> with that folder, like this:</p>&#13;
<pre class="pre1">my_image = PhotoImage(<span class="orange">file</span>=<span class="green">'C:\\Users\\JoeSmith\\Desktop\\test.gif'</span>)&#13;
</pre>&#13;
<p class="indent">Once the image has been loaded into the variable, <span class="literal">canvas</span> <span class="literal">.create_image(0, 0, anchor=NW, image=my_image)</span> displays it using the <span class="literal">create_image</span> function. The coordinates (<span class="literal">0, 0</span>) are where the image will be displayed, and <span class="literal">anchor=NW</span> (with NW standing for <em>northwest</em>) tells the function to use the top-left edge of the image as the starting point when drawing; otherwise, it will use the center of the image as the starting point by default. The final named parameter, <span class="literal">image</span>, points at the variable for the loaded image. Your screen should look similar to <a href="ch10.xhtml#ch10fig17">Figure 10-17</a>.</p>&#13;
<div class="image1" id="ch10fig17"><span epub:type="pagebreak" id="page_159"/><img src="Images/10fig17.jpg" alt="Image" width="526" height="564"/></div>&#13;
<p class="figcap"><em>Figure 10-17: Displaying an image</em></p>&#13;
<h3 class="h3" id="ch10lev1sec12">Creating Basic Animation</h3>&#13;
<p class="noindent">We’ve covered how to create static pictures that don’t move. Now, we’ll turn our attention to creating animation.</p>&#13;
<p class="indent">Animation is not necessarily a specialty of the <span class="literal">tkinter</span> module, but it can handle the basics. For example, we can create a filled triangle and then make it move across the screen by using this code:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> <span class="orange">import</span> time&#13;
<span class="brown">&gt;&gt;&gt;</span> <span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
<span class="brown">&gt;&gt;&gt;</span> tk = Tk()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas = Canvas(tk, width=400, height=200)&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.pack()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.create_polygon(10, 10, 10, 60, 50, 35)&#13;
<span class="brown">&gt;&gt;&gt;</span> <span class="orange">for</span> x <span class="orange">in</span> <span class="violet">range</span>(1, 61):&#13;
        canvas.move(1, 5, 0)&#13;
        tk.update()&#13;
        time.sleep(0.05)&#13;
</pre>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_160"/>When you run this code, the triangle will start moving across the screen to the end of its path, as in <a href="ch10.xhtml#ch10fig18">Figure 10-18</a>.</p>&#13;
<div class="image1" id="ch10fig18"><img src="Images/10fig18.jpg" alt="Image" width="526" height="306"/></div>&#13;
<p class="figcap"><em>Figure 10-18: Moving triangle</em></p>&#13;
<p class="indent">As before, we’ve used the first three lines after importing <span class="literal">tkinter</span> to do the basic setup to display a canvas. We create the triangle with the call to the <span class="literal">canvas.create_polygon(10, 10, 10, 60, 50, 35)</span> function.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>When you enter this line, a number will be printed to the screen. This is an identifier for the polygon. We can use it to refer to the shape later, as described in the following example.</em></p>&#13;
</div>&#13;
<p class="indent">Next, we create a simple <span class="literal">for</span> loop to count from 1 to 61, beginning with <span class="literal">for x</span> <span class="literal">in range(1, 61)</span>.</p>&#13;
<p class="indent">The block of code inside the loop moves the triangle across the screen. The <span class="literal">canvas.move</span> function will move any drawn object by adding values to its <span class="literal">x</span> and <span class="literal">y</span> coordinates. For example, with <span class="literal">canvas.move(1, 5, 0)</span>, we move the object with ID 1 (the identifier for the triangle—see the preceding Note) 5 pixels across and 0 pixels down. To move it back again, we could use the function call <span class="literal">canvas.move(1, -5,</span> <span class="literal">0)</span>.</p>&#13;
<div class="image1"><img src="Images/f0160-01.jpg" alt="Image" width="255" height="242"/></div>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_161"/>The <span class="literal">tk.update()</span> function forces <span class="literal">tkinter</span> to update the screen (redraw it). If we didn’t use <span class="literal">update</span>, <span class="literal">tkinter</span> would wait until the loop finished before moving the triangle, which means you would see it jump to the last position, rather than move smoothly across the canvas. The final line of the loop, <span class="literal">time.sleep(0.05)</span>, tells Python to sleep for one-twentieth of a second (0.05 seconds) before continuing.</p>&#13;
<p class="indent">To make the triangle move diagonally down the screen, we can modify this code by calling <span class="literal">move(1, 5, 5)</span>. Close the canvas and create a new file (<strong>File ▸ New File</strong>) for the following code:</p>&#13;
<pre class="pre1"><span class="orange">import</span> time&#13;
<span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
tk = Tk()&#13;
canvas = Canvas(tk, width=400, height=400)&#13;
canvas.pack()&#13;
canvas.create_polygon(10, 10, 10, 60, 50, 35)&#13;
<span class="orange">for</span> x <span class="orange">in</span> <span class="violet">range</span>(0, 60):&#13;
    canvas.move(1, 5, 5)&#13;
    tk.update()&#13;
    time.sleep(0.05)&#13;
</pre>&#13;
<p class="indent">This code differs from the original in two ways:</p>&#13;
<ul>&#13;
<li class="noindent">We made the height of the canvas 400, rather than 200, with <span class="literal">canvas = Canvas(tk, width=400, height=400)</span>.</li>&#13;
<li class="noindent">We added 5 to the triangle’s <em>x</em> and <em>y</em> coordinates with <span class="literal">canvas.move(1, 5, 5)</span>.</li>&#13;
</ul>&#13;
<p class="indent"><a href="ch10.xhtml#ch10fig19">Figure 10-19</a> shows the triangle’s position at the end of the loop, after you save your code and run it.</p>&#13;
<div class="image1" id="ch10fig19"><span epub:type="pagebreak" id="page_162"/><img src="Images/10fig19.jpg" alt="Image" width="526" height="564"/></div>&#13;
<p class="figcap"><em>Figure 10-19: The triangle moved to the bottom of the screen.</em></p>&#13;
<p class="indent">To move the triangle diagonally back up the screen to its starting position, use (-5, -5). Add this code to the bottom of the file:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> <span class="orange">for</span> x <span class="orange">in</span> <span class="violet">range</span>(0, 60):&#13;
        canvas.move(1, -5, -5)&#13;
        tk.update()&#13;
        time.sleep(0.05)&#13;
</pre>&#13;
<p class="indent">After you run this code, the triangle will move back to where it started.</p>&#13;
<h3 class="h3" id="ch10lev1sec13">Making an Object React to Something</h3>&#13;
<p class="noindent">We can make the triangle react when someone presses a key by using <em>event bindings</em>. <em>Events</em> are things that occur while a program is running, such as someone moving the mouse, pressing a key, or closing a window. You can tell <span class="literal">tkinter</span> to watch for these events and then do something in response.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_163"/>To begin <em>handling</em> events (making Python do something when an event occurs), we first create a function. The binding part comes when we tell <span class="literal">tkinter</span> that a particular function is bound (or associated) to a specific event. In other words, it will be automatically called by <span class="literal">tkinter</span> to handle that event.</p>&#13;
<p class="indent">For example, to make the triangle move when we press ENTER, we can define this function:</p>&#13;
<pre class="pre1"><span class="orange">def</span> movetriangle(event):&#13;
    canvas.move(1, 5, 0)&#13;
</pre>&#13;
<p class="indent">The function takes a single parameter (<span class="literal">event</span>), which <span class="literal">tkinter</span> uses to send information to the function about the event. We tell <span class="literal">tkinter</span> that this function should be used for a particular event by using the <span class="literal">bind_all</span> function on the canvas. The full code now looks like this—let’s type it into a new file in IDLE and save it as <em>movingtriangle.py</em> before we run it:</p>&#13;
<pre class="pre1"><span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
tk = Tk()&#13;
canvas = Canvas(tk, width=400, height=400)&#13;
canvas.pack()&#13;
canvas.create_polygon(10, 10, 10, 60, 50, 35)&#13;
<span class="orange">def</span> movetriangle(event):&#13;
    canvas.move(1, 5, 0)&#13;
canvas.bind_all(<span class="green">'&lt;KeyPress-Return&gt;'</span>, movetriangle)&#13;
</pre>&#13;
<p class="indent">The first parameter in this function describes the event that we want <span class="literal">tkinter</span> to watch for. In this case, it’s called <span class="literal">&lt;KeyPress-Return&gt;</span>, which is a press of the ENTER or RETURN key. We tell <span class="literal">tkinter</span> that the <span class="literal">movetriangle</span> function should be called whenever this <span class="literal">KeyPress</span> event occurs. Run this code, click the canvas with your mouse, and then try pressing ENTER on your keyboard.</p>&#13;
<div class="image1"><img src="Images/f0163-01.jpg" alt="Image" width="301" height="203"/></div>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_164"/>Let’s try changing the direction of the triangle depending on different key presses, such as the arrow keys. We first need to change the <span class="literal">movetriangle</span> function to the following:</p>&#13;
<pre class="pre1"><span class="orange">def</span> movetriangle(event):&#13;
    <span class="orange">if</span> event.keysym == <span class="green">'Up'</span>:&#13;
        canvas.move(1, 0, -3)&#13;
    <span class="orange">elif</span> event.keysym == <span class="green">'Down'</span>:&#13;
        canvas.move(1, 0, 3)&#13;
    <span class="orange">elif</span> event.keysym == <span class="green">'Left'</span>:&#13;
        canvas.move(1, -3, 0)&#13;
    <span class="orange">else</span>:&#13;
        canvas.move(1, 3, 0)&#13;
</pre>&#13;
<p class="indent">The event object passed to <span class="literal">movetriangle</span> contains several variables. One of these variables, <span class="literal">keysym</span> (for <em>key symbol</em>), is a string that holds the value of the actual key pressed. The line <span class="literal">if event</span> <span class="literal">.keysym == ’Up’</span> says that if the <span class="literal">keysym</span> variable contains the string <span class="literal">’Up’</span>, we should call <span class="literal">canvas.move</span> with the parameters (1, 0, –3), as we do in the following line. If <span class="literal">keysym</span> contains <span class="literal">’Down’</span>, as in <span class="literal">elif event.keysym == ’Down’</span>, we call it with the parameters (1, 0, 3), and so on.</p>&#13;
<p class="indent">Remember: The first parameter is the identifying number for the shape drawn on the canvas, the second is the value to add to the <em>x</em> (horizontal) coordinate, and the third is the value to add to the <em>y</em> (vertical) coordinate.</p>&#13;
<p class="indent">We then tell <span class="literal">tkinter</span> that the <span class="literal">movetriangle</span> function will be used to handle events from four different keys (up, down, left, and right). The following shows how the <em>movingtriangle.py</em> code should look now:</p>&#13;
<pre class="pre1"><span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
tk = Tk()&#13;
canvas = Canvas(tk, width=400, height=400)&#13;
canvas.pack()&#13;
canvas.create_polygon(10, 10, 10, 60, 50, 35)&#13;
<span class="orange">def</span> movetriangle(event):&#13;
 <span class="ent">➊</span> <span class="orange">if</span> event.keysym == <span class="green">'Up'</span>:&#13;
     <span class="ent">➋</span> canvas.move(1, 0, -3)&#13;
 <span class="ent">➌</span> <span class="orange">elif</span> event.keysym == <span class="green">'Down'</span>:&#13;
     <span class="ent">➍</span> canvas.move(1, 0, 3)&#13;
    <span class="orange">elif</span> event.keysym == <span class="green">'Left'</span>:&#13;
<span epub:type="pagebreak" id="page_165"/>        canvas.move(1, -3, 0)&#13;
 <span class="ent">➎</span> <span class="orange">else</span>:&#13;
     <span class="ent">➏</span> canvas.move(1, 3, 0)&#13;
canvas.bind_all(<span class="green">'&lt;KeyPress-Up&gt;'</span>, movetriangle)&#13;
canvas.bind_all(<span class="green">'&lt;KeyPress-Down&gt;'</span>, movetriangle)&#13;
canvas.bind_all(<span class="green">'&lt;KeyPress-Left&gt;'</span>, movetriangle)&#13;
canvas.bind_all(<span class="green">'&lt;KeyPress-Right&gt;'</span>, movetriangle)&#13;
</pre>&#13;
<p class="indent">On the first line of the <span class="literal">movetriangle</span> function, we check whether the <span class="literal">keysym</span> variable contains <span class="literal">’Up’</span> <span class="ent">➊</span>. If it does, we move the triangle upward using the <span class="literal">move</span> function with the parameters <span class="literal">1</span>, <span class="literal">0</span>, <span class="literal">{3</span> <span class="ent">➋</span>. The first parameter is the identifier of the triangle, the second is the amount to move to the right (we don’t want to move horizontally, so the value is 0), and the third is the amount to move downward (–3 pixels).</p>&#13;
<p class="indent">We then check whether <span class="literal">keysym</span> contains <span class="literal">’Down’</span> <span class="ent">➌</span>; if so, we move the triangle down (3 pixels) <span class="ent">➍</span>. The final check is whether the value is <span class="literal">’Left’</span>; if so, we move the triangle left (–3 pixels). If none of the values are matched, the final <span class="literal">else</span> <span class="ent">➎</span> moves the triangle right <span class="ent">➏</span>.</p>&#13;
<p class="indent">Now the triangle should move in the direction of the pressed arrow key.</p>&#13;
<h3 class="h3" id="ch10lev1sec14">More Ways to Use the Identifier</h3>&#13;
<p class="noindent">Whenever we use a <span class="literal">create_function</span> from the canvas, such as <span class="literal">create_polygon</span> or <span class="literal">create_rectangle</span>, an identifier is returned. This identifying number can be used with other canvas functions, as we did earlier with the <span class="literal">move</span> function:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> <span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
<span class="brown">&gt;&gt;&gt;</span> tk = Tk()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas = Canvas(tk, width=400, height=400)&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.pack()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.create_polygon(10, 10, 10, 60, 50, 35)&#13;
<span class="blue">1</span>&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.move(1, 5, 0)&#13;
</pre>&#13;
<p class="indent">The problem with this example is that <span class="literal">create_polygon</span> won’t always return 1. For example, if you’ve created other shapes, it might return 2, 3, or even 100 (depending on the number of shapes you’ve created). If we change the code to store the <span epub:type="pagebreak" id="page_166"/>value returned as a variable, and then use the variable (rather than just referring to the number 1), the code will work no matter what number is returned.</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> mytriangle = canvas.create_polygon(10, 10, 10, 60, 50, 35)&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.move(mytriangle, 10, 0)&#13;
</pre>&#13;
<p class="indent">The <span class="literal">move</span> function allows us to move objects around the screen by using their identifier. But other canvas functions can also change something we’ve drawn. For example, the <span class="literal">itemconfig</span> function can change some parameters of a shape, such as its fill and outline colors.</p>&#13;
<p class="indent">Say we create a red triangle:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> <span class="orange">from</span> tkinter <span class="orange">import</span> *&#13;
<span class="brown">&gt;&gt;&gt;</span> tk = Tk()&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas = Canvas(tk, width=400, height=400)&#13;
<span class="brown">&gt;&gt;&gt;</span> canvas.pack()&#13;
<span class="brown">&gt;&gt;&gt;</span> mytriangle = canvas.create_polygon(10, 10, 10, 60, 50, 35,&#13;
    fill=<span class="green">'red'</span>)&#13;
</pre>&#13;
<p class="indent">We can change the triangle to another color with <span class="literal">itemconfig</span> and use the identifier as the first parameter. The following code says, “Change the fill color of the object identified by the number in variable <span class="literal">mytriangle</span> to blue”:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> canvas.itemconfig(mytriangle, fill=<span class="green">'blue'</span>)&#13;
</pre>&#13;
<p class="indent">We could also give the triangle a different-colored outline, again using the identifier as the first parameter:</p>&#13;
<pre class="pre1"><span class="brown">&gt;&gt;&gt;</span> canvas.itemconfig(mytriangle, outline=<span class="green">'red'</span>)&#13;
</pre>&#13;
<p class="indent">Later, we’ll learn how to make other changes to a drawing, like hiding it and making it visible again. You’ll find the ability to change your drawings useful when we start writing games in the next chapter.</p>&#13;
<div class="image1"><img src="Images/f0166-01.jpg" alt="Image" width="151" height="148"/></div>&#13;
<h3 class="h3" id="ch10lev1sec15"><span epub:type="pagebreak" id="page_167"/>What You Learned</h3>&#13;
<p class="noindent">In this chapter, you used the <span class="literal">tkinter</span> module to draw simple geometric shapes on a canvas, display images, and perform basic animation. You learned how event bindings can make drawings react to someone pressing a key, which will be helpful once we start programming a game. You learned how <span class="literal">tkinter</span>’s <span class="literal">create</span> functions return an identifying number, which can be used to modify shapes after they’ve been drawn, such as to move them around on the screen or change their color.</p>&#13;
<h3 class="h3" id="ch10lev1sec16">Programming Puzzles</h3>&#13;
<p class="noindent">Try the following to further explore the <span class="literal">tkinter</span> module and basic animation. Visit <em><a href="http://python-for-kids.com">http://python-for-kids.com</a></em> to download the solutions.</p>&#13;
<h4 class="h4" id="ch10lev2sec1">#1: Fill the Screen with Triangles</h4>&#13;
<p class="noindent">Create a program using <span class="literal">tkinter</span> to fill the screen with triangles. Then change the code to fill the screen with different-colored (filled) triangles instead.</p>&#13;
<h4 class="h4" id="ch10lev2sec2">#2: The Moving Triangle</h4>&#13;
<p class="noindent">Modify the code for the moving triangle (“Creating Basic Animation” on <a href="ch10.xhtml#ch10lev1sec12">page 159</a>) to make it move across the screen to the right, then down, then back to the left, and then back to its starting position.</p>&#13;
<h4 class="h4" id="ch10lev2sec3">#3: The Moving Photo</h4>&#13;
<p class="noindent">Try displaying a photo of yourself on the canvas. Make sure it’s a GIF image! Can you make it move across the screen?</p>&#13;
<h4 class="h4" id="ch10lev2sec4">#4: Fill the Screen with Photos</h4>&#13;
<p class="noindent">Take the photo you used in the previous puzzle, and shrink it down small.</p>&#13;
<p class="indent">On macOS, you can use Preview to resize an image (choose <strong>Tools ▸ Adjust Size</strong>, and enter a new width and height. Then, click <strong>File ▸ Export</strong> to save with a new filename).</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_168"/>On Windows, you can use Paint (click the <strong>Resize</strong> button, choose a horizontal and vertical size, then <strong>File ▸ Save As</strong> to save with a new filename).</p>&#13;
<p class="indent">In Ubuntu and Raspberry Pi, you’ll need a program called GIMP (jump ahead to <a href="ch13.xhtml#ch13fig02">page 203</a> in <a href="ch13.xhtml#ch13">Chapter 13</a> if you don’t have this installed)—select <strong>Image</strong> ▸ <strong>Scale Image</strong> in GIMP, and then <strong>File ▸ Export As</strong> to save it with a new filename.</p>&#13;
<p class="indent">Import the <span class="literal">time</span> module and then use the <span class="literal">sleep</span> function (try with <span class="literal">time.sleep(0.5)</span>) to make the photos appear more slowly.</p>&#13;
</div></body></html>