<html><head></head><body>
		<section>
			<header>
				<h1 class="chapter"><span class="ChapterNumber"><span epub:type="pagebreak" id="Page_175" title="175"/>9</span><br/><span class="ChapterTitle">Functions and Periodic Motion </span></h1>
			</header>
			<figure class="opener">
				<img alt="" src="image_fi/book_art/chapterart.png"/>
			</figure>
			<p class="ChapterIntro">As your programs grow more complex, your line counts will increase, and you’ll begin repeating the same or similar code. By using <em>functions</em>, you can divide your programs into named blocks of reusable code. This makes your code more modular, allowing you to reuse lines without needing to rewrite them.</p>
			<p>
				You’ve already used many Processing functions, like <code>size()</code>, <code>print()</code>, and <code>rect()</code>, and in this chapter, you’ll learn how to define your own functions. As an example, Processing has no function for drawing diamonds, but you can create one. You decide what to name this function and what arguments it will accept. Perhaps your <code>diamond()</code> function accepts an x, y, width, height, and optional rotation argument.</p>
			<p>
				You’ll also create functions for generating elliptical and wave-type motion, which will involve delving into some trigonometry. You’ll incorporate the mathematical functions sine and cosine by using Processing’s built-in functions for performing these calculations. If the mention of <span epub:type="pagebreak" id="Page_176" title="176"/>trigonometry triggers disturbing flashbacks from math class, take a deep breath and relax. This will be a practical and visual reintroduction to these concepts, with Processing crunching all the numbers for you.</p>
			<h2 id="h1-500969c09-0001">Defining Functions</h2>
			<p class="BodyFirst">Sensibly named functions make your code easier to understand and work with. A 1,000-line program can be tricky to comprehend, especially for somebody who didn’t write it.</p>
			<p>
				Imagine programming a music player. You might create a function named <code>play()</code> that executes 20 or so lines of code necessary to load and play an MP3 file. When you need to play a track, you simply call your <code>play()</code> function by using a file argument, like <code>play('track_1.mp3')</code>. You don’t need to concern yourself with the details of how the <code>play()</code> function operates after you’ve defined it, and neither does anybody else working with your code. Additionally, you could define functions for <code>stop()</code>, <code>pause()</code>, <code>skipBack()</code>, and <code>skipForward()</code>.</p>
			<p>
				In this section, you’ll learn to define functions with the <code>def</code> keyword and then how to handle arguments. You might call these <em>user-defined functions</em> to distinguish them from those that come built-in with Python and Processing.</p>
			<h3 id="h2-500969c09-0001">Creating a Simple Speech Bubble Function</h3>
			<p class="BodyFirst">Let’s begin with a simple function that takes no arguments and draws speech bubbles, like the ones you find in comic strips, in the console. You’ve already used functions that work without arguments, like Processing’s <code>noFill()</code> that relies on just a function name and parentheses. Conversely, a function like <code>fill()</code> requires at least one argument, such as a hexadecimal color value.</p>
			<p>Your speech bubble function will form an outline, using plaintext characters, that surrounds a caption. Once you have this working, you’ll move on to defining a more dynamic function that accepts a range of arguments to draw speech bubbles in the display window.</p>
			<p>
				Create a new sketch and save it as <em>speech_bubbles</em>. Add the following code that prints a question in the console, followed by the answer in a speech bubble five seconds later:</p>
			<pre><code>wait = 5000<span aria-label="annotation1" class="CodeAnnotationHang">1</span> <span class="ProcessingBlue">print</span>(<span class="ProcessingPurple">'1. What do you get if you multiply six by seven?'</span>)<span aria-label="annotation2" class="CodeAnnotationHang">2</span> <span class="ProcessingBlue">delay</span>(wait)<span class="ProcessingBlue">print</span>(<span class="ProcessingPurple">' ------------------- '</span>)<span class="ProcessingBlue">print</span>(<span class="ProcessingPurple">'| The answer is 42! |'</span>)<span class="ProcessingBlue">print</span>(<span class="ProcessingPurple">'| ------------------ '</span>)<span class="ProcessingBlue">print</span>(<span class="ProcessingPurple">'|/'</span>)</code></pre>
			<p><span epub:type="pagebreak" id="Page_177" title="177"/>When you run the sketch, you should see the question appear in your console immediately <span aria-label="annotation1" class="CodeAnnotation">1</span>. The Processing <code>delay()</code> function halts the program for 5,000 milliseconds (five seconds) <span aria-label="annotation2" class="CodeAnnotation">2</span>, then reveals the answer in a speech bubble using the four print lines that follow it. Run the sketch to confirm this:</p>
			<pre><code>1. What do you get if you multiply six by seven? ------------------- 
| The answer is 42! |
| ------------------ 
|/</code></pre>
			<p>This might not look like the most convincing speech bubble, but it’ll do for now.</p>
			<p>Make the following changes to your code to define a function for printing the answer:</p>
			<pre><code><span class="LiteralGray">wait = 5000</span><span class="ProcessingTealGreen">def</span> printAnswer():<span class="LiteralGray">    print(' ------------------- ')</span><span class="LiteralGray">    print('| The answer is 42! |')</span><span class="LiteralGray">    print('| ------------------ ')</span><span class="LiteralGray">    print('|/')</span><span class="LiteralGray">print('What do you get if you multiply six by seven?')</span><span class="LiteralGray">delay(wait)</span>
printAnswer()</code></pre>
			<p>
				The <code>def</code> keyword defines a new function. You can name this function whatever you like, but make the name descriptive. Like variable names, function names should contain only alphanumeric and underscore characters, and they must start with a letter or an underscore; in this case, I’ve chosen <code>printAnswer</code>. Always include the parentheses and a colon at the end of the <code>def</code> line. The four <code>print()</code> lines are in the <em>body</em> of the function definition, which is the indented section of code beneath the <code>def</code> line. The function won’t execute the print lines until you <em>call</em> it. On the last line, where the program must reveal the answer, is the <code>printAnswer()</code> function call.</p>
			<aside epub:type="sidebar">
				<div class="top hr">
					<hr/>
				</div>
				<section class="note">
					<h2><span class="NoteHead">NOTE</span></h2>
					<p>
							Python will process your code line by line, beginning at the top of the file. If it attempts to execute a function call before it has processed the corresponding definition, the program will fail. In other words, you cannot call <var>printAnswer()</var> on the first line of your sketch, because Python would not yet have encountered the <code>def printAnswer()</code> line.</p>
					<div class="bottom hr">
						<hr/>
					</div>
				</section>
			</aside>
			<p>When you run the sketch, the program should work as before, printing the question followed by the answer in a speech bubble five seconds later.</p>
			<aside epub:type="sidebar">
				<div class="top hr">
					<hr/>
				</div>
				<section class="box">
					<h2><span epub:type="pagebreak" id="Page_178" title="178"/>Style Guides</h2>
					<p class="BoxBodyFirst">A <em>style guide</em> is a document that contains rules for writing code. This typically includes guidelines on how to indent code, where to use blank lines, what comments should look like, and how to name variables and functions.</p>
					<p>If a team of programmers adheres to an agreed-upon style guide, their collaborative project code should turn out looking clean, consistent, and well formatted—as if one person wrote it. This kind of code is easier to modify and maintain, in part, because it’s more readable. When you’re adding features to an existing program, you’ll often spend more time reading and comprehending code than writing it.</p>
					<p>
						Some teams devise their own style guides, while others make use of or expand upon an existing guide. <em>PEP 8</em> is considered the de facto style guide for Python; you can access it at <a class="LinkURL" href="https://www.python.org/dev/peps/pep-0008/">https://www.python.org/dev/peps/pep-0008/</a>. The document covers many aspects of the Python language you’ve yet to encounter, and it’s an excellent resource for any Python programmer.</p>
					<div class="bottom hr">
						<hr/>
					</div>
				</section>
			</aside>
			<p>
				The PEP 8 style guide recommends that “function names should be lowercase, with words separated by underscores as necessary to improve readability.” In other words, the <code>printAnswer()</code> function instead should be named <code>print_answer()</code>. However, when an existing style is established, internal consistency is usually preferred.</p>
			<p>
				I’ve opted for a camelCase function name to match the convention used for Processing’s built-in functions, like <code>noFill()</code> or <code>pushMatrix()</code>. As noted in <span class="xref">Chapter 1</span>, camelCase combines multiple words into one and uses a capital letter to start the second and subsequent words. The style is also referred to as <em>mixedCase</em>, or sometimes <em>lowerCamelCase</em> (to contrast it with <em>UpperCamelCase</em>).</p>
			<p>Add a second question to the end of your sketch:</p>
			<pre><code><span class="LiteralGray">. . .</span><span class="ProcessingBlue">delay</span>(wait/2)<span class="ProcessingBlue">print</span>(<span class="ProcessingPurple">'2. How many US gallons are there in a barrel of oil?'</span>)<span class="ProcessingBlue">delay</span>(wait)
printAnswer()</code></pre>
			<p>
				After displaying the answer to question 1, the program waits two and a half seconds and prints question 2. The answer to question 2 is revealed five seconds after this. Once again, the answer is 42, but there’s no need to retype the four lines of code for displaying the speech bubble. Instead, you can call the <code>printAnswer()</code> function a second time.</p>
			<p>
				You can add as many questions as you like. If the answer to each question is 42, you can call the <code>printAnswer()</code> function to display the answer. If you want to restyle <em>all</em> of your speech bubbles—for example, using different characters for the outline—edit the body of the <code>printAnswer()</code> definition. You need to change the code in only one place to affect every speech bubble.</p>
			<p><span epub:type="pagebreak" id="Page_179" title="179"/>For each answer, you have a neat, one-line function call with a name that indicates what it does. Other programmers won’t need to understand the inner workings of the <code>printAnswer()</code> function to use it, but if necessary, they can read through the definition code to find out how it works.</p>
			<p>
				Before proceeding to the next section, set the <code>wait</code> value (at the top of your code) to <code class="bold">0</code>:</p>
			<pre><code><span class="LiteralGray">wait = </span><b>0</b><span class="LiteralGray">. . .</span></code></pre>
			<p>
				This change cancels the effects of the <code>delay()</code> functions, because a delay time of zero means there is no delay. As a result, your sketch doesn’t pause, and the next section of code you add can run immediately.</p>
			<p>
				The <code>printAnswer()</code> function is limited to drawing speech bubbles in the console, and it always prints the same answer of 42, so next, you’ll define a function that can accept arguments.</p>
			<h3 id="h2-500969c09-0002">Drawing Compound Shapes Using a Function</h3>
			<p class="BodyFirst">To define a function that draws speech bubbles with shapes and text in the display window, continue working in your <em>speech_bubbles</em> sketch. First, you’ll need an image over which to place your speech bubbles.</p>
			<p>
				I’ve chosen Jan van Eyck’s <em>Arnolfini Portrait </em>for this example because the painting has three speech bubble candidates: a man, a woman, and a dog. It’s also public domain. <a href="#figure9-1" id="figureanchor9-1">Figure 9-1</a> presents the original painting on the left, and the result you’re working toward on the right.</p>
			<figure>
				<img alt="f09001" src="image_fi/500969c09/f09001.png"/>
				<figcaption>
					<p><a id="figure9-1">Figure 9-1</a>: The original <em>Arnolfini Portrait</em>, 1434 (left); a version with speech bubbles (right)</p>
				</figcaption>
			</figure>
			<p><span epub:type="pagebreak" id="Page_180" title="180"/>You can download the <em>Arnolfini Portrait</em> image from Wikipedia (<a class="LinkURL" href="https://en.wikipedia.org/wiki/File:Van_Eyck_-_Arnolfini_Portrait.jpg">https://en.wikipedia.org/wiki/File:Van_Eyck_-_Arnolfini_Portrait.jpg</a>); the 561 × 768 pixel resolution will suffice. If you want to use a different image, that’s fine too; just choose one with at least three subjects.</p>
			<p>
				Create a new <em>data </em>subfolder and add your image to this; then add the following code to load and display it:</p>
			<pre><code><span class="LiteralGray">. . .</span><span class="ProcessingBlue">size</span>(561, 768)
art = <span class="ProcessingBlue">loadImage</span>(<span class="ProcessingPurple">'561px-Van_Eyck_-_Arnolfini_Portrait.jpg'</span>)<span class="ProcessingBlue">image</span>(art, 0, 0, <span class="ProcessingRaspberry">width</span>, <span class="ProcessingRaspberry">height</span>)</code></pre>
			<p>
				If you’re not using the <em>Arnolfini Portrait</em>, adjust the <code>size()</code> and <code>loadImage()</code> arguments accordingly.</p>
			<p>Run the sketch to confirm that the image spans your display window.</p>
			<p>Define and then call a new speech bubble function by adding this code to the end of your sketch:</p>
			<pre><code><span class="LiteralGray">. . .</span><span class="ProcessingTealGreen">def</span> speechBubble(): x = 190 y = 150 txt = <span class="ProcessingPurple">'Check out my hat!'</span> <span class="ProcessingBlue">noStroke</span>()<span class="ProcessingBlue">    pushMatrix</span>() <span class="ProcessingBlue">translate</span>(x, y) <span class="ProcessingGray"># tail</span> <span class="ProcessingBlue">fill</span>(<span class="ProcessingPurple">'#FFFFFF'</span>) <span class="ProcessingBlue">beginShape</span>() <span class="ProcessingBlue">vertex</span>(0, 0) <span class="ProcessingGray"># tip</span> <span class="ProcessingBlue">vertex</span>(15, -40) <span class="ProcessingBlue">vertex</span>(35, -40) <span class="ProcessingBlue">endShape</span>(<span class="ProcessingKhaki">CLOSE</span>) <span class="ProcessingGray"># bubble</span> <span class="ProcessingBlue">textSize</span>(15) by = -85 bw = <span class="ProcessingBlue">textWidth</span>(txt) pad = 20 <span class="ProcessingBlue">rect</span>(0, by, bw+pad*2, 45, 10) <span class="ProcessingBlue">fill</span>(<span class="ProcessingPurple">'#000000'</span>) <span class="ProcessingBlue">textAlign</span>(<span class="ProcessingKhaki">LEFT</span>, <span class="ProcessingKhaki">CENTER</span>) <span class="ProcessingBlue">text</span>(txt, pad, by+pad) <span class="ProcessingBlue">popMatrix</span>() 
speechBubble()</code></pre>
			<p>
				If you’re using a different image, adjust the <code>x</code>, <code>y</code>, and <code>txt</code> variables. The <code>x</code> and <code>y</code> variables control the position of the speech bubble—specifically, the x-y coordinate for the tip of the “tail” that’s attached to the bubble. Before <span epub:type="pagebreak" id="Page_181" title="181"/>drawing anything, a <code>translate()</code> function repositions the drawing space so that the vertex coordinates for this tip are (0, 0); the other tail vertices and the bubble are positioned relative to this point.</p>
			<p>
				The <code>txt</code> variable defines the text that appears within the bubble. You can use any <code>txt</code> string you like, but keep it short. The speech bubbles will not accommodate multiline captions.</p>
			<p>
				The code beneath the <code>bubble</code> comment draws a rounded rectangular bubble above the tail. The <code>rect()</code> function includes a fifth argument (<code>10</code>) that controls the corner radius. The larger you make this value, the rounder the corners become. The result is a rounded rectangular speech bubble with a tail at its bottom left (<a href="#figure9-2" id="figureanchor9-2">Figure 9-2</a>).</p>
			<figure>
				<img alt="f09002" src="image_fi/500969c09/f09002.png"/>
				<figcaption>
					<p><a id="figure9-2">Figure 9-2</a>: The tip of the speech bubble tail has an x-y coordinate of (190, 150).</p>
				</figcaption>
			</figure>
			<p>
				You can call the <code>speechBubble()</code> function 100 times, but the visual result always appears the same because every speech bubble draws over the one before it, at the same size, with the same text, in the same position. But, if you modify the <code>x</code>, <code>y</code>, and <code>txt</code> variables each time you call the <code>speechBubble()</code> function, you can customize the x-coordinate, y-coordinate, and caption. You can accomplish this by adding parameters to your function definition that allow you to pass values to the function using different arguments in your function call.</p>
			<h3 id="h2-500969c09-0003">Adding Arguments and Parameters</h3>
			<p class="BodyFirst">Now you’ll edit your <code>speechBubble()</code> definition so that the function can accept three arguments, allowing you to pass your coordinate and caption values to the function to manipulate the appearance of each speech bubble you draw. Arguments are assigned to corresponding <em>parameters</em>, but more on those shortly.</p>
			<p>
				Currently, three variables control the speech bubble’s appearance: <code>x</code>, <code>y</code>, and <code>txt</code>. To control those variable values via arguments, adapt your function definition as follows:</p>
			<pre><code><span class="LiteralGray">. . .</span><span aria-label="annotation1" class="CodeAnnotationHang">1</span> <span class="LiteralGray">def speechBubble(</span><b>x, y, txt</b><span class="LiteralGray">):</span> <b>#</b><span class="LiteralGray">x = 190</span><span epub:type="pagebreak" id="Page_182" title="182"/> <b>#</b><span class="LiteralGray">y = 150</span> <b>#</b><span class="LiteralGray">txt = 'Check out my hat!'</span><span class="LiteralGray">    . . .</span><span aria-label="annotation2" class="CodeAnnotationHang">2</span> <span class="LiteralGray">speechBubble(</span><b>190, 150, 'Check out my hat!'</b><span class="LiteralGray">)</span></code></pre>
			<p>
				The definition parentheses now include three parameters: <code>x</code>, <code>y</code>, and <code>txt</code> <span aria-label="annotation1" class="CodeAnnotation">1</span>. A parameter is a placeholder for a value that’s provided by way of an argument. These parameters are made available within the local scope of the function; in other words, Python can access <code>x</code>, <code>y</code>, and <code>txt</code> only within the <code>speechBubble()</code> function block. You need to comment out (or delete) the old <code>x</code>, <code>y</code>, and <code>txt</code> lines to avoid overwriting the values that you pass in with the function call <span aria-label="annotation2" class="CodeAnnotation">2</span>.</p>
			<p>
				Because you have three parameters, you must provide three arguments when you call the <code>speechBubble()</code> function. The first argument of <code>190</code> is assigned to parameter <code>x</code>, the second argument of <code>150</code> is assigned to parameter <code>y</code>, and so on, in the same order the parameters appear in the <code>def</code> line. These are called <em>positional arguments</em> because the order of the arguments determines which values are assigned to each parameter (<a href="#figure9-3" id="figureanchor9-3">Figure 9-3</a>).</p>
			<figure>
				<img alt="f09003" src="image_fi/500969c09/f09003.png"/>
				<figcaption>
					<p><a id="figure9-3">Figure 9-3</a>: Positional arguments</p>
				</figcaption>
			</figure>
			<p>Run the sketch to confirm that the visual result is unchanged. Try testing different arguments to change the appearance of the speech bubble.</p>
			<aside epub:type="sidebar">
				<div class="top hr">
					<hr/>
				</div>
				<section class="note">
					<h2><span class="NoteHead">NOTE</span></h2>
					<p>
							It’s not unusual to hear the terms <em>argument</em> and <em>parameter</em> used interchangeably. If you happen to mix them up, you aren’t likely to confuse anybody.</p>
					<div class="bottom hr">
						<hr/>
					</div>
				</section>
			</aside>
			<p>
				Call a second <code>speechBubble()</code> function:</p>
			<pre><code><span class="LiteralGray">. . .</span>
speechBubble(315, 650, <span class="ProcessingPurple">'Woof'</span>)</code></pre>
			<p>
				The first and second (x and y) arguments position the speech bubble above the dog. The third argument specifies that the caption must read, “Woof” (<a href="#figure9-4" id="figureanchor9-4">Figure 9-4</a>).</p>
				<span epub:type="pagebreak" id="Page_183" title="183"/>
				<figure>
				<img alt="f09004" src="image_fi/500969c09/f09004.png"/>
				<figcaption>
					<p><a id="figure9-4">Figure 9-4</a>: A second speech bubble</p>
				</figcaption>
			</figure>
			<p>
				You now have a working <code>speechBubble()</code> function that accepts positional arguments. However, you can also call this function by using arguments in an arbitrary order if you use keyword arguments.</p>
			<h3 id="h2-500969c09-0004">Using Keyword Arguments</h3>
			<p class="BodyFirst">When you call a function, you can state explicitly which value belongs to which parameter by using <em>keyword arguments</em>. These arguments include both a keyword and value. Each keyword takes its name from a parameter in the function definition. Consider this example, where both lines produce the same result:</p>
			<pre><code>speechBubble(315, 650, <span class="ProcessingPurple">'Woof'</span>) <span class="ProcessingGray"># positional arguments</span>
speechBubble(txt=<span class="ProcessingPurple">'Woof'</span>, x=315, y=650) <span class="ProcessingGray"># keyword arguments</span></code></pre>
			<p>
				The first <code>speechBubble()</code> call employs a positional argument approach. The second call uses keyword arguments; notice that each value has a keyword in front of it. Python uses the keywords in your function call to match values and parameters (<a href="#figure9-5" id="figureanchor9-5">Figure 9-5</a>).</p>
			<figure>
				<img alt="f09005" src="image_fi/500969c09/f09005.png"/>
				<figcaption>
					<p><a id="figure9-5">Figure 9-5</a>: Keyword arguments</p>
				</figcaption>
			</figure>
			<p>This means you can order the arguments in your function call however you please. Just be sure to name your keywords exactly the same as the parameters in the function definition.</p>
			<h3 id="h2-500969c09-0005"><span epub:type="pagebreak" id="Page_184" title="184"/>Setting Default Values</h3>
			<p class="BodyFirst">When you define a function, you can specify a <em>default value</em> for each parameter, which is like a backup Python can use if you leave out an argument in your function call. This behavior is useful for defining optional arguments. For example, the <code>rect()</code> function can accept an optional fifth argument for the corner radius. If you call the <code>rect()</code> function with four arguments, you get a rectangle with 90-degree corners, which is what users seem to want more often than not. But, if you provide the fifth argument (of something other than zero), you get a rectangle with rounded corners.</p>
			<p>
				Use an equal sign to assign a default value to a parameter. For example, the following adds a default value of <code>'Hello'</code> to your <code>txt</code> parameter:</p>
			<pre><code><span class="LiteralGray">. . .</span><span class="LiteralGray">def speechBubble(x, y, txt</span><b>='Hello'</b>):<span class="LiteralGray">    . . .</span></code></pre>
			<p>
				The default <code>txt</code> parameter is a string, but you can use any data type you like, including numbers and lists.</p>
			<p>
				You can now call the <code>speechBubble()</code> function using two positional arguments, leaving <code>txt</code> (the third argument) to rely on its default value:</p>
			<pre><code><span class="LiteralGray">. . .</span>
speechBubble(445, 125)</code></pre>
			<p>
				The <code>445</code> and <code>125</code> are positional arguments for <code>x</code> and <code>y</code>. As there’s no third argument, <code>txt</code> defaults to <code>'Hello'</code>, as per the function definition. The result (<a href="#figure9-6" id="figureanchor9-6">Figure 9-6</a>) is a speech bubble positioned above the woman’s head that reads, “Hello.”</p>
			<figure>
				<img alt="f09006" src="image_fi/500969c09/f09006.png"/>
				<figcaption>
					<p><a id="figure9-6">Figure 9-6</a>: Drawing a speech bubble using the default <span class="LiteralInCaption"><code>txt</code></span> parameter, <span class="LiteralInCaption"><code>Hello</code></span></p>
				</figcaption>
			</figure>
			<p>
				To replace <em>Hello</em> with <em>Meh</em>, call the <code>speechBubble()</code> function using three arguments:</p>
			<pre><code><span class="LiteralGray">. . .</span><span class="LiteralGray">speechBubble(445, 125, </span><b>'Meh'</b>)</code></pre>
			<p><span epub:type="pagebreak" id="Page_185" title="185"/>Because you provided the positional argument for the <code>txt</code> parameter, the woman’s speech bubble will now read, “Meh.”</p>
			<p>
				The lady clearly isn’t overly impressed with her partner’s hat, so she might choose not to risk offending him. A <em>thought bubble</em> could be more appropriate (<a href="#figure9-7" id="figureanchor9-7">Figure 9-7</a>).</p>
			<figure>
				<img alt="f09007" src="image_fi/500969c09/f09007.png"/>
				<figcaption>
					<p><a id="figure9-7">Figure 9-7</a>: A speech bubble (left) and a thought bubble (right)</p>
				</figcaption>
			</figure>
			<p>
				To draw a thought bubble, modify the <code>speechBubble()</code> function to draw a chain of small circles instead of a triangular tail. However, you want the <code>speechBubble()</code> function to depict speech bubbles by default, as they are more common than thought bubbles.</p>
			<p>
				Add an additional <code>type</code> parameter to the function definition:</p>
			<pre><code><span class="LiteralGray">. . .</span><span class="LiteralGray">def speechBubble(x, y, txt='Hello'</span><b>, type='speech'</b><span class="LiteralGray">):</span><span class="LiteralGray">    . . .</span></code></pre>
			<p>Now you have two parameters with default values. Notice that these come after the parameters with no default values. If you’re defining any function with default values, place those parameters at the end of the list.</p>
			<p>
				The next step is to modify the function body, specifically the section beneath the <code>tail</code> comment. The <code>type</code> parameter must determine whether Processing should draw a triangular tail or a chain of circles. Modify the code as follows:</p>
			<pre><code><span class="LiteralGray">    . . .</span><span class="LiteralGray">    # tail</span> <span class="ProcessingOlive">if</span> type == <span class="ProcessingPurple">'speech'</span>: <span class="LiteralGray">fill('#FFFFFF')</span> <span class="LiteralGray">beginShape()</span> <span class="LiteralGray">vertex(0, 0)  # tip</span><span class="LiteralGray">        vertex(15, -40)</span><span class="LiteralGray">        vertex(35, -40)</span><span class="LiteralGray">        endShape(CLOSE)</span> <span class="ProcessingOlive">elif</span> type == <span class="ProcessingPurple">'thought'</span>: <span class="ProcessingBlue">fill</span>(<span class="ProcessingPurple">'#FFFFFF'</span>) <span class="ProcessingBlue">circle</span>(0, 0, 8)<span epub:type="pagebreak" id="Page_186" title="186"/> <span class="ProcessingBlue">circle</span>(10, -20, 20)<span class="LiteralGray">    . . .</span></code></pre>
			<p>
				The <code>if</code> statement code will draw a triangular tail if the <code>type</code> parameter is equal to <code>'speech'</code>, the default value assigned in the function definition. The <code>elif</code> statement will draw a chain of two circles whenever the function call includes a <code>type</code> argument of <code>'thought'</code>. Edit your function call to see this in action:</p>
			<pre><code><span class="LiteralGray">. . .</span><span class="LiteralGray">speechBubble(445, 125, 'Meh'</span><b>, 'thought'</b><span class="LiteralGray">)</span></code></pre>
			<p>
				The <code>thought</code> argument switches the <code>speechBubble()</code> function to “thought bubble mode.” If you omit this argument, the function defaults to drawing the speech bubble with the tail. Run the sketch to confirm that the result matches <a href="#figure9-7">Figure 9-7</a>.</p>
			<h3 id="h2-500969c09-0006">Mixing Positional and Keyword Arguments</h3>
			<p class="BodyFirst">You can use positional arguments for your <code>x</code> and <code>y</code> coordinates, leave out the <code>txt</code> argument, and include a keyword argument for <code>type</code>. This way, Python can utilize the default value for <code>txt</code> (<code>'Hello'</code>), but render it in a thought bubble. As an example, you might want to replace the dog’s speech bubble with a thought bubble that reads, “Hello.” One option is to include a third argument of <code>'Hello'</code> explicitly in the function call—a fully positional approach. For example:</p>
			<pre><code>speechBubble(315, 650, <span class="ProcessingPurple">'Hello'</span>, <span class="ProcessingPurple">'thought'</span>)</code></pre>
			<p>
				Each argument here corresponds to a parameter. This seems redundant, though, given that <code>'Hello'</code> is the default value for parameter 3. If you just omit the <code>'Hello'</code> argument in your function call, Processing will draw a <em>speech </em>bubble with the word <em>thought</em> in it:</p>
			<pre><code><span class="ProcessingGray"># a speech bubble that says, thought</span>
speechBubble(315, 640, <span class="ProcessingPurple">'thought'</span>)</code></pre>
			<p>
				Recall that the third positional argument is for the <code>txt</code> parameter and that leaving out the fourth argument means Python has to adopt the default value for the fourth <code>type</code> parameter (speech bubble mode). A simple solution to this problem exists, however; use a keyword argument instead of relying on a positional argument:</p>
			<pre><code>speechBubble(315, 650, <b>type=</b><span class="ProcessingPurple">'thought'</span>)</code></pre>
			<p>
				In this case, you’ve explicitly stated that the value <code>'thought'</code> belongs to the <code>type</code> parameter. You might notice that you can arrange the arguments in any order if you use keyword arguments for every value. This is true, so decide what combination of positional and keyword arguments works best in a particular situation.</p>
			<p><span epub:type="pagebreak" id="Page_187" title="187"/>If you’re missing one or many required arguments in a function call, Processing displays an error message (<a href="#figure9-8" id="figureanchor9-8">Figure 9-8</a>). For example, if you call the <code>speechBubble()</code> function with no arguments, the error message indicates that you require at least two.</p>
			<figure>
				<img alt="f09008" src="image_fi/500969c09/f09008.png"/>
				<figcaption>
					<p><a id="figure9-8">Figure 9-8</a>: An error message for missing arguments</p>
				</figcaption>
			</figure>
			<p>
				If you provide too many arguments, the error message indicates that <code>speechBubble()</code> takes at most four arguments.</p>
			<h3 id="h2-500969c09-0007">Returning Values</h3>
			<p class="BodyFirst">You can use a function to operate on data and then have it <em>return</em> the result to the main program. This is different from the functions you’ve created so far, which execute a predefined section of code before resuming the regular flow of the main program.</p>
			<p>To help explain this difference, here’s some code to contrast a function that returns a value with one that does not:</p>
			<pre><code>x = <span class="ProcessingBlue">random</span>(100)<span class="ProcessingBlue">square</span>(x, 40, 20)</code></pre>
			<p>
				Two Processing functions are in use here: <code>random()</code> and <code>square()</code>. The first one returns a value; the second does not. The <code>random()</code> function generates a floating-point value ranging from 0 up to but not including 100. The random function <em>returns</em> the value, which is assigned to a variable named <code>x</code>. The <code>square()</code> function draws a square in the display window; it does not return a value.</p>
			<p>
				To define your own function that returns a value, use the <code>return</code> keyword. As an example, create a new function named <code>shout()</code>. This function accepts a single string argument, and then converts this string to uppercase and adds three exclamation marks to the end. Enter the following code above your <code>speechBubble()</code> calls to ensure that the <code>shout()</code> definition precedes any <code>shout()</code> function call:</p>
			<pre><code><span class="LiteralGray">. . .</span><span class="ProcessingTealGreen">def</span> shout(txt): <span class="ProcessingOlive">return</span> txt.<span class="ProcessingBlue">upper</span>() + <span class="ProcessingPurple">'!!!'</span><span class="LiteralGray">. . .</span></code></pre>
			<p>
				In the <code>return</code> line, the <code>upper()</code> method converts the string assigned to <code>txt</code> to uppercase; the final result is a concatenation of this and three exclamation <span epub:type="pagebreak" id="Page_188" title="188"/>marks. Once Python processes the <code>return</code> statement, it exits the function immediately. In other words, if you add any further code to the <code>shout()</code> definition below the <code>return</code> line, Python ignores it.</p>
			<p>You could use this function to add emphasis to the text in any speech bubble. Here’s an example:</p>
			<pre><code>speechBubble(190, 150, shout(<span class="ProcessingPurple">'Check out my hat'</span>))</code></pre>
			<p>
				The <code>shout()</code> function converts the string to “CHECK OUT MY HAT!!!” before it’s passed to the <code>speechBubble()</code> function. This wraps the argument with <code>shout()</code> to avoid having to create an intermediate variable, which you would then pass to the <code>speechBubble()</code> function.</p>
			<p>
				This was a simple example to introduce how the <code>return</code> keyword works. Many functions that return values perform more complex tasks, like Processing’s <code>sqrt()</code> function that calculates the square root of any number.</p>
			<h2 id="h1-500969c09-0002">Defining Functions for Periodic Motion</h2>
			<p class="BodyFirst">In this section, you’ll learn how to simulate periodic motion in Processing by defining functions that employ trigonometry to draw circular patterns and waves. In physics, <em>periodic motion</em> is motion that repeats itself at regular intervals, such as a swinging pendulum, waves moving through water, or the moon orbiting the Earth. A <em>cycle</em> is one complete repetition of the motion. The <em>period</em> is the time it takes to complete a cycle. The period for the moon’s orbit of the Earth is roughly 27.3 days; the second hand of a clock has a period of 60 seconds.</p>
			<p><em>Trigonometry</em>, or <em>trig</em>, is a branch of mathematics that studies triangles and uses various mathematical functions, such as sine and cosine, to calculate angles and distances. It also has applications in many fields of programming. For instance, games that incorporate physics must continuously calculate the position and speed of objects in motion, and those calculations involve triangles.</p>
			<p>
				Trig is also useful for controlling steering and aiming behavior. For example, if you know the x-y coordinates of the player and enemy turret in <a href="#figure9-9" id="figureanchor9-9">Figure 9-9</a>, you can calculate how to rotate the enemy gun to aim it at the player.</p>
			<p>You’ll use right triangles to calculate points along the circumference of a circle, using sine and cosine functions. The coordinates for those points are what you use to simulate smooth, periodic motion.</p>
			<span epub:type="pagebreak" id="Page_189" title="189"/>
			<figure>
				<img alt="f09009" src="image_fi/500969c09/f09009.png"/>
				<figcaption>
					<p><a id="figure9-9">Figure 9-9</a>: If only the enemy turret had listened in math class.</p>
				</figcaption>
			</figure>
			<p>
				Create a new sketch and save it as <em>periodic_motion</em>. Add the following code to set up the drawing space:</p>
			<pre><code><span class="ProcessingTealGreen">def</span> <span class="ProcessingBlueBold">setup</span>(): <span class="ProcessingBlue">size</span>(800, 600)<span class="ProcessingTealGreen">def</span> <span class="ProcessingBlueBold">draw</span>(): <span class="ProcessingBlue">background</span>(<span class="ProcessingPurple">'#004477'</span>) <span class="ProcessingBlue">noFill</span>() <span class="ProcessingBlue">strokeWeight</span>(3) <span class="ProcessingBlue">stroke</span>(<span class="ProcessingPurple">'#0099FF'</span>) <span class="ProcessingBlue">line</span>(<span class="ProcessingRaspberry">width</span>/2, <span class="ProcessingRaspberry">height</span>, <span class="ProcessingRaspberry">width</span>/2, 0) <span class="ProcessingBlue">line</span>(0, <span class="ProcessingRaspberry">height</span>/2, <span class="ProcessingRaspberry">width</span>, <span class="ProcessingRaspberry">height</span>/2) <span class="ProcessingGray"># flip the y-axis</span> <span class="ProcessingBlue">scale</span>(1, -1) <span class="ProcessingBlue">translate</span>(0, -<span class="ProcessingRaspberry">height</span>) <span class="ProcessingGray"># reposition the origin</span> <span class="ProcessingBlue">translate</span>(<span class="ProcessingRaspberry">width</span>/2, <span class="ProcessingRaspberry">height</span>/2)</code></pre>
			<p>
				The preceding code structures an animated sketch by using <code>setup()</code> and <code>draw()</code> functions with two (pale blue) lines that intersect at the center of the display window. The y-axis is flipped, so y-coordinates decrease as you move downward; I’ll elaborate on why I did that soon. The final <code>translate()</code> function shifts the coordinate system so that the origin (0, 0) sits in the center of the display window. This means that the x-coordinate for the left edge of the display window is –400, and the x-coordinate for the right edge is 400. The y-coordinate for the top edge is 300; for the bottom edge, it’s –300 (<a href="#figure9-10" id="figureanchor9-10">Figure 9-10</a>). The modified coordinate space, with its flipped y-axis, now behaves like a regular <em>Cartesian plane</em>, with four quadrants that allow you to plot any x-y coordinates ranging between (–400, –300) and (400, 300).</p>
			<p>You’ve likely encountered this system in math classes before, which is why I’ve set up the coordinate space this way. You’ll use it as a platform to experiment with elliptical and wave motion, but first, you may require a brief refresher on trigonometric functions.</p>
			<span epub:type="pagebreak" id="Page_190" title="190"/>
			<figure>
				<img alt="f09010" src="image_fi/500969c09/f09010.png"/>
				<figcaption>
					<p><a id="figure9-10">Figure 9-10</a>: The Cartesian plane with four quadrants</p>
				</figcaption>
			</figure>
			<h3 id="h2-500969c09-0008">An Introduction to Trigonometric Functions</h3>
			<p class="BodyFirst"><em>Sine</em>, <em>cosine</em>, and <em>tangent</em> are three common <em>trigonometric functions</em>. These are mathematical (as opposed to programming) functions, but you can use them in Python thanks to Processing’s built-in trig functions. Sin, cos, and tan—as they are often abbreviated—are based on ratios obtained from a right triangle (<a href="#figure9-11" id="figureanchor9-11">Figure 9-11</a>). A <em>right triangle</em> (or <em>right-angled triangle</em>) has one angle that measures exactly 90 degrees, usually denoted by a small square. The <span class="CustomCharStyle">θ</span> symbol, <em>theta</em>, is commonly used to represent an unknown angle.</p>
			<figure>
				<img alt="f09011" src="image_fi/500969c09/f09011.png"/>
				<figcaption>
					<p><a id="figure9-11">Figure 9-11</a>: A right triangle</p>
				</figcaption>
			</figure>
			<p>
				You can calculate the size of theta if you know the lengths of any two sides of this triangle. Depending on the lengths you have, you’ll use either sin, cos, or tan for the calculation. <em>SOHCAHTOA</em>, pronounced phonetically as <em>so-ka-toe-uh</em>, is a handy mnemonic device to help you remember the following trigonometric ratios:</p>
			<ol class="none">
				<li><span class="RunInHead">SOH</span>  sin(<span class="CustomCharStyle">θ</span>) = opposite / hypotenuse</li>
				<li><span class="RunInHead">CAH</span>  cos(<span class="CustomCharStyle">θ</span>) = adjacent / hypotenuse</li>
				<li><span class="RunInHead">TOA</span>  tan(<span class="CustomCharStyle">θ</span>) = opposite / adjacent</li>
			</ol>
			<p><span epub:type="pagebreak" id="Page_191" title="191"/>As an example, if you know the length of the opposite and hypotenuse in <a href="#figure9-11">Figure 9-11</a>, you can find angle theta by using sin(<span class="CustomCharStyle">θ</span>). If you know the length of the adjacent and hypotenuse, use cos(<span class="CustomCharStyle">θ</span>). You can also rearrange these equations to find the length of an unknown side in cases when you know theta and one length. I’ll return to this point shortly.</p>
			<p>You’ll apply sin and cos to a simple example to determine an x-y coordinate along the perimeter of a circle. To begin, draw a circle with its center positioned at (0, 0) with a radius of 200. Add a line starting at (0, 0) that’s the same length as the circle radius and rotated 1 radian:</p>
			<pre><code><span class="LiteralGray">. . .</span>
radius = 200
theta = 1<span class="LiteralGray">def draw():</span> <span class="LiteralGray">. . .</span> <span class="ProcessingBlue">circle</span>(0, 0, radius*2) <span class="ProcessingBlue">stroke</span>(<span class="ProcessingPurple">'#FFFFFF'</span>) <span class="ProcessingBlue">pushMatrix</span>() <span class="ProcessingBlue">rotate</span>(theta) <span class="ProcessingGray"># approximately 57.3 degrees</span> <span class="ProcessingBlue">line</span>(0, 0, radius, 0) <span class="ProcessingBlue">popMatrix</span>()</code></pre>
			<p>
				The code renders the circle in a pale blue outline. A white line the length of the radius extends from the center of the circle to its perimeter; this forms an angle of 1 radian (equal to roughly 57.3 degrees), as labeled in <a href="#figure9-12" id="figureanchor9-12">Figure 9-12</a>. Notice that the <code>rotate()</code> function applies counterclockwise to the line because the y-axis is inverted. The task is to work out the x-y coordinate for the point where the white line connects to the circle perimeter, labeled A. The other yellow markings reveal the right triangle upon which you’ll base your calculations.</p>
			<figure>
				<img alt="f09012" src="image_fi/500969c09/f09012.png"/>
				<figcaption>
					<p><a id="figure9-12">Figure 9-12</a>: You’ll find the x-y coordinate for the point labeled A.</p>
				</figcaption>
			</figure>
			<p><span epub:type="pagebreak" id="Page_192" title="192"/>Observe that the y-coordinate for point A is equal to the length (or height) of the opposite side. You know the angle (<code>theta</code> variable) and the length of the hypotenuse (<code>radius</code>), which you can use to calculate the length of the opposite. Recall that the <em>SOH</em> in <em>SOHCAHTOA</em> stands for <em>sin(</em><span class="CustomCharStyle">θ</span><em>) = opposite / hypotenuse</em>.</p>
			<p>
				You have the values for <span class="CustomCharStyle">θ</span> and hypotenuse, so rearrange the equation to isolate opposite: <em>opposite = sin(</em><span class="CustomCharStyle">θ</span><em>) × hypotenuse.</em></p>
			<p>
				If you substitute the placeholders with the variable names in your program, this is <code>y = sin(theta) * radius</code>.</p>
			<p>
				To calculate the x-coordinate for point A, you need to find the length (or width) of the adjacent side. Recall that the <em>CAH</em> in <em>SOHCAHTOA</em> stands for <em>cos(</em><span class="CustomCharStyle">θ</span><em>) = adjacent / hypotenuse</em>, which you can rearrange as <code>x = cos(theta) * radius</code>.</p>
			<p>
				Add the following code to the end of your <code>draw()</code> function:</p>
			<pre><code><span class="LiteralGray">    . . .</span><span class="ProcessingGray">    # white dot</span> <span class="ProcessingBlue">noStroke</span>() <span class="ProcessingBlue">fill</span>(<span class="ProcessingPurple">'#FFFFFF'</span>) x = <span class="ProcessingBlue">cos</span>(theta) * radius y = <span class="ProcessingBlue">sin</span>(theta) * radius <span class="ProcessingBlue">circle</span>(x, y, 15)</code></pre>
			<p>
				The <code>cos()</code> and <code>sin()</code> functions return floating-point values ranging from –1 to 1 for various values of <code>theta</code>. Processing’s trig functions work with radians, so there’s no need to convert the <code>theta</code> argument to degrees. In this case, theta is equal to 1 radian, and the <code>cos()</code> and <code>sin()</code> functions return values of 0.54 and 0.84, respectively (rounded to two decimal places). When you multiply 0.54 and 0.84 by the <code>radius</code> value of 200, you get an x-y coordinate of (108, 168). The <code>circle(x, y, 15)</code> function renders a white dot by using this x-y coordinate pair. Run the sketch to confirm the position of the white dot at point A, where the white line connects to the circle boundary.</p>
			<p>
				You can adjust the theta value to move the white dot to different points along the perimeter of the pale blue circle. To position the dot at 90 degrees, directly above the origin, use <code>theta = HALF_PI</code>; for 180 degrees, use <code>theta = PI</code>; and so forth. A <code>theta</code> value of <code>TAU</code> brings you back around to the starting point, visually indistinguishable from a dot at <code>theta = 0</code>. If <code>theta</code> is greater than <code>TAU</code>, there’s a wraparound effect. In other words, <code>cos(TAU+1)</code> is equivalent to <code>cos(1)</code>.</p>
			<p>
				The next task is to get the dot moving. You don’t need the white line anymore; remove it by deleting the lines starting from <code>pushMatrix()</code> up to and including <code>popMatrix()</code>.</p>
			<h3 id="h2-500969c09-0009">Circular and Elliptical Motion</h3>
			<p class="BodyFirst">You’ll begin by moving the dot along a circle perimeter (a circular motion), and you’ll create a user-defined function for handling the necessary math. You’ll then use this same function to create a spiral variant of the circular <span epub:type="pagebreak" id="Page_193" title="193"/>motion. Once you have the circular and spiral motions working, you’ll define a new function for elliptical motion. <a href="#figure9-13" id="figureanchor9-13">Figure 9-13</a> depicts examples of each motion.</p>
			<figure>
				<img alt="f09013" src="image_fi/500969c09/f09013.png"/>
				<figcaption>
					<p><a id="figure9-13">Figure 9-13</a>: Circular (left), spiral (middle), and elliptical (right) motion</p>
				</figcaption>
			</figure>
			<h4 id="h3-500969c09-0001">Circles</h4>
			<p class="BodyFirst">Recall that the size of angle theta, stored in a variable named <code>theta</code>, governs the position of the white dot. To make the dot move along the perimeter of the circle in a counterclockwise direction, add code to increment theta each time the draw function executes. Include a <code>period</code> variable to control the increment size:</p>
			<pre><code><span class="LiteralGray">. . .</span>
period = 2.1<span class="LiteralGray">def draw():</span> <span class="ProcessingTealGreen">global</span> theta <span aria-label="annotation1" class="CodeAnnotation">1</span> theta += <span class="ProcessingKhaki">TAU</span> / (<span class="ProcessingBlue">frameRate</span> * period)<span class="LiteralGray">    . . .</span></code></pre>
			<p>
				At the default <code>frameRate</code> of 60 fps, with a <code>period</code> of 2.1 seconds, the <code>theta</code> increment is equal to approximately 0.05 <span aria-label="annotation1" class="CodeAnnotation">1</span>. This means your angle extends 0.05 of a radian with each new frame. Run the sketch to test this out. The white dot should take about 2.1 seconds to complete a lap of the circle perimeter.</p>
			<p>The larger the value you add to theta, the faster the dot will move. Subtracting from theta moves the dot in the opposite direction (clockwise).</p>
			<p>
				Define a new function named <code>circlePoint()</code> for calculating points along the perimeter of a circle. In your <code>draw()</code> function, substitute the <code>x</code> and <code>y</code> lines with a <code>circlePoint()</code> function call:</p>
			<pre><code><span class="ProcessingTealGreen">def</span> circlePoint(t, r): x = <span class="ProcessingBlue">cos</span>(t) * r y = <span class="ProcessingBlue">sin</span>(t) * r <span class="ProcessingOlive">return</span> [x, y]<span aria-label="annotation1" class="CodeAnnotation">1</span><span class="LiteralGray">. . .</span><span class="LiteralGray">def draw():</span><span class="LiteralGray">    . . .</span><span epub:type="pagebreak" id="Page_194" title="194"/> <b>#</b><span class="LiteralGray">y = sin(theta) * radius</span> <b>#</b><span class="LiteralGray">x = cos(theta) * radius</span> x, y<span aria-label="annotation2" class="CodeAnnotation">2</span> = circlePoint(theta, radius) <span class="LiteralGray">circle(x, y, 15)</span></code></pre>
			<p>
				The <code>circlePoint()</code> definition includes two parameters: <code>t</code> for theta (the angle) and <code>r</code> for the radius. Because the function must calculate the x- and y-coordinates for some point along a circle perimeter, it needs to return two values. Use a list to return more than one value <span aria-label="annotation1" class="CodeAnnotation">1</span>; you could also use a dictionary (or a tuple).</p>
			<p>
				When you call the function, Python can <em>unpack</em> the list values and assign them to multiple variables. To invoke this unpacking behavior, provide a corresponding variable for each list item, separating each variable with a comma. In this case, the function returns a list of two values, which are assigned to variables <code>x</code> and <code>y</code> <span aria-label="annotation2" class="CodeAnnotation">2</span>. Alternatively, you could assign the list to a single variable using something like <code>a = circlePoint(theta, radius)</code>, but then you’d have to refer to <code>x</code> and <code>y</code> by using <code>a[0]</code> and <code>a[1]</code>, respectively, which isn’t as neat or descriptive.</p>
			<h4 id="h3-500969c09-0002">Spirals</h4>
			<p class="BodyFirst">For an outward spiral motion (the center image in <a href="#figure9-13">Figure 9-13</a>), you can use a radius value that increases over time. Here’s an example:</p>
			<pre><code><span class="LiteralGray">    . . .</span> x, y = circlePoint(theta, <span class="ProcessingRaspberry">frameCount</span>) <span class="ProcessingBlue">circle</span>(x, y, 15)</code></pre>
			<p>
				Recall that <code>frameCount</code> is a system variable containing the number of frames displayed since starting the sketch. The radius argument (the <code>frameCount</code>) begins at 0 and grows larger as the animation progresses, causing the dot to move outward in a spiral motion. The dot gains speed as it moves away from the center of the display window because each full rotation maintains the same period, regardless of the <code>circlePoint()</code> radius. In other words, the dot must cover a larger distance in the same time, so it moves faster.</p>
			<h4 id="h3-500969c09-0003">Ellipses</h4>
			<p class="BodyFirst">For an elliptical motion, you need two radii: one for the horizontal axis and one for the vertical axis. These radii control the width and height of the ellipse shape that guides the white dot’s trajectory (see the right image in <a href="#figure9-13">Figure 9-13</a>). Define a new <code>ellipsePoint()</code> function with parameters for an angle, horizontal radius, and vertical radius:</p>
			<pre><code><span class="ProcessingTealGreen">def</span> ellipsePoint(t, hr, vr): x = <span class="ProcessingBlue">cos</span>(t) * hr y = <span class="ProcessingBlue">sin</span>(t) * vr <span class="ProcessingOlive">return</span> [x, y]<span class="LiteralGray">. . .</span></code></pre>
			<p><span epub:type="pagebreak" id="Page_195" title="195"/>The function body is similar to that of the <code>circlePoint()</code> function. The difference is that you multiply the <code>x</code> and <code>y</code> values by the <code>hr</code> (horizontal-radius) and <code>vr</code> (vertical-radius) parameters, respectively.</p>
			<p>
				The following <code>ellipsePoint()</code> function call makes the dot move in an elliptical motion:</p>
			<pre><code><span class="LiteralGray">    . . .</span> x, y = ellipsePoint(theta, radius*1.5, radius) <span class="ProcessingBlue">circle</span>(x, y, 15)</code></pre>
			<p>
				The <code>ellipsePoint()</code> function’s second argument (horizontal radius) is larger than the third argument (vertical radius), so the resulting ellipse is wider than it is tall.</p>
			<h3 id="h2-500969c09-0010">Sine Waves</h3>
			<p class="BodyFirst">A <em>sine wave</em> is a geometric waveform that repeats itself periodically, like a continuous chain of S-shaped curves connected end to end. This waveform features in many mathematical and physical applications. For example, you can use sine waves to model musical tones, radio waves, tides, and electrical currents.</p>
			<p>
				The shape of a sine wave is formed using a <code>sin()</code> function. <a href="#figure9-14" id="figureanchor9-14">Figure 9-14</a> depicts a yellow sine wave.</p>
			<figure>
				<img alt="f09014" src="image_fi/500969c09/f09014.png"/>
				<figcaption>
					<p><a id="figure9-14">Figure 9-14</a>: A sine wave</p>
				</figcaption>
			</figure>
			<p><span epub:type="pagebreak" id="Page_196" title="196"/>The <em>wavelength</em> is the length of one complete cycle, measured as the distance from crest to crest (or trough to trough). Wavelength is related to period, but period is a reference to time (taken to complete a cycle), and wavelength is a reference to distance.</p>
			<p>
				The <em>amplitude</em> is the distance from the resting position (y = 0) to the crest. A wave with an amplitude of 0 would lie flat along the x-axis. You can determine that the yellow wave in <a href="#figure9-14">Figure 9-14</a> has an amplitude of 200 by comparing it to the radius of the pale blue circle.</p>
			<p>
				To simulate sine wave motion, add the following code to your <em>periodic_motion</em> sketch. This is the same as drawing a circle, but using a fixed x-coordinate:</p>
			<pre><code><span class="LiteralGray">. . .</span><span class="LiteralGray">def draw():</span><span class="LiteralGray">    . . .</span> amplitude = radius y = <span class="ProcessingBlue">sin</span>(theta) * amplitude <span class="ProcessingBlue">circle</span>(0, y, 15)</code></pre>
			<p>
				The wave’s <code>amplitude</code> is equal to the <code>radius</code> of the pale blue circle, although you can test any value you like. The y-coordinate for the white dot is calculated using <code>sin(theta)</code> multiplied by the amplitude; the x-coordinate is always 0. The result is a white dot that moves directly up and down from the origin.</p>
			<p>
				Run the sketch and pay careful attention to how the dot is accelerating and decelerating, as if the wave shown in <a href="#figure9-14">Figure 9-14</a> were passing through water with the dot floating on its surface. As the dot approaches a crest or trough, it begins to slow down, and then it accelerates after it makes a turn; it’s moving fastest as it crosses the y-axis.</p>
			<p>
				You can use this motion to draw a whole wave of moving dots or to simulate a weight hanging from a spring (<a href="#figure9-15" id="figureanchor9-15">Figure 9-15</a>).</p>
			<figure>
				<img alt="f09015" src="image_fi/500969c09/f09015.png"/>
				<figcaption>
					<p><a id="figure9-15">Figure 9-15</a>: A wave of dots (left) and a weight hanging from a spring (right)</p>
				</figcaption>
			</figure>
			<p>
				The code for each of these examples follows. You’ll need to add it to the end of the <code>draw()</code> block of your <em>periodic_motion</em> sketch. You can add both code listings if you want to draw the spring and weight over the wave of dots, or instead replace one listing with the other.</p>
			<h4 id="h3-500969c09-0004"><span epub:type="pagebreak" id="Page_197" title="197"/>Drawing a Sine Wave of Dots</h4>
			<p class="BodyFirst">Use a loop to draw a whole wave of dots. There are 51 dots in all, equally spread along the x-axis. Each dot has a different y-coordinate based on a <code>theta</code> value that’s incrementally larger than the dot preceding it:</p>
			<pre><code>    amplitude = radius<span class="ProcessingOlive">    for</span> i <span class="ProcessingTealGreen">in range</span>(51): <span aria-label="annotation1" class="CodeAnnotation">1</span> f = 0.125 * 2 t = theta + i * f <span aria-label="annotation2" class="CodeAnnotation">2</span> x = -400 + i * 16 <span aria-label="annotation3" class="CodeAnnotation">3</span> y = <span class="ProcessingBlue">sin</span>(t) * amplitude <span class="ProcessingBlue">circle</span>(x, y, 15)</code></pre>
			<p>
				The loop draws 51 dots, beginning at an <code>x</code>-coordinate of –400, at x intervals of 16 pixels <span aria-label="annotation2" class="CodeAnnotation">2</span>. The <code>y</code> value for each dot is calculated using a <code>theta</code> value that’s <code>0.125 * 2</code> of a radian (or 0.25) <span aria-label="annotation1" class="CodeAnnotation">1</span> larger than the neighbor to its left. You can change this multiplier to <code>1</code> for a single wave that spans the width of the display window, leave it as <code>2</code> for two waves (as in <a href="#figure9-15">Figure 9-15</a>), make it <code>3</code> for three waves, and so forth. I’ve named the variable <code>f</code>, for <em>frequency</em>, which refers to the number of times an event repeats itself in a fixed time period.</p>
			<p>Wavelength is inversely proportional to frequency, so as you increase the frequency, you decrease the wavelength (and the waves begin to look spikier). The wave motion travels from right to left, but the horizontal positions of the dots don’t change.</p>
			<h4 id="h3-500969c09-0005">Simulating a Weight Hanging from a Spring</h4>
			<p class="BodyFirst">Use a loop to draw the spring, which is a shape composed of vertices. The weight dangling on the end of the spring is a rectangle. Adjust the fill and stroke to draw outlines instead of filled shapes:</p>
			<pre><code>    amplitude = radius y = <span class="ProcessingBlue">sin</span>(theta) * amplitude<span class="ProcessingBlue">    noFill</span>() <span class="ProcessingBlue">stroke</span>(<span class="ProcessingPurple">'#FFFFFF'</span>) <span class="ProcessingBlue">strokeJoin</span>(<span class="ProcessingKhaki">ROUND</span>) bends = 35 <span class="ProcessingBlue">beginShape</span>() <span class="ProcessingOlive">for</span> i <span class="ProcessingTealGreen">in range</span>(bends): vx = 30 + 60 * (i % 2 - 1) vy = 300 - (300 - y) / (bends - 1) * i <span class="ProcessingBlue">vertex</span>(vx, vy) <span class="ProcessingBlue">endShape</span>() <span class="ProcessingBlue">rect</span>(-100, y-80, 200, 80)</code></pre>
			<p>
				The tight corners of the spring’s bends will produce sharp joints, which result in elongated “elbows.” Processing clips these when they get too long and sharp, but jumping between <em>mitered</em> (sharp) and <em>beveled</em> (clipped) joints <span epub:type="pagebreak" id="Page_198" title="198"/>makes the animation look bad. To prevent this, I’ve set the <code>strokeJoin</code> to <code>ROUND</code>. A loop is nested within the <code>beginShape()</code> and <code>endShape()</code> functions for plotting the zigzagging spring vertices.</p>
			<p>
				Ordinarily, some energy is dissipated or lost in such a system, and the amplitude should decay over time. You could simulate this by reducing the (global) <code>radius</code> value every frame until it reaches 0, when the weight will come to a rest.</p>
			<p>Now that you’ve learned how to return values from functions and incorporate trigonometry for elliptical and wave animation, let’s look at a special curve created by combining waves.</p>
			<h3 id="h2-500969c09-0011">Lissajous Curves</h3>
			<p class="BodyFirst">In this section, you’ll create a function for drawing Lissajous curves controlled by arguments. A <em>Lissajous curve</em>—named after French physicist Jules Antoine Lissajous—is formed by combining x- and y-coordinates from two waves.</p>
			<p>
				You can create these curves mechanically by setting up a Y-shaped pendulum with a sand-filled cup hanging at the end of it. As the cup swings about, sand drains through a hole at the bottom, drawing a curve. <a href="#figure9-16" id="figureanchor9-16">Figure 9-16</a> shows an example of this device (left) and an image of a curve drawn with sand (right). The point labeled <em>r</em> indicates where the pendulum merges into a single string. The ratio of the upper to lower section of the pendulum, and the angle and power of your initial swing, determine the shape of the resulting curve.</p>
			<figure>
				<img alt="f09016" src="image_fi/500969c09/f09016.png"/>
				<figcaption>
					<p><a id="figure9-16">Figure 9-16</a>: Blackburn’s Y-shaped pendulum, from <em>Sound</em> by John Tyndall, 1879 (left), and a Lissajous curve drawn with sand (right)</p>
				</figcaption>
			</figure>
			<p><span epub:type="pagebreak" id="Page_199" title="199"/>To begin, suppose that you have two circles of different sizes (<a href="#figure9-17" id="figureanchor9-17">Figure 9-17</a>). Circle A has a radius labeled A that is 200 units, and Circle B has a radius labeled B that is 100 units.</p>
			<figure>
				<img alt="f09017" src="image_fi/500969c09/f09017.png"/>
				<figcaption>
					<p><a id="figure9-17">Figure 9-17</a>: Combining x and y values from different circles to form an ellipse</p>
				</figcaption>
			</figure>
			<p>The Result ellipse (lower left) is formed by using x-coordinates from Circle A and y-coordinates from Circle B. The ellipse turns out as wide as Circle A and as tall as Circle B. The math for this is relatively simple and uses what you already know about drawing ellipses with trigonometric functions.</p>
			<p>To find the x-y coordinate for any point along the perimeter of the Result ellipse, you use the following:</p>
			<p><em>x</em> = <em>cos(</em><span class="CustomCharStyle">θ</span><em>)</em> × <em>A </em></p>
			<p><em>y</em> = <em>sin(</em><span class="CustomCharStyle">θ</span>) × <em>B</em></p>
			<p>
				Create a new sketch, save it as <em>lissajous_curves</em>, and add the following code to recreate the ellipse from <a href="#figure9-17">Figure 9-17</a>:</p>
			<pre><code><span class="ProcessingTealGreen">def</span> lissajousPoint(t, A, B): x = <span class="ProcessingBlue">cos</span>(t) * A y = <span class="ProcessingBlue">sin</span>(t) * B <span class="ProcessingOlive">return</span> [x, y]<span class="ProcessingTealGreen">def</span> <span class="ProcessingBlueBold">setup</span>(): <span class="ProcessingBlue">size</span>(800, 600) <span class="ProcessingBlue">frameRate</span>(30) <span class="ProcessingBlue">background</span>(<span class="ProcessingPurple">'#004477'</span>) <span class="ProcessingBlue">fill</span>(<span class="ProcessingPurple">'#FFFFFF'</span>)<span epub:type="pagebreak" id="Page_200" title="200"/> <span class="ProcessingBlue">noStroke</span>()
theta = 0
period = 10<span class="ProcessingTealGreen">def</span> <span class="ProcessingBlueBold">draw</span>(): <span class="ProcessingTealGreen">global</span> theta theta += <span class="ProcessingKhaki">TAU</span> / (<span class="ProcessingBlue">frameRate</span> * period) <span class="ProcessingGray"># flip the y-axis and reposition the origin</span> <span class="ProcessingBlue">scale</span>(1, -1) <span class="ProcessingBlue">translate</span>(<span class="ProcessingRaspberry">width</span>/2, <span class="ProcessingRaspberry">height</span>/2-<span class="ProcessingRaspberry">height</span>)  x, y = lissajousPoint(theta, 200, 100) <span class="ProcessingBlue">circle</span>(x, y, 15)</code></pre>
			<p>
				The drawing space is set up like your preceding sketch. You have an inverted y-axis, and the origin is shifted to the center of the display window. The <code>theta</code> value increments by approximately 0.01 each frame, which serves as the first argument in the <code>lissajousPoint()</code> function call. Right now, this function performs exactly the same operation as the <code>ellipsePoint()</code> function in your <em>period_motion</em> sketch—the only difference is the naming of the function and its variables.</p>
			<p>
				Notice that there’s no <code>background()</code> call within the <code>draw()</code> section of the code, so Processing won’t clear each frame. Because of this, the moving white dot forms a continuous line. Run the sketch; it should draw a complete ellipse in a counterclockwise motion (<a href="#figure9-18" id="figureanchor9-18">Figure 9-18</a>).</p>
			<figure>
				<img alt="f09018" src="image_fi/500969c09/f09018.png"/>
				<figcaption>
					<p><a id="figure9-18">Figure 9-18</a>: Drawing an ellipse by using the <span class="LiteralInCaption"><code>ellipsePoint()</code></span> function</p>
				</figcaption>
			</figure>
			<p>
				When theta reaches <span class="CustomCharStyle">τ</span> radians (~6.28), the oval is complete, and Processing continues to draw over the existing line. Even though the animation might appear complete, the dot is still moving along the perimeter.</p>
			<p>
				The next step is to modify the <code>lissajousPoint()</code> function so that it can draw Lissajous curves (as opposed to ellipses). But first, consider what’s happening here<span class="ColorText" style="color:#auto"/> in terms of waves. Study <a href="#figure9-19" id="figureanchor9-19">Figure 9-19</a>, which represents each circle as a wave, and take note of how the dots on each wave control the position of the dot along the ellipse’s perimeter.</p>
				<span epub:type="pagebreak" id="Page_201" title="201"/>
				<figure>
				<img alt="f09019" src="image_fi/500969c09/f09019.png"/>
				<figcaption>
					<p><a id="figure9-19">Figure 9-19</a>: Circle A and Circle B represented in wave form</p>
				</figcaption>
			</figure>
			<p><a href="#figure9-19">Figure 9-19</a> presents the x-coordinates of Circle A as a cosine wave that oscillates between –1 and 1, which is scaled by the circle radius (the wave amplitude) of A. Similarly, the y-coordinates of Circle B are presented as a sine wave with an amplitude of B.</p>
			<p>
				In <a href="#figure9-20" id="figureanchor9-20">Figure 9-20</a>, you can see how dots move along the waves to form the ellipse shape.</p>
			<figure>
				<img alt="f09020" src="image_fi/500969c09/f09020.png"/>
				<figcaption>
					<p><a id="figure9-20">Figure 9-20</a>: Theta = 2 (left), theta = 3 (middle), theta = 4 (right)</p>
				</figcaption>
			</figure>
			<p>Currently, the frequencies of both waves match. In other words, it takes the same amount of time for each wave to complete a single cycle. The result is an ellipse.</p>
			<p>
				Lissajous curves occur when the wave frequencies differ. In <a href="#figure9-21" id="figureanchor9-21">Figure 9-21</a>, the frequency of the Circle B wave is twice that of the Circle A wave. The dot following the Circle B wave must complete two cycles in the same amount of time that the Circle A dot will complete one. The <em>a</em> and <em>b</em> values (lowercase) represent a frequency of 1 and 2, respectively.</p>
				<span epub:type="pagebreak" id="Page_202" title="202"/>
				<figure>
				<img alt="f09021" src="image_fi/500969c09/f09021.png"/>
				<figcaption>
					<p><a id="figure9-21">Figure 9-21</a>: The Circle B wave has a frequency twice that of Circle A.</p>
				</figcaption>
			</figure>
			<p>
				Frequencies <em>a</em> and <em>b</em> could be 3 and 6, 40 and 80, or 620 and 1,240. Any pair of numbers with a ratio of 1:2 will produce a ∞ shape. This will be important when you return to writing the code. You can think of this in another way as well: in <a href="#figure9-17">Figure 9-17</a>, the Circle B dot must always complete two journeys around the perimeter in the same amount of time that the Circle A dot completes one.</p>
			<p><a href="#figure9-22" id="figureanchor9-22">Figure 9-22</a> shows how the dots move along the waves to form the Lissajous curve.</p>
			<p>
				Adapt your <code>lissajousPoint()</code> definition, adding a parameter for frequency <em>a</em> and frequency <em>b</em>. Use these two parameters as multipliers for theta (<code>t</code>) in your <code>x</code> and <code>y</code> lines, respectively:</p>
			<pre><code><span class="LiteralGray">def lissajousPoint(t, A, B</span><b>, a, b</b><span class="LiteralGray">):</span> <span class="LiteralGray">x = cos(t</span><b> * a</b><span class="LiteralGray">) * A</span> <span class="LiteralGray">y = sin(t</span><b> * b</b><span class="LiteralGray">) * B</span> <span class="LiteralGray">return [x, y]</span><span class="LiteralGray">    . . .</span></code></pre>
			<figure>
				<img alt="f09022" src="image_fi/500969c09/f09022.png"/>
				<figcaption>
					<p><a id="figure9-22">Figure 9-22</a>: From left to right: theta = 2; theta = 3; theta = 4</p>
				</figcaption>
			</figure>
			<p><span epub:type="pagebreak" id="Page_203" title="203"/>Now, add arguments for parameters <code>a</code> and <code>b</code> to your function call:</p>
			<pre><code> <span class="LiteralGray">x, y = lissajousPoint(theta, 200, 100</span><b>, 1, 2</b><span class="LiteralGray">)</span></code></pre>
			<p>
				Run the sketch and watch Processing draw a Lissajous curve (<a href="#figure9-23" id="figureanchor9-23">Figure 9-23</a>).</p>
			<figure>
				<img alt="f09023" src="image_fi/500969c09/f09023.png"/>
				<figcaption>
					<p><a id="figure9-23">Figure 9-23</a>: Drawing a Lissajous curve by using the <span class="LiteralInCaption"><code>lissajousPoint()</code></span> function</p>
				</figcaption>
			</figure>
			<p>
				The <code>a</code> and <code>b</code> arguments determine the number of horizontal and vertical “lobes” in the Lissajous curve. Recall that it’s the ratio that matters, so <code>1</code>, <code>2</code> will produce the same curve as <code>5</code>, <code>10</code>. However, the latter pair will complete drawing the curve in less time, and even larger numbers will create discernible spacing between the dots (that would otherwise form a solid line). <a href="#figure9-24" id="figureanchor9-24">Figure 9-24</a> shows the results of a few <code>a</code>, <code>b</code> arguments. Try experimenting with other numbers.</p>
			<figure>
				<img alt="f09024" src="image_fi/500969c09/f09024.png"/>
				<figcaption>
					<p><a id="figure9-24">Figure 9-24</a>: Drawing Lissajous curves using different <span class="LiteralInCaption"><code>a</code></span>, <span class="LiteralInCaption"><code>b</code></span> arguments</p>
				</figcaption>
			</figure>
			<p>You can create intriguing visual patterns by moving shapes, points, and lines around with trigonometric functions. Simply experimenting, with no predefined idea of what you want to accomplish, can lead to impressive visual results. Think of this approach to coding like a musical jam session, where instrumentalists improvise until they stumble upon something that sounds good.</p>
			<p>
				The next task uses Lissajous curves and a <code>line()</code> function for animated patterns, which should provide some interesting ideas for you to riff off.</p>
			<h3 id="h2-500969c09-0012">Creating Screensaver-Like Patterns with Lissajous Curves</h3>
			<p class="BodyFirst">In <span class="xref">Chapter 6</span>, you programmed a simple DVD screensaver; now let’s create a more elaborate one using Lissajous curves. The original purpose <span epub:type="pagebreak" id="Page_204" title="204"/>of a screensaver was to “save” your screen. Older cathode-ray tube (CRT) monitors were susceptible to <em>burn-in</em>: if you displayed the same graphic in the same position for too long, it would leave a permanent “ghost” image. Modern displays aren’t susceptible to burn-in, but many people still use screensavers because they look cool.</p>
			<p>
				You’ll use your <code>lissajousPoint()</code> function to create a pattern inspired by popular screensaver designs. <a href="#figure9-25" id="figureanchor9-25">Figure 9-25</a> shows the final result with lines and colors morphing smoothly as the pattern twists about the screen.</p>
			<figure>
				<img alt="f09025" src="image_fi/500969c09/f09025.png"/>
				<figcaption>
					<p><a id="figure9-25">Figure 9-25</a>: An animated pattern based on Lissajous curves</p>
				</figcaption>
			</figure>
			<p>
				This movement relies on two Lissajous curves, using a <code>line()</code> function to draw a straight line between the leading tip of each curve. <a href="#figure9-26" id="figureanchor9-26">Figure 9-26</a> illustrates how this works.</p>
			<figure>
				<img alt="f09026" src="image_fi/500969c09/f09026.png"/>
				<figcaption>
					<p><a id="figure9-26">Figure 9-26</a>: Drawing a straight line between two Lissajous curves</p>
				</figcaption>
			</figure>
			<p><span epub:type="pagebreak" id="Page_205" title="205"/>Of course, you don’t see the curves, just the straight line, but it’s two <code>lissajousPoint()</code> calls that are calculating the x-y coordinate for your <code>line()</code> function. When theta reaches <span class="CustomCharStyle">τ</span> radians, the Lissajous curves are complete and the motion repeats itself.</p>
			<p>
				Add the following code to the end of the <code>draw()</code> function in your <em>lissajous_curves</em> sketch:</p>
			<pre><code><span class="LiteralGray">    . . .</span> <span aria-label="annotation1" class="CodeAnnotation">1</span> <span class="ProcessingOlive">for</span> i <span class="ProcessingTealGreen">in range</span>(10): <span class="ProcessingGray"># curves</span> t = theta + i / 15.0 x1, y1 = lissajousPoint(t, 300, 150, 3, 1) x2, y2 = lissajousPoint(t, 250, 220, 1, 3) <span class="ProcessingGray"># background color</span> <span aria-label="annotation2" class="CodeAnnotation">2</span> <span class="ProcessingBlue">fill</span>(0x55000000) <span class="ProcessingBlue">noStroke</span>() <span class="ProcessingBlue">rect</span>(-<span class="ProcessingRaspberry">width</span>/2, -<span class="ProcessingRaspberry">height</span>/2, <span class="ProcessingRaspberry">width</span>, <span class="ProcessingRaspberry">height</span>) <span class="ProcessingGray"># line</span> <span class="ProcessingBlue">colorMode</span>(<span class="ProcessingKhaki">HSB</span>, 360, 100, 100) <span aria-label="annotation3" class="CodeAnnotation">3</span> h = (<span class="ProcessingRaspberry">frameCount</span> + i * 15) % 360 <span class="ProcessingBlue">strokeWeight</span>(7) <span class="ProcessingBlue">stroke</span>(h, 100, 100) <span class="ProcessingBlue">line</span>(x1, y1, x2, y2)</code></pre>
			<p>
				The loop will draw 10 lines <span aria-label="annotation1" class="CodeAnnotation">1</span> in all—one solid line leading a trail of nine lines that gradually fade behind it. You use two <code>lissajousPoint()</code> functions, one for each curve (that together define the x-y coordinate for each end of the line). With each iteration, Processing draws a semiopaque black square that spans the entire display window, dimming the lines of previous iterations.</p>
			<p>
				To define a semiopaque color, you use Processing’s <code>0x</code> notation <span aria-label="annotation2" class="CodeAnnotation">2</span>. The hexadecimal value is expressed with a leading <code>0x</code>, without quotes, using eight hexadecimal digits. The first two digits define the <em>alpha</em> (transparency) component; for example, <code>11</code> is highly transparent, and <code>EE</code> highly opaque. This example uses <code>55</code>, somewhere in between, but nearer the transparent side. The remaining six characters are your standard RGB hexadecimal mixture, in this case black (<code>000000</code>). For the stroke color, set the <code>colorMode()</code> to <code>HSB</code> (see <span class="xref">“Color Modes” on page 14</span>). For the first 360 frames, you can use <code>frameCount</code> to shift the hue value a single degree per frame. However, <code>frameCount</code> will soon exceed 360, so you use a modulo operation to “wrap around” back to 0 <span aria-label="annotation3" class="CodeAnnotation">3</span>.</p>
			<p>Run the sketch to observe the output.</p>
			<aside epub:type="sidebar">
				<div class="top hr">
					<hr/>
				</div>
				<section class="note">
					<h2><span class="NoteHead">NOTE</span></h2>
					<p>
							Drawing so many semiopaque black rectangles over the display window each frame is a demanding operation for Processing to perform. If your computer is struggling, try setting a lower frame rate, or reducing the <var>for</var> loop iterations from 10 to a more manageable value.</p>
					<div class="bottom hr">
						<hr/>
					</div>
				</section>
			</aside>
			<p><span epub:type="pagebreak" id="Page_206" title="206"/>Try different <code>lissajousPoint()</code> arguments, or add new curves and lines; maybe even try to connect three lines between three curves for morphing triangles. Keep experimenting to see what you come up with.</p>
			<h2 id="h1-500969c09-0003">Summary</h2>
			<p class="BodyFirst">In this chapter, you’ve learned how to define your own functions, which reduce repetition and help you structure more modular programs. Remember that well-named functions will make your code easier to read and understand, for yourself and anybody else dealing with it.</p>
			<p>You can add parameters to any function to make it more versatile, and the function call will include different arguments that correspond to those parameters to control how it works. You can call a function by using positional and/or keyword arguments. For optional arguments, you can define parameters that include default values for Python to fall back on.</p>
			<p>You can also define functions that return values, which means you can use a function to process data and hand back a result to the function caller. If a function returns a value, you can assign it to a variable. Additionally, you can wrap a function around an argument to process and return a value for another function.</p>
			<p>
				This chapter also introduced trigonometry concepts and how to use them to simulate periodic motion. You learned about built-in Processing trig functions, like <code>sin()</code> and <code>cos()</code>, which you used to draw circles, spirals, ellipses, sine waves, and Lissajous curves. Experiment with trigonometry to generate compelling patterns and movements like those you see in some screensavers.</p>
			<p>
				In the next chapter, you’ll write <em>classes</em>, which you will use to create <em>objects</em>. These techniques enable you to structure your code more efficiently, especially for larger, more complex programs, by modeling your programs around real-world objects. You’ll also learn about <em>vectors</em> for programming motion.</p>
		</section>
	</body></html>