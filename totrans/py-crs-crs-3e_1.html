<html><head></head><body><div id="sbo-rt-content"><section>
<header>
<h1 class="part">
<span class="PartNumber"><span epub:type="pagebreak" title="1" id="Page_1"/>Part I</span><br/>
<span class="PartTitle">Basics</span></h1>
</header>
<p class="PartIntro">Part I of this book teaches you the basic concepts you’ll need to write Python programs. Many of these concepts are common to all programming languages, so they’ll be useful throughout your life as a programmer.</p>
<p>In <b>Chapter 1</b> you’ll install Python on your computer and run your first program, which prints the message <em>Hello world!</em> to the screen.</p>
<p>In <b>Chapter 2</b> you’ll learn to assign information to variables and work with text and numerical values.</p>
<p><b>Chapters 3</b> and <b>4</b> introduce lists. Lists can store as much information as you want in one place, allowing you to work with that data efficiently. You’ll be able to work with hundreds, thousands, and even millions of values in just a few lines of code.</p>
<p>In <b>Chapter 5</b> you’ll use <code>if</code> statements to write code that responds one way if certain conditions are true, and responds in a different way if those conditions are not true.</p>
<p><b>Chapter 6</b> shows you how to use Python’s dictionaries, which let you make connections between different pieces of information. Like lists, dictionaries can contain as much information as you need to store.</p>
<p>In <b>Chapter 7</b> you’ll learn how to accept input from users to make your programs interactive. You’ll also learn about <code>while</code> loops, which run blocks of code repeatedly as long as certain conditions remain true.</p>
<p>In <b>Chapter 8</b> you’ll write functions, which are named blocks of code that perform a specific task and can be run whenever you need them.</p>
<p><b>Chapter 9</b> introduces classes, which allow you to model real-world objects. You’ll write code that represents dogs, cats, people, cars, rockets, and more.</p>
<p><span epub:type="pagebreak" title="2" id="Page_2"/><b>Chapter 10</b> shows you how to work with files and handle errors so your programs won’t crash unexpectedly. You’ll store data before your program closes and read the data back in when the program runs again. You’ll learn about Python’s exceptions, which allow you to anticipate errors and make your programs handle those errors gracefully.</p>
<p>In <b>Chapter 11</b> you’ll learn to write tests for your code, to check that your programs work the way you intend them to. As a result, you’ll be able to expand your programs without worrying about introducing new bugs. Testing your code is one of the first skills that will help you transition from beginner to intermediate programmer.</p>
</section>
</div>
<div id="sbo-rt-content"><section>
<header>
<h1 class="chapter">
<span class="ChapterNumber"><span epub:type="pagebreak" title="3" id="Page_3"/>1</span><br/>
<span class="ChapterTitle">Getting Started</span></h1>
</header>
<figure class="opener">
<img src="Images/chapterart.png" alt="" width="406" height="406"/>
</figure>
<p class="ChapterIntro">In this chapter, you’ll run your first Python program, <em>hello_world.py</em>. First, you’ll need to check whether a recent version of Python is installed on your computer; if it isn’t, you’ll install it. You’ll also install a text editor to work with your Python programs. Text editors recognize Python code and highlight sections as you write, making it easy to understand your code’s structure.</p>
<h2 id="h1-502703c01-0001">Setting Up Your Programming Environment</h2>
<p class="BodyFirst">Python differs slightly on different operating systems, so you’ll need to keep a few considerations in mind. In the following sections, we’ll make sure Python is set up correctly on your system.</p>
<h3 id="h2-502703c01-0001"><span epub:type="pagebreak" title="4" id="Page_4"/>Python Versions</h3>
<p class="BodyFirst">Every programming language evolves as new ideas and technologies emerge, and the developers of Python have continually made the language more versatile and powerful. As of this writing, the latest version is Python 3.11, but everything in this book should run on Python 3.9 or later. In this section, we’ll find out if Python is already installed on your system and whether you need to install a newer version. <span class="xref" itemid="xref_target_Appendix A">Appendix A</span> contains additional details about installing the latest version of Python on each major operating system as well.</p>
<h3 id="h2-502703c01-0002">Running Snippets of Python Code</h3>
<p class="BodyFirst">You can run Python’s interpreter in a terminal window, allowing you to try bits of Python code without having to save and run an entire program.</p>
<p>Throughout this book, you’ll see code snippets that look like this:</p>
<pre><code>&gt;&gt;&gt; <b>print("Hello Python interpreter!")</b>
Hello Python interpreter!</code></pre>
<p>The three angle brackets (<code>&gt;&gt;&gt;</code>) prompt, which we’ll refer to as a <em>Python prompt</em>, indicates that you should be using the terminal window. The bold text is the code you should type in and then execute by pressing ENTER. Most of the examples in this book are small, self-contained programs that you’ll run from your text editor rather than the terminal, because you’ll write most of your code in the text editor. But sometimes, basic concepts will be shown in a series of snippets run through a Python terminal session to demonstrate particular concepts more efficiently. When you see three angle brackets in a code listing, you’re looking at code and output from a terminal session. We’ll try coding in the interpreter on your system in a moment.</p>
<p>We’ll also use a text editor to create a simple program called <em>Hello World!</em> that has become a staple of learning to program. There’s a long-held tradition in the programming world that printing the message <code>Hello world!</code> to the screen as your first program in a new language will bring you good luck. Such a simple program serves a very real purpose. If it runs correctly on your system, then any Python program you write should work as well.</p>
<h3 id="h2-502703c01-0003">About the VS Code Editor</h3>
<p class="BodyFirst"><em>VS Code</em> is a powerful, professional-quality text editor that’s free and beginner-friendly. VS Code is great for both simple and complex projects, so if you become comfortable using it while learning Python, you can continue using it as you progress to larger and more complicated projects. VS Code can be installed on all modern operating systems, and it supports most programming languages, including Python.</p>
<p><span class="xref" itemid="xref_target_Appendix B">Appendix B</span> provides information on other text editors. If you’re curious about the other options, you might want to skim that appendix at this <span epub:type="pagebreak" title="5" id="Page_5"/>point. If you want to begin programming quickly, you can use VS Code to start. Then you can consider other editors, once you’ve gained some experience as a programmer. In this chapter, I’ll walk you through installing VS Code on your operating system.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	If you already have a text editor installed and you know how to configure it to run Python programs, you are welcome to use that editor instead.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c01-0002">Python on Different Operating Systems</h2>
<p class="BodyFirst">Python is a cross-platform programming language, which means it runs on all the major operating systems. Any Python program you write should run on any modern computer that has Python installed. However, the methods for setting up Python on different operating systems vary slightly.</p>
<p>In this section, you’ll learn how to set up Python on your system. You’ll first check whether a recent version of Python is installed on your system, and install it if it’s not. Then you’ll install VS Code. These are the only two steps that are different for each operating system.</p>
<p>In the sections that follow, you’ll run <em>hello_world.py</em> and troubleshoot anything that doesn’t work. I’ll walk you through this process for each operating system, so you’ll have a Python programming environment that you can rely on.</p>
<h3 id="h2-502703c01-0004">Python on Windows</h3>
<p class="BodyFirst">Windows doesn’t usually come with Python, so you’ll probably need to install it and then install VS Code.</p>
<h4 id="h3-502703c01-0001">Installing Python</h4>
<p class="BodyFirst">First, check whether Python is installed on your system. Open a command window by entering <code class="bold">command</code> into the Start menu and clicking the <b>Command Prompt</b> app. In the terminal window, enter <code class="bold">python</code> in lowercase. If you get a Python prompt (<code>&gt;&gt;&gt;</code>) in response, Python is installed on your system. If you see an error message telling you that <code>python</code> is not a recognized command, or if the Microsoft store opens, Python isn’t installed. Close the Microsoft store if it opens; it’s better to download an official installer than to use Microsoft’s version.</p>
<p>If Python is not installed on your system, or if you see a version earlier than Python 3.9, you need to download a Python installer for Windows. Go to <a href="https://python.org" class="LinkURL">https://python.org</a> and hover over the<b> Downloads </b>link. You should see a button for downloading the latest version of Python. Click the button, which should automatically start downloading the correct installer for your system. After you’ve downloaded the file, run the installer. Make sure you select the option <b>Add Python to PATH</b>, which will make it easier to configure your system correctly. <a href="#figure1-1" id="figureanchor1-1">Figure 1-1</a> shows this option selected.</p>
<span epub:type="pagebreak" title="6" id="Page_6"/><figure>
<img src="Images/f01001.png" class="keyline" alt="" width="491" height="302"/>
<figcaption><p><a id="figure1-1">Figure 1-1</a>: Make sure you select the checkbox labeled <em>Add Python to PATH</em>.</p></figcaption>
</figure>
<h4 id="h3-502703c01-0002">Running Python in a Terminal Session</h4>
<p class="BodyFirst">Open a new command window and enter <code class="bold">python</code> in lowercase. You should see a Python prompt (<code>&gt;&gt;&gt;</code>), which means Windows has found the version of Python you just installed.</p>
<pre><code>C:\&gt; <b>python</b>
Python 3.<var>x</var>.<var>x</var> (main, Jun . . . , 13:29:14) [MSC v.1932 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt;</code></pre>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	If you don’t see this output or something similar, see the more detailed setup instructions in <span class="xref" itemid="xref_target_Appendix A">Appendix A</span>.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<p>Enter the following line in your Python session:</p>
<pre><code>&gt;&gt;&gt; <b>print("Hello Python interpreter!")</b>
Hello Python interpreter!
&gt;&gt;&gt;</code></pre>
<p>You should see the output <code>Hello Python interpreter!</code> Anytime you want to run a snippet of Python code, open a command window and start a Python terminal session. To close the terminal session, press CTRL-Z and then press ENTER, or enter the command <code class="bold">exit()</code>.</p>
<h4 id="h3-502703c01-0003">Installing VS Code</h4>
<p class="BodyFirst">You can download an installer for VS Code at <a href="https://code.visualstudio.com" class="LinkURL">https://code.visualstudio.com</a>. Click the <b>Download for Windows</b> button and run the installer. Skip the following sections about macOS and Linux, and follow the steps in “<span class="xref" itemid="xref_target_Running a Hello World Program">Running a Hello World Program</span>” on <span class="xref" itemid="xref_target_page 9">page 9</span>.</p>
<h3 id="h2-502703c01-0005"><span epub:type="pagebreak" title="7" id="Page_7"/>Python on macOS</h3>
<p class="BodyFirst">Python is not installed by default on the latest versions of macOS, so you’ll need to install it if you haven’t already done so. In this section, you’ll install the latest version of Python, and then install VS Code and make sure it’s configured correctly.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	Python 2 was included on older versions of macOS, but it’s an outdated version that you shouldn’t use.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h4 id="h3-502703c01-0004">Checking Whether Python 3 Is Installed</h4>
<p class="BodyFirst">Open a terminal window by going to <b>Applications</b><span class="MenuArrow">▶</span><b>Utilities</b><span class="MenuArrow">▶</span><b>Terminal</b>. You can also press ⌘-spacebar, type <code class="bold">terminal</code>, and then press ENTER. To see if you have a recent enough version of Python installed, enter <code class="bold">python3</code>. You’ll most likely see a message about installing the <em>command line developer tools</em>. It’s better to install these tools after installing Python, so if this message appears, cancel the pop-up window.</p>
<p>If the output shows you have Python 3.9 or a later version installed, you can skip the next section and go to “<span class="xref" itemid="xref_target_Running Python in a Terminal Session">Running Python in a Terminal Session</span>.” If you see any version earlier than Python 3.9, follow the instructions in the next section to install the latest version.</p>
<p>Note that on macOS, whenever you see the <code>python</code> command in this book, you need to use the <code>python3</code> command instead to make sure you’re using Python 3. On most macOS systems, the <code>python</code> command either points to an outdated version of Python that should only be used by internal system tools, or it points to nothing and generates an error message.</p>
<h4 id="h3-502703c01-0005">Installing the Latest Version of Python</h4>
<p class="BodyFirst">You can find a Python installer for your system at <a href="https://python.org" class="LinkURL">https://python.org</a>. Hover over the <b>Download</b> link, and you should see a button for downloading the latest version of Python. Click the button, which should automatically start downloading the correct installer for your system. After the file downloads, run the installer.</p>
<p>After the installer runs, a Finder window should appear. Double-click the <em>Install Certificates.command</em> file. Running this file will allow you to more easily install additional libraries that you’ll need for real-world projects, including the projects in the second half of this book.</p>
<h4 id="h3-502703c01-0006">Running Python in a Terminal Session</h4>
<p class="BodyFirst">You can now try running snippets of Python code by opening a new terminal window and typing <code class="bold">python3</code>:</p>
<pre><code>$ <b>python3</b>
Python 3.<var>x</var>.<var>x</var> (v3.11.0:eb0004c271, Jun . . . , 10:03:01)
[Clang 13.0.0 (clang-1300.0.29.30)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt;</code></pre>
<p><span epub:type="pagebreak" title="8" id="Page_8"/>This command starts a Python terminal session. You should see a Python prompt (<code>&gt;&gt;&gt;</code>), which means macOS has found the version of Python you just installed.</p>
<p>Enter the following line in the terminal session:</p>
<pre><code>&gt;&gt;&gt; <b>print("Hello Python interpreter!")</b>
Hello Python interpreter!
&gt;&gt;&gt;</code></pre>
<p>You should see the message <code>Hello Python interpreter!</code>, which should print directly in the current terminal window. You can close the Python interpreter by pressing CTRL-D or by entering the command <code class="bold">exit()</code>.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	On newer macOS systems, you’ll see a percent sign (<code>%</code>) as a terminal prompt instead of a dollar sign (<code>$</code>).</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h4 id="h3-502703c01-0007">Installing VS Code</h4>
<p class="BodyFirst">To install the VS Code editor, you need to download the installer at <a href="https://code.visualstudio.com" class="LinkURL">https://code.visualstudio.com</a>. Click the<b> Download</b> button, and then open a <b>Finder</b> window and go to the <b>Downloads</b> folder. Drag the <b>Visual Studio Code</b> installer to your Applications folder, then double-click the installer to run it.</p>
<p>Skip over the following section about Python on Linux, and follow the steps in “<span class="xref" itemid="xref_target_Running a Hello World Program">Running a Hello World Program</span>” on <span class="xref" itemid="xref_target_page 9">page 9</span>.</p>
<h3 id="h2-502703c01-0006">Python on Linux</h3>
<p class="BodyFirst">Linux systems are designed for programming, so Python is already installed on most Linux computers. The people who write and maintain Linux expect you to do your own programming at some point, and encourage you to do so. For this reason, there’s very little to install and only a few settings to change to start programming.</p>
<h4 id="h3-502703c01-0008">Checking Your Version of Python</h4>
<p class="BodyFirst">Open a terminal window by running the Terminal application on your system (in Ubuntu, you can press CTRL-ALT-T). To find out which version of Python is installed, enter <code class="bold">python3</code> with a lowercase <em>p</em>. When Python is installed, this command starts the Python interpreter. You should see output indicating which version of Python is installed. You should also see a Python prompt (<code>&gt;&gt;&gt;</code>) where you can start entering Python commands:</p>
<pre><code>$ <b>python3</b>
Python 3.10.4 (main, Apr  . . . , 09:04:19) [GCC 11.2.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt;</code></pre>
<p>This output indicates that Python 3.10.4 is currently the default version of Python installed on this computer. When you’ve seen this output, press CTRL-D or enter <code class="bold">exit()</code> to leave the Python prompt and return to a <span epub:type="pagebreak" title="9" id="Page_9"/>terminal prompt. Whenever you see the <code>python</code> command in this book, enter <code class="bold">python3</code> instead.</p>
<p>You’ll need Python 3.9 or later to run the code in this book. If the Python version installed on your system is earlier than Python 3.9, or if you want to update to the latest version currently available, refer to the instructions in <span class="xref" itemid="xref_target_Appendix A">Appendix A</span>.</p>
<h4 id="h3-502703c01-0009">Running Python in a Terminal Session</h4>
<p class="BodyFirst">You can try running snippets of Python code by opening a terminal and entering <code class="bold">python3</code>, as you did when checking your version. Do this again, and when you have Python running, enter the following line in the terminal session:</p>
<pre><code>&gt;&gt;&gt; <b>print("Hello Python interpreter!")</b>
Hello Python interpreter!
&gt;&gt;&gt;</code></pre>
<p>The message should print directly in the current terminal window. Remember that you can close the Python interpreter by pressing CTRL-D or by entering the command <code class="bold">exit()</code>.</p>
<h4 id="h3-502703c01-0010">Installing VS Code</h4>
<p class="BodyFirst">On Ubuntu Linux, you can install VS Code from the Ubuntu Software Center. Click the Ubuntu Software icon in your menu and search for <em>vscode</em>. Click the app called <b>Visual Studio Code</b> (sometimes called <em>code</em>), and then click <b>Install</b>. Once it’s installed, search your system for <em>VS Code</em> and launch the app.</p>
<h2 id="h1-502703c01-0003">Running a Hello World Program</h2>
<p class="BodyFirst">With a recent version of Python and VS Code installed, you’re almost ready to run your first Python program written in a text editor. But before doing so, you need to install the Python extension for VS Code.</p>
<h3 id="h2-502703c01-0007">Installing the Python Extension for VS Code</h3>
<p class="BodyFirst">VS Code works with many different programming languages; to get the most out of it as a Python programmer, you’ll need to install the Python extension. This extension adds support for writing, editing, and running Python programs.</p>
<p>To install the Python extension, click the Manage icon, which looks like a gear in the lower-left corner of the VS Code app. In the menu that appears, click <b>Extensions</b>. Enter <code class="bold">python</code> in the search box and click the <b>Python </b>extension. (If you see more than one extension named <em>Python</em>, choose the one supplied by Microsoft.) Click <b>Install</b> and install any additional tools that your system needs to complete the installation. If you see a message that you need to install Python, and you’ve already done so, you can ignore this message.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<span epub:type="pagebreak" title="10" id="Page_10"/><h2><span class="NoteHead">Note</span></h2>
<p>	If you’re using macOS and a pop-up asks you to install the <em>command line developer tools</em>, click <b>Install</b>. You may see a message that it will take an excessively long time to install, but it should only take about 10 or 20 minutes on a reasonable internet connection.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c01-0008">Running hello_world.py</h3>
<p class="BodyFirst">Before you write your first program, make a folder called <em>python_work </em>on your desktop for your projects. It’s best to use lowercase letters and underscores for spaces in file and folder names, because Python uses these naming conventions. You can make this folder somewhere other than the desktop, but it will be easier to follow some later steps if you save the <em>python_work</em> folder directly on your desktop.</p>
<p>Open VS Code, and close the <b>Get Started</b> tab if it’s still open. Make a new file by clicking <b>File</b><span class="MenuArrow">▶</span><b>New File</b> or pressing CTRL-N (⌘-N on macOS). Save the file as <em>hello_world.py</em> in your <em>python_work</em> folder. The extension <em>.py</em> tells VS Code that your file is written in Python, and tells it how to run the program and highlight the text in a helpful way.</p>
<p>After you’ve saved your file, enter the following line in the editor:</p>
<p class="CodeLabel"><b>hello_world.py</b></p>
<pre><code>print("Hello Python world!")</code></pre>
<p>To run your program, select <b>Run</b><span class="MenuArrow">▶</span><b>Run Without Debugging</b> or press CTRL-F5. A terminal screen should appear at the bottom of the VS Code window, showing your program’s output:</p>
<pre><code>Hello Python world!</code></pre>
<p>You’ll likely see some additional output showing the Python interpreter that was used to run your program. If you want to simplify the information that’s displayed so you only see your program’s output, see <span class="xref" itemid="xref_target_Appendix B">Appendix B</span>. You can also find helpful suggestions about how to use VS Code more efficiently in <span class="xref" itemid="xref_target_Appendix B">Appendix B</span>.</p>
<p>If you don’t see this output, something might have gone wrong in the program. Check every character on the line you entered. Did you accidentally capitalize <code>print</code>? Did you forget one or both of the quotation marks or parentheses? Programming languages expect very specific syntax, and if you don’t provide that, you’ll get errors. If you can’t get the program to run, see the suggestions in the next section.</p>
<h2 id="h1-502703c01-0004">Troubleshooting</h2>
<p class="BodyFirst">If you can’t get <em>hello_world.py</em> to run, here are a few remedies you can try that are also good general solutions for any programming problem:</p>
<ul>
<li>When a program contains a significant error, Python displays a <em>traceback</em>, which is an error report. Python looks through the file and tries to identify the problem. Check the traceback; it might give you a clue as to what issue is preventing the program from running.</li>
<li><span epub:type="pagebreak" title="11" id="Page_11"/>Step away from your computer, take a short break, and then try again. Remember that syntax is very important in programming, so something as simple as mismatched quotation marks or mismatched parentheses can prevent a program from running properly. Reread the relevant parts of this chapter, look over your code, and try to find the mistake.</li>
<li>Start over again. You probably don’t need to uninstall any software, but it might make sense to delete your <em>hello_world.py</em> file and re-create it from scratch.</li>
<li>Ask someone else to follow the steps in this chapter, on your computer or a different one, and watch what they do carefully. You might have missed one small step that someone else happens to catch.</li>
<li>See the additional installation instructions in <span class="xref" itemid="xref_target_Appendix A">Appendix A</span>; some of the details included in the Appendix may help you solve your issue.</li>
<li>Find someone who knows Python and ask them to help you get set up. If you ask around, you might find that you unexpectedly know someone who uses Python.</li>
<li>The setup instructions in this chapter are also available through this book’s companion website at <a href="https://ehmatthes.github.io/pcc_3e" class="LinkURL">https://ehmatthes.github.io/pcc_3e</a>. The online version of these instructions might work better because you can simply cut and paste code and click links to the resources you need.</li>
<li>Ask for help online. <span class="xref" itemid="xref_target_Appendix C">Appendix C</span> provides a number of resources, such as forums and live chat sites, where you can ask for solutions from people who’ve already worked through the issue you’re currently facing.</li>
</ul>
<p>Never worry that you’re bothering experienced programmers. Every programmer has been stuck at some point, and most programmers are happy to help you set up your system correctly. As long as you can state clearly what you’re trying to do, what you’ve already tried, and the results you’re getting, there’s a good chance someone will be able to help you. As mentioned in the <span class="xref" itemid="xref_target_introduction">introduction</span>, the Python community is very friendly and welcoming to beginners.</p>
<p>Python should run well on any modern computer. Early setup issues can be frustrating, but they’re well worth sorting out. Once you get <em>hello_world.py </em>running, you can start to learn Python, and your programming work will become more interesting and satisfying.</p>
<h2 id="h1-502703c01-0005">Running Python Programs from a Terminal</h2>
<p class="BodyFirst">You’ll run most of your programs directly in your text editor. However, sometimes it’s useful to run programs from a terminal instead. For example, you might want to run an existing program without opening it for editing.</p>
<p>You can do this on any system with Python installed if you know how to access the directory where the program file is stored. To try this, make sure you’ve saved the <em>hello_world.py</em> file in the <em>python_work</em> folder on your desktop.</p>
<h3 id="h2-502703c01-0009"><span epub:type="pagebreak" title="12" id="Page_12"/>On Windows</h3>
<p class="BodyFirst">You can use the terminal command <code>cd</code>, for <em>change directory</em>, to navigate through your filesystem in a command window. The command <code>dir</code>, for <em>directory</em>, shows you all the files that exist in the current directory.</p>
<p>Open a new terminal window and enter the following commands to run <em>hello_world.py</em>:</p>
<pre><code>C:\&gt; <b>cd Desktop\python_work</b>
C:\Desktop\python_work&gt; <b>dir</b>
hello_world.py
C:\Desktop\python_work&gt; <b>python hello_world.py</b>
Hello Python world!</code></pre>
<p>First, use the <code class="bold">cd</code> command to navigate to the <em>python_work</em> folder, which is in the<em> Desktop</em> folder. Next, use the <code class="bold">dir</code> command to make sure <em>hello_world.py</em> is in this folder. Then run the file using the command <code class="bold">python hello_world.py</code>.</p>
<p>Most of your programs will run fine directly from your editor. However, as your work becomes more complex, you’ll want to run some of your programs from a terminal.</p>
<h3 id="h2-502703c01-0010">On macOS and Linux</h3>
<p class="BodyFirst">Running a Python program from a terminal session is the same on Linux and macOS. You can use the terminal command <code>cd</code>, for <em>change directory</em>, to navigate through your filesystem in a terminal session. The command <code>ls</code>, for <em>list</em>, shows you all the nonhidden files that exist in the current directory.</p>
<p>Open a new terminal window and enter the following commands to run <em>hello_world.py</em>:</p>
<pre><code>~$ <b>cd Desktop/python_work/</b>
~/Desktop/python_work$ <b>ls</b>
hello_world.py
~/Desktop/python_work$ <b>python3 hello_world.py</b>
Hello Python world!</code></pre>
<p>First, use the <code class="bold">cd</code> command to navigate to the <em>python_work</em> folder, which is in the <em>Desktop</em> folder. Next, use the <code class="bold">ls</code> command to make sure <em>hello_world.py</em> is in this folder. Then run the file using the command <code class="bold">python3 hello_world.py</code>.</p>
<p>Most of your programs will run fine directly from your editor. But as your work becomes more complex, you’ll want to run some of your programs from a terminal.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2><span epub:type="pagebreak" title="13" id="Page_13"/>Try It Yourself</h2>
<p class="BoxBodyFirst">The exercises in this chapter are exploratory in nature. Starting in <span class="xref" itemid="xref_target_Chapter 2">Chapter 2</span>, the challenges you’ll solve will be based on what you’ve learned.</p>
<p class="BoxBodyCustom"><span id="h2-502703c01-11" class="BoxNumber">1-1. python.org:</span> Explore the Python home page (<a href="https://python.org" class="LinkURL">https://python.org</a>) to find topics that interest you. As you become familiar with Python, different parts of the site will be more useful to you.</p>
<p class="BoxBodyCustom"><span id="h2-502703c01-12" class="BoxNumber">1-2. Hello World Typos:</span> Open the <em>hello_world.py</em> file you just created. Make a typo somewhere in the line and run the program again. Can you make a typo that generates an error? Can you make sense of the error message? Can you make a typo that doesn’t generate an error? Why do you think it didn’t make an error?</p>
<p class="BoxBodyCustom"><span id="h2-502703c01-13" class="BoxNumber">1-3. Infinite Skills:</span> If you had infinite programming skills, what would you build? You’re about to learn how to program. If you have an end goal in mind, you’ll have an immediate use for your new skills; now is a great time to write brief descriptions of what you want to create. It’s a good habit to keep an “ideas” notebook that you can refer to whenever you want to start a new project. Take a few minutes now to describe three programs you want to create.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c01-0006">Summary</h2>
<p class="BodyFirst">In this chapter, you learned a bit about Python in general, and you installed Python on your system if it wasn’t already there. You also installed a text editor to make it easier to write Python code. You ran snippets of Python code in a terminal session, and you ran your first program, <em>hello_world.py</em>. You probably learned a bit about troubleshooting as well.</p>
<p>In the next chapter, you’ll learn about the different kinds of data you can work with in your Python programs, and you’ll start to use variables as well.</p>
</section>
</div>
<div id="sbo-rt-content"><section>
<header>
<h1 class="chapter">
<span class="ChapterNumber"><span epub:type="pagebreak" title="15" id="Page_15"/>2</span><br/>
<span class="ChapterTitle">Variables and Simple Data Types</span></h1>
</header>
<figure class="opener">
<img src="Images/chapterart.png" alt="" width="406" height="406"/>
</figure>
<p class="ChapterIntro">In this chapter you’ll learn about the different kinds of data you can work with in your Python programs. You’ll also learn how to use variables to represent data in your programs.</p>
<h2 id="h1-502703c02-0001">What Really Happens When You Run hello_world.py</h2>
<p class="BodyFirst">Let’s take a closer look at what Python does when you run <em>hello_world.py</em>. As it turns out, Python does a fair amount of work, even when it runs a simple program:</p>
<p class="CodeLabel"><b>hello_world.py</b></p>
<pre><code>print("Hello Python world!")</code></pre>
<p>When you run this code, you should see the following output:</p>
<pre><code>Hello Python world!</code></pre>
<p><span epub:type="pagebreak" title="16" id="Page_16"/>When you run the file <em>hello_world.py</em>, the ending <em>.py</em> indicates that the file is a Python program. Your editor then runs the file through the <em>Python interpreter</em>, which reads through the program and determines what each word in the program means. For example, when the interpreter sees the word <code>print</code> followed by parentheses, it prints to the screen whatever is inside the parentheses.</p>
<p>As you write your programs, your editor highlights different parts of your program in different ways. For example, it recognizes that <code>print()</code> is the name of a function and displays that word in one color. It recognizes that <code>"Hello Python world!"</code> is not Python code, and displays that phrase in a different color. This feature is called <em>syntax highlighting</em> and is quite useful as you start to write your own programs.</p>
<h2 id="h1-502703c02-0002">Variables</h2>
<p class="BodyFirst">Let’s try using a variable in <em>hello_world.py</em>. Add a new line at the beginning of the file, and modify the second line:</p>
<p class="CodeLabel"><b>hello_world.py</b></p>
<pre><code>message = "Hello Python world!"
print(message)</code></pre>
<p>Run this program to see what happens. You should see the same output you saw previously:</p>
<pre><code>Hello Python world!</code></pre>
<p>We’ve added a <em>variable</em> named <code>message</code>. Every variable is connected to a <em>value</em>, which is the information associated with that variable. In this case the value is the <code>"Hello Python world!"</code> text.</p>
<p>Adding a variable makes a little more work for the Python interpreter. When it processes the first line, it associates the variable <code>message</code> with the <code>"Hello Python world!"</code> text. When it reaches the second line, it prints the value associated with <code>message</code> to the screen.</p>
<p>Let’s expand on this program by modifying <em>hello_world.py</em> to print a second message. Add a blank line to <em>hello_world.py</em>, and then add two new lines of code:</p>
<pre><code><span class="LiteralGray">message = "Hello Python world!"</span>
<span class="LiteralGray">print(message)</span>

message = "Hello Python Crash Course world!"
print(message)</code></pre>
<p>Now when you run <em>hello_world.py</em>, you should see two lines of output:</p>
<pre><code>Hello Python world!
Hello Python Crash Course world!</code></pre>
<p>You can change the value of a variable in your program at any time, and Python will always keep track of its current value.</p>
<h3 id="h2-502703c02-0001"><span epub:type="pagebreak" title="17" id="Page_17"/>Naming and Using Variables</h3>
<p class="BodyFirst">When you’re using variables in Python, you need to adhere to a few rules and guidelines. Breaking some of these rules will cause errors; other guidelines just help you write code that’s easier to read and understand. Be sure to keep the following rules in mind when working with variables:</p>
<ul>
<li>Variable names can contain only letters, numbers, and underscores. They can start with a letter or an underscore, but not with a number. For instance, you can call a variable <code>message_1</code> but not <code>1_message</code>.</li>
<li>Spaces are not allowed in variable names, but underscores can be used to separate words in variable names. For example, <code>greeting_message</code> works but <code>greeting message</code> will cause errors.</li>
<li>Avoid using Python keywords and function names as variable names. For example, do not use the word <code>print</code> as a variable name; Python has reserved it for a particular programmatic purpose. (See “Python Keywords and Built-in Functions” on <span class="xref" itemid="xref_target_page 466">page 466</span>.)</li>
<li>Variable names should be short but descriptive. For example, <code>name</code> is better than <code>n</code>, <code>student_name</code> is better than <code>s_n</code>, and <code>name_length</code> is better than <code>length_of_persons_name</code>.</li>
<li>Be careful when using the lowercase letter <em>l</em> and the uppercase letter <em>O</em> because they could be confused with the numbers <em>1</em> and <em>0</em>.</li>
</ul>
<p>It can take some practice to learn how to create good variable names, especially as your programs become more interesting and complicated. As you write more programs and start to read through other people’s code, you’ll get better at coming up with meaningful names.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	The Python variables you’re using at this point should be lowercase. You won’t get errors if you use uppercase letters, but uppercase letters in variable names have special meanings that we’ll discuss in later chapters.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c02-0002">Avoiding Name Errors When Using Variables</h3>
<p class="BodyFirst">Every programmer makes mistakes, and most make mistakes every day. Although good programmers might create errors, they also know how to respond to those errors efficiently. Let’s look at an error you’re likely to make early on and learn how to fix it.</p>
<p>We’ll write some code that generates an error on purpose. Enter the following code, including the misspelled word <code>mesage</code><em>,</em> which is shown in bold:</p>
<pre><code>message = "Hello Python Crash Course reader!"
print(<b>mesage</b>)</code></pre>
<p>When an error occurs in your program, the Python interpreter does its best to help you figure out where the problem is. The interpreter provides a traceback when a program cannot run successfully. A <em>traceback</em> is a record of where the interpreter ran into trouble when trying to execute your code. <span epub:type="pagebreak" title="18" id="Page_18"/>Here’s an example of the traceback that Python provides after you’ve accidentally misspelled a variable’s name:</p>
<pre><code>Traceback (most recent call last):
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>   File "hello_world.py", line 2, in &lt;module&gt;
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     print(mesage)
          ^^^^^^
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> NameError: name 'mesage' is not defined. Did you mean: 'message'?</code></pre>
<p>The output reports that an error occurs in line 2 of the file <em>hello_world.py</em> <span class="CodeAnnotation" aria-label="annotation1">❶</span>. The interpreter shows this line <span class="CodeAnnotation" aria-label="annotation2">❷</span> to help us spot the error quickly and tells us what kind of error it found <span class="CodeAnnotation" aria-label="annotation3">❸</span>. In this case it found a <em>name error</em> and reports that the variable being printed, <code>mesage</code>, has not been defined. Python can’t identify the variable name provided. A name error usually means we either forgot to set a variable’s value before using it, or we made a spelling mistake when entering the variable’s name. If Python finds a variable name that’s similar to the one it doesn’t recognize, it will ask if that’s the name you meant to use.</p>
<p>In this example we omitted the letter <em>s</em> in the variable name <code>message</code> in the second line. The Python interpreter doesn’t spellcheck your code, but it does ensure that variable names are spelled consistently. For example, watch what happens when we spell <em>message</em> incorrectly in the line that defines the variable:</p>
<pre><code>mesage = "Hello Python Crash Course reader!"
<span class="LiteralGray">print(mesage)</span></code></pre>
<p>In this case, the program runs successfully!</p>
<pre><code>Hello Python Crash Course reader!</code></pre>
<p>The variable names match, so Python sees no issue. Programming languages are strict, but they disregard good and bad spelling. As a result, you don’t need to consider English spelling and grammar rules when you’re trying to create variable names and writing code.</p>
<p>Many programming errors are simple, single-character typos in one line of a program. If you find yourself spending a long time searching for one of these errors, know that you’re in good company. Many experienced and talented programmers spend hours hunting down these kinds of tiny errors. Try to laugh about it and move on, knowing it will happen frequently throughout your programming life.</p>
<h3 id="h2-502703c02-0003">Variables Are Labels</h3>
<p class="BodyFirst">Variables are often described as boxes you can store values in. This idea can be helpful the first few times you use a variable, but it isn’t an accurate way to describe how variables are represented internally in Python. It’s much better to think of variables as labels that you can assign to values. You can also say that a variable references a certain value.</p>
<p><span epub:type="pagebreak" title="19" id="Page_19"/>This distinction probably won’t matter much in your initial programs, but it’s worth learning earlier rather than later. At some point, you’ll see unexpected behavior from a variable, and an accurate understanding of how variables work will help you identify what’s happening in your code.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	The best way to understand new programming concepts is to try using them in your programs. If you get stuck while working on an exercise in this book, try doing something else for a while. If you’re still stuck, review the relevant part of that chapter. If you still need help, see the suggestions in <span class="xref" itemid="xref_target_Appendix C">Appendix C</span>.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyFirst">Write a separate program to accomplish each of these exercises. Save each program with a filename that follows standard Python conventions, using lowercase letters and underscores, such as <em>simple_message.py</em> and <em>simple_messages.py</em>.</p>
<p class="BoxBodyCustom"><span id="h2-502703c02-04" class="BoxNumber">2-1. Simple Message:</span> Assign a message to a variable, and then print that message.</p>
<p class="BoxBodyCustom"><span id="h2-502703c02-05" class="BoxNumber">2-2. Simple Messages:</span> Assign a message to a variable, and print that message. Then change the value of the variable to a new message, and print the new message.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c02-0003">Strings</h2>
<p class="BodyFirst">Because most programs define and gather some sort of data and then do something useful with it, it helps to classify different types of data. The first data type we’ll look at is the string. Strings are quite simple at first glance, but you can use them in many different ways.</p>
<p>A <em>string</em> is a series of characters. Anything inside quotes is considered a string in Python, and you can use single or double quotes around your strings like this:</p>
<pre><code>"This is a string."
'This is also a string.'</code></pre>
<p>This flexibility allows you to use quotes and apostrophes within your strings:</p>
<pre><code>'I told my friend, "Python is my favorite language!"'
"The language 'Python' is named after Monty Python, not the snake."
"One of Python's strengths is its diverse and supportive community."</code></pre>
<p>Let’s explore some of the ways you can use strings.</p>
<h3 id="h2-502703c02-0004"><span epub:type="pagebreak" title="20" id="Page_20"/>Changing Case in a String with Methods</h3>
<p class="BodyFirst">One of the simplest tasks you can do with strings is change the case of the words in a string. Look at the following code, and try to determine what’s happening:</p>
<p class="CodeLabel"><b>name.py</b></p>
<pre><code>name = "ada lovelace"
print(name.title())</code></pre>
<p>Save this file as <em>name.py</em> and then run it. You should see this output:</p>
<pre><code>Ada Lovelace</code></pre>
<p>In this example, the variable <code>name</code> refers to the lowercase string <code>"ada lovelace"</code>. The method <code>title()</code> appears after the variable in the <code>print()</code> call. A <em>method</em> is an action that Python can perform on a piece of data. The dot (<code>.</code>) after <code>name</code> in <code>name.title()</code> tells Python to make the <code>title()</code> method act on the variable <code>name</code>. Every method is followed by a set of parentheses, because methods often need additional information to do their work. That information is provided inside the parentheses. The <code>title()</code> function doesn’t need any additional information, so its parentheses are empty.</p>
<p>The <code>title()</code> method changes each word to title case, where each word begins with a capital letter. This is useful because you’ll often want to think of a name as a piece of information. For example, you might want your program to recognize the input values <code>Ada</code>, <code>ADA</code>, and <code>ada</code> as the same name, and display all of them as <code>Ada</code>.</p>
<p>Several other useful methods are available for dealing with case as well. For example, you can change a string to all uppercase or all lowercase letters like this:</p>
<pre><code>name = "Ada Lovelace"
print(name.upper())
print(name.lower())</code></pre>
<p>This will display the following:</p>
<pre><code>ADA LOVELACE
ada lovelace</code></pre>
<p>The <code>lower()</code> method is particularly useful for storing data. You typically won’t want to trust the capitalization that your users provide, so you’ll convert strings to lowercase before storing them. Then when you want to display the information, you’ll use the case that makes the most sense for each string.</p>
<h3 id="h2-502703c02-0005">Using Variables in Strings</h3>
<p class="BodyFirst">In some situations, you’ll want to use a variable’s value inside a string. For example, you might want to use two variables to represent a first name and <span epub:type="pagebreak" title="21" id="Page_21"/>a last name, respectively, and then combine those values to display someone’s full name:</p>
<p class="CodeLabel"><b>full_name.py</b></p>
<pre><code>first_name = "ada"
last_name = "lovelace"
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> full_name = f"{first_name} {last_name}"
print(full_name)</code></pre>
<p>To insert a variable’s value into a string, place the letter <code>f</code> immediately before the opening quotation mark <span class="CodeAnnotation" aria-label="annotation1">❶</span>. Put braces around the name or names of any variable you want to use inside the string. Python will replace each variable with its value when the string is displayed.</p>
<p>These strings are called <em>f-strings</em>. The <em>f</em> is for <em>format</em>, because Python formats the string by replacing the name of any variable in braces with its value. The output from the previous code is:</p>
<pre><code>ada lovelace</code></pre>
<p>You can do a lot with f-strings. For example, you can use f-strings to compose complete messages using the information associated with a variable, as shown here:</p>
<pre><code><span class="LiteralGray">first_name = "ada"</span>
<span class="LiteralGray">last_name = "lovelace"</span>
<span class="LiteralGray">full_name = f"{first_name} {last_name}"</span>
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> print(f"Hello, {full_name.title()}!")</code></pre>
<p>The full name is used in a sentence that greets the user <span class="CodeAnnotation" aria-label="annotation1">❶</span>, and the <code>title()</code> method changes the name to title case. This code returns a simple but nicely formatted greeting:</p>
<pre><code>Hello, Ada Lovelace!</code></pre>
<p>You can also use f-strings to compose a message, and then assign the entire message to a variable:</p>
<pre><code><span class="LiteralGray">first_name = "ada"</span>
<span class="LiteralGray">last_name = "lovelace"</span>
<span class="LiteralGray">full_name = f"{first_name} {last_name}"</span>
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> message = f"Hello, {full_name.title()}!"
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> print(message)</code></pre>
<p>This code displays the message <code>Hello, Ada Lovelace!</code> as well, but by assigning the message to a variable <span class="CodeAnnotation" aria-label="annotation1">❶</span> we make the final <code>print()</code> call much simpler <span class="CodeAnnotation" aria-label="annotation2">❷</span>. </p>
<h3 id="h2-502703c02-0006">Adding Whitespace to Strings with Tabs or Newlines</h3>
<p class="BodyFirst">In programming, <em>whitespace</em> refers to any nonprinting characters, such as spaces, tabs, and end-of-line symbols. You can use whitespace to organize your output so it’s easier for users to read.</p>
<p><span epub:type="pagebreak" title="22" id="Page_22"/>To add a tab to your text, use the character combination <code>\t</code>:</p>
<pre><code>&gt;&gt;&gt; <b>print("Python")</b>
Python
&gt;&gt;&gt; <b>print("\tPython")</b>
    Python</code></pre>
<p>To add a newline in a string, use the character combination <code>\n</code>:</p>
<pre><code>&gt;&gt;&gt; <b>print("Languages:\nPython\nC\nJavaScript")</b>
Languages:
Python
C
JavaScript</code></pre>
<p>You can also combine tabs and newlines in a single string. The string <code>"\n\t"</code> tells Python to move to a new line, and start the next line with a tab. The following example shows how you can use a one-line string to generate four lines of output:</p>
<pre><code>&gt;&gt;&gt; <b>print("Languages:\n\tPython\n\tC\n\tJavaScript")</b>
Languages:
    Python
    C
    JavaScript</code></pre>
<p>Newlines and tabs will be very useful in the next two chapters, when you start to produce many lines of output from just a few lines of code.</p>
<h3 id="h2-502703c02-0007">Stripping Whitespace</h3>
<p class="BodyFirst">Extra whitespace can be confusing in your programs. To programmers, <code>'python'</code> and <code>'python '</code> look pretty much the same. But to a program, they are two different strings. Python detects the extra space in <code>'python '</code> and considers it significant unless you tell it otherwise.</p>
<p>It’s important to think about whitespace, because often you’ll want to compare two strings to determine whether they are the same. For example, one important instance might involve checking people’s usernames when they log in to a website. Extra whitespace can be confusing in much simpler situations as well. Fortunately, Python makes it easy to eliminate extra whitespace from data that people enter.</p>
<p>Python can look for extra whitespace on the right and left sides of a string. To ensure that no whitespace exists at the right side of a string, use the <code>rstrip()</code> method:</p>
<pre><code><span class="CodeAnnotationHang" aria-label="annotation1">❶</span> &gt;&gt;&gt; <b>favorite_language = 'python '</b>
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> &gt;&gt;&gt; <b>favorite_language</b>
'python '
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> &gt;&gt;&gt; <b>favorite_language.rstrip()</b>
'python'
<span class="CodeAnnotationHang" aria-label="annotation4">❹</span> &gt;&gt;&gt; <b>favorite_language</b>
'python '</code></pre>
<p><span epub:type="pagebreak" title="23" id="Page_23"/>The value associated with <code>favorite_language</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span> contains extra whitespace at the end of the string. When you ask Python for this value in a terminal session, you can see the space at the end of the value <span class="CodeAnnotation" aria-label="annotation2">❷</span>. When the <code>rstrip()</code> method acts on the variable <code>favorite_language</code> <span class="CodeAnnotation" aria-label="annotation3">❸</span>, this extra space is removed. However, it is only removed temporarily. If you ask for the value of <code>favorite_language</code> again, the string looks the same as when it was entered, including the extra whitespace <span class="CodeAnnotation" aria-label="annotation4">❹</span>.</p>
<p>To remove the whitespace from the string permanently, you have to associate the stripped value with the variable name:</p>
<pre><code>&gt;&gt;&gt; <b>favorite_language = 'python '</b>
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> &gt;&gt;&gt; <b>favorite_language = favorite_language.rstrip()</b>
&gt;&gt;&gt; <b>favorite_language</b>
'python'</code></pre>
<p>To remove the whitespace from the string, you strip the whitespace from the right side of the string and then associate this new value with the original variable <span class="CodeAnnotation" aria-label="annotation1">❶</span>. Changing a variable’s value is done often in programming. This is how a variable’s value can be updated as a program is executed or in response to user input.</p>
<p>You can also strip whitespace from the left side of a string using the <code>lstrip()</code> method, or from both sides at once using <code>strip()</code>:</p>
<pre><code><span class="CodeAnnotationHang" aria-label="annotation1">❶</span> &gt;&gt;&gt; <b>favorite_language = ' python '</b>
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> &gt;&gt;&gt; <b>favorite_language.rstrip()</b>
' python'
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> &gt;&gt;&gt; <b>favorite_language.lstrip()</b>
'python '
<span class="CodeAnnotationHang" aria-label="annotation4">❹</span> &gt;&gt;&gt; <b>favorite_language.strip()</b>
'python'</code></pre>
<p>In this example, we start with a value that has whitespace at the beginning and the end <span class="CodeAnnotation" aria-label="annotation1">❶</span>. We then remove the extra space from the right side <span class="CodeAnnotation" aria-label="annotation2">❷</span>, from the left side <span class="CodeAnnotation" aria-label="annotation3">❸</span>, and from both sides <span class="CodeAnnotation" aria-label="annotation4">❹</span>. Experimenting with these stripping functions can help you become familiar with manipulating strings. In the real world, these stripping functions are used most often to clean up user input before it’s stored in a program.</p>
<h3 id="h2-502703c02-0008">Removing Prefixes</h3>
<p class="BodyFirst">When working with strings, another common task is to remove a prefix. Consider a URL with the common prefix <em>https://</em>. We want to remove this prefix, so we can focus on just the part of the URL that users need to enter into an address bar. Here’s how to do that:</p>
<pre><code>&gt;&gt;&gt; nostarch_url = 'https://nostarch.com'
&gt;&gt;&gt; nostarch_url.removeprefix('https://')
'nostarch.com'</code></pre>
<p><span epub:type="pagebreak" title="24" id="Page_24"/>Enter the name of the variable followed by a dot, and then the method <code>removeprefix()</code>. Inside the parentheses, enter the prefix you want to remove from the original string.</p>
<p>Like the methods for removing whitespace, <code>removeprefix()</code> leaves the original string unchanged. If you want to keep the new value with the prefix removed, either reassign it to the original variable or assign it to a new variable:</p>
<pre><code>&gt;&gt;&gt; simple_url = nostarch_url.removeprefix('https://')</code></pre>
<p>When you see a URL in an address bar and the <em>https://</em> part isn’t shown, the browser is probably using a method like <code>removeprefix()</code> behind the scenes.</p>
<h3 id="h2-502703c02-0009">Avoiding Syntax Errors with Strings</h3>
<p class="BodyFirst">One kind of error that you might see with some regularity is a syntax error. A <em>syntax error</em> occurs when Python doesn’t recognize a section of your program as valid Python code. For example, if you use an apostrophe within single quotes, you’ll produce an error. This happens because Python interprets everything between the first single quote and the apostrophe as a string. It then tries to interpret the rest of the text as Python code, which causes errors.</p>
<p>Here’s how to use single and double quotes correctly. Save this program as <em>apostrophe.py</em> and then run it:</p>
<p class="CodeLabel"><b>apostrophe.py</b></p>
<pre><code>message = "One of Python's strengths is its diverse community."
print(message)</code></pre>
<p>The apostrophe appears inside a set of double quotes, so the Python interpreter has no trouble reading the string correctly:</p>
<pre><code>One of Python's strengths is its diverse community.</code></pre>
<p>However, if you use single quotes, Python can’t identify where the string should end:</p>
<pre><code>message = 'One of Python's strengths is its diverse community.'
<span class="LiteralGray">print(message)</span></code></pre>
<p>You’ll see the following output:</p>
<pre><code>  File "apostrophe.py", line 1
    message = 'One of Python's strengths is its diverse community.'
                                                                <span class="CodeAnnotationCode" aria-label="annotation1">❶</span> ^
SyntaxError: unterminated string literal (detected at line 1)</code></pre>
<p>In the output you can see that the error occurs right after the final single quote <span class="CodeAnnotation" aria-label="annotation1">❶</span>. This syntax error indicates that the interpreter doesn’t recognize <span epub:type="pagebreak" title="25" id="Page_25"/>something in the code as valid Python code, and it thinks the problem might be a string that’s not quoted correctly. Errors can come from a variety of sources, and I’ll point out some common ones as they arise. You might see syntax errors often as you learn to write proper Python code. Syntax errors are also the least specific kind of error, so they can be difficult and frustrating to identify and correct. If you get stuck on a particularly stubborn error, see the suggestions in <span class="xref" itemid="xref_target_Appendix C">Appendix C</span>.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	Your editor’s syntax highlighting feature should help you spot some syntax errors quickly as you write your programs. If you see Python code highlighted as if it’s English or English highlighted as if it’s Python code, you probably have a mismatched quotation mark somewhere in your file.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyFirst">Save each of the following exercises as a separate file, with a name like <em>name_cases.py</em>. If you get stuck, take a break or see the suggestions in <span class="xref" itemid="xref_target_Appendix C">Appendix C</span>.</p>
<p class="BoxBodyCustom"><span id="h2-502703c02-12" class="BoxNumber">2-3. Personal Message:</span> Use a variable to represent a person’s name, and print a message to that person. Your message should be simple, such as, “Hello Eric, would you like to learn some Python today?”</p>
<p class="BoxBodyCustom"><span id="h2-502703c02-13" class="BoxNumber">2-4. Name Cases:</span> Use a variable to represent a person’s name, and then print that person’s name in lowercase, uppercase, and title case.</p>
<p class="BoxBodyCustom"><span id="h2-502703c02-14" class="BoxNumber">2-5. Famous Quote:</span> Find a quote from a famous person you admire. Print the quote and the name of its author. Your output should look something like the following, including the quotation marks:</p>
<blockquote><p class="BoxExtractPara">Albert Einstein once said, “A person who never made a mistake never tried anything new.”</p></blockquote>
<p class="BoxBodyCustom"><span id="h2-502703c02-15" class="BoxNumber">2-6. Famous Quote 2:</span> Repeat Exercise 2-5, but this time, represent the famous person’s name using a variable called <code>famous_person</code>. Then compose your message and represent it with a new variable called <code>message</code>. Print your message.</p>
<p class="BoxBodyCustom"><span id="h2-502703c02-16" class="BoxNumber">2-7. Stripping Names:</span> Use a variable to represent a person’s name, and include some whitespace characters at the beginning and end of the name. Make sure you use each character combination, <code>"\t"</code> and <code>"\n"</code>, at least once.</p>
<p>Print the name once, so the whitespace around the name is displayed. Then print the name using each of the three stripping functions, <code>lstrip()</code>, <code>rstrip()</code>, and <code>strip()</code>.</p>
<p class="BoxBodyCustom"><span id="h2-502703c02-17" class="BoxNumber">2-8. File Extensions:</span> Python has a <code>removesuffix()</code> method that works exactly like <code>removeprefix()</code>. Assign the value <code>'python_notes.txt'</code> to a variable called <code>filename</code>. Then use the <code>removesuffix()</code> method to display the filename without the file extension, like some file browsers do.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c02-0004"><span epub:type="pagebreak" title="26" id="Page_26"/>Numbers</h2>
<p class="BodyFirst">Numbers are used quite often in programming to keep score in games, represent data in visualizations, store information in web applications, and so on. Python treats numbers in several different ways, depending on how they’re being used. Let’s first look at how Python manages integers, because they’re the simplest to work with.</p>
<h3 id="h2-502703c02-0010">Integers</h3>
<p class="BodyFirst">You can add (<code>+</code>), subtract (<code>-</code>), multiply (<code>*</code>), and divide (<code>/</code>) integers in Python.</p>
<pre><code>&gt;&gt;&gt; <b>2 + 3</b>
5
&gt;&gt;&gt; <b>3 - 2</b>
1
&gt;&gt;&gt; <b>2 * 3</b>
6
&gt;&gt;&gt; <b>3 / 2</b>
1.5</code></pre>
<p>In a terminal session, Python simply returns the result of the operation. Python uses two multiplication symbols to represent exponents:</p>
<pre><code>&gt;&gt;&gt; <b>3 ** 2</b>
9
&gt;&gt;&gt; <b>3 ** 3</b>
27
&gt;&gt;&gt; <b>10 ** 6</b>
1000000</code></pre>
<p>Python supports the order of operations too, so you can use multiple operations in one expression. You can also use parentheses to modify the order of operations so Python can evaluate your expression in the order you specify. For example:</p>
<pre><code>&gt;&gt;&gt; <b>2 + 3*4</b>
14
&gt;&gt;&gt; <b>(2 + 3) * 4</b>
20</code></pre>
<p>The spacing in these examples has no effect on how Python evaluates the expressions; it simply helps you more quickly spot the operations that have priority when you’re reading through the code.</p>
<h3 id="h2-502703c02-0011">Floats</h3>
<p class="BodyFirst">Python calls any number with a decimal point a <em>float</em>. This term is used in most programming languages, and it refers to the fact that a decimal point <span epub:type="pagebreak" title="27" id="Page_27"/>can appear at any position in a number. Every programming language must be carefully designed to properly manage decimal numbers so numbers behave appropriately, no matter where the decimal point appears.</p>
<p>For the most part, you can use floats without worrying about how they behave. Simply enter the numbers you want to use, and Python will most likely do what you expect:</p>
<pre><code>&gt;&gt;&gt; <b>0.1 + 0.1</b>
0.2
&gt;&gt;&gt; <b>0.2 + 0.2</b>
0.4
&gt;&gt;&gt; <b>2 * 0.1</b>
0.2
&gt;&gt;&gt; <b>2 * 0.2</b>
0.4</code></pre>
<p>However, be aware that you can sometimes get an arbitrary number of decimal places in your answer:</p>
<pre><code>&gt;&gt;&gt; <b>0.2 + 0.1</b>
0.30000000000000004
&gt;&gt;&gt; <b>3 * 0.1</b>
0.30000000000000004</code></pre>
<p>This happens in all languages and is of little concern. Python tries to find a way to represent the result as precisely as possible, which is sometimes difficult given how computers have to represent numbers internally. Just ignore the extra decimal places for now; you’ll learn ways to deal with the extra places when you need to in the projects in <span class="xref" itemid="xref_target_Part II">Part II</span>.</p>
<h3 id="h2-502703c02-0012">Integers and Floats</h3>
<p class="BodyFirst">When you divide any two numbers, even if they are integers that result in a whole number, you’ll always get a float:</p>
<pre><code>&gt;&gt;&gt; <b>4/2</b>
2.0</code></pre>
<p>If you mix an integer and a float in any other operation, you’ll get a float as well:</p>
<pre><code>&gt;&gt;&gt; <b>1 + 2.0</b>
3.0
&gt;&gt;&gt; <b>2 * 3.0</b>
6.0
&gt;&gt;&gt; <b>3.0 ** 2</b>
9.0</code></pre>
<p><span epub:type="pagebreak" title="28" id="Page_28"/>Python defaults to a float in any operation that uses a float, even if the output is a whole number.</p>
<h3 id="h2-502703c02-0013">Underscores in Numbers</h3>
<p class="BodyFirst">When you’re writing long numbers, you can group digits using underscores to make large numbers more readable:</p>
<pre><code>&gt;&gt;&gt; <b>universe_age = 14_000_000_000</b></code></pre>
<p>When you print a number that was defined using underscores, Python prints only the digits:</p>
<pre><code>&gt;&gt;&gt; <b>print(universe_age)</b>
14000000000</code></pre>
<p>Python ignores the underscores when storing these kinds of values. Even if you don’t group the digits in threes, the value will still be unaffected. To Python, <code>1000</code> is the same as <code>1_000</code>, which is the same as <code>10_00</code>. This feature works for both integers and floats.</p>
<h3 id="h2-502703c02-0014">Multiple Assignment</h3>
<p class="BodyFirst">You can assign values to more than one variable using just a single line of code. This can help shorten your programs and make them easier to read; you’ll use this technique most often when initializing a set of numbers.</p>
<p>For example, here’s how you can initialize the variables <code>x</code>, <code>y</code>, and <code>z</code> to zero:</p>
<pre><code>&gt;&gt;&gt; <b>x, y, z = 0, 0, 0</b></code></pre>
<p>You need to separate the variable names with commas, and do the same with the values, and Python will assign each value to its respective variable. As long as the number of values matches the number of variables, Python will match them up correctly.</p>
<h3 id="h2-502703c02-0015">Constants</h3>
<p class="BodyFirst">A <em>constant</em> is a variable whose value stays the same throughout the life of a program. Python doesn’t have built-in constant types, but Python programmers use all capital letters to indicate a variable should be treated as a constant and never be changed:</p>
<pre><code>MAX_CONNECTIONS = 5000</code></pre>
<p>When you want to treat a variable as a constant in your code, write the name of the variable in all capital letters.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2><span epub:type="pagebreak" title="29" id="Page_29"/>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c02-24" class="BoxNumber">2-9. Number Eight:</span> Write addition, subtraction, multiplication, and division operations that each result in the number 8. Be sure to enclose your operations in <code>print()</code> calls to see the results. You should create four lines that look like this:</p>
<pre><code>print(5+3)</code></pre>
<p>Your output should be four lines, with the number 8 appearing once on each line.</p>
<p class="BoxBodyCustom"><span id="h2-502703c02-25" class="BoxNumber">2-10. Favorite Number:</span> Use a variable to represent your favorite number. Then, using that variable, create a message that reveals your favorite number. Print that message.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c02-0005">Comments</h2>
<p class="BodyFirst">Comments are an extremely useful feature in most programming languages. Everything you’ve written in your programs so far is Python code. As your programs become longer and more complicated, you should add notes within your programs that describe your overall approach to the problem you’re solving. A <em>comment</em> allows you to write notes in your spoken language, within your programs.</p>
<h3 id="h2-502703c02-0016">How Do You Write Comments?</h3>
<p class="BodyFirst">In Python, the hash mark (<code>#</code>) indicates a comment. Anything following a hash mark in your code is ignored by the Python interpreter. For example:</p>
<p class="CodeLabel"><b>comment.py</b></p>
<pre><code># Say hello to everyone.
print("Hello Python people!")</code></pre>
<p>Python ignores the first line and executes the second line.</p>
<pre><code>Hello Python people!</code></pre>
<h3 id="h2-502703c02-0017">What Kinds of Comments Should You Write?</h3>
<p class="BodyFirst">The main reason to write comments is to explain what your code is supposed to do and how you are making it work. When you’re in the middle of working on a project, you understand how all of the pieces fit together. But when you return to a project after some time away, you’ll likely have <span epub:type="pagebreak" title="30" id="Page_30"/>forgotten some of the details. You can always study your code for a while and figure out how segments were supposed to work, but writing good comments can save you time by summarizing your overall approach clearly.</p>
<p>If you want to become a professional programmer or collaborate with other programmers, you should write meaningful comments. Today, most software is written collaboratively, whether by a group of employees at one company or a group of people working together on an open source project. Skilled programmers expect to see comments in code, so it’s best to start adding descriptive comments to your programs now. Writing clear, concise comments in your code is one of the most beneficial habits you can form as a new programmer.</p>
<p>When you’re deciding whether to write a comment, ask yourself if you had to consider several approaches before coming up with a reasonable way to make something work; if so, write a comment about your solution. It’s much easier to delete extra comments later than to go back and write comments for a sparsely commented program. From now on, I’ll use comments in examples throughout this book to help explain sections of code.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c02-28" class="BoxNumber">2-11. Adding Comments</span><b>:</b> Choose two of the programs you’ve written, and add at least one comment to each. If you don’t have anything specific to write because your programs are too simple at this point, just add your name and the current date at the top of each program file. Then write one sentence describing what the program does.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c02-0006">The Zen of Python</h2>
<p class="BodyFirst">Experienced Python programmers will encourage you to avoid complexity and aim for simplicity whenever possible. The Python community’s philosophy is contained in “The Zen of Python” by Tim Peters. You can access this brief set of principles for writing good Python code by entering <code>import this</code> into your interpreter. I won’t reproduce the entire “Zen of Python” here, but I’ll share a few lines to help you understand why they should be important to you as a beginning Python programmer.</p>
<pre><code>&gt;&gt;&gt; <b>import this</b>
The Zen of Python, by Tim Peters
Beautiful is better than ugly.</code></pre>
<p>Python programmers embrace the notion that code can be beautiful and elegant. In programming, people solve problems. Programmers have always respected well-designed, efficient, and even beautiful solutions to problems. As you learn more about Python and use it to write more code, <span epub:type="pagebreak" title="31" id="Page_31"/>someone might look over your shoulder one day and say, “Wow, that’s some beautiful code!”</p>
<pre><code>Simple is better than complex.</code></pre>
<p>If you have a choice between a simple and a complex solution, and both work, use the simple solution. Your code will be easier to maintain, and it will be easier for you and others to build on that code later on.</p>
<pre><code>Complex is better than complicated.</code></pre>
<p>Real life is messy, and sometimes a simple solution to a problem is unattainable. In that case, use the simplest solution that works.</p>
<pre><code>Readability counts.</code></pre>
<p>Even when your code is complex, aim to make it readable. When you’re working on a project that involves complex coding, focus on writing informative comments for that code.</p>
<pre><code>There should be one-- and preferably only one --obvious way to do it.</code></pre>
<p>If two Python programmers are asked to solve the same problem, they should come up with fairly compatible solutions. This is not to say there’s no room for creativity in programming. On the contrary, there is plenty of room for creativity! However, much of programming consists of using small, common approaches to simple situations within a larger, more creative project. The nuts and bolts of your programs should make sense to other Python programmers.</p>
<pre><code>Now is better than never.</code></pre>
<p>You could spend the rest of your life learning all the intricacies of Python and of programming in general, but then you’d never complete any projects. Don’t try to write perfect code; write code that works, and then decide whether to improve your code for that project or move on to something new.</p>
<p>As you continue to the next chapter and start digging into more involved topics, try to keep this philosophy of simplicity and clarity in mind. Experienced programmers will respect your code more and will be happy to give you feedback and collaborate with you on interesting projects.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c02-29" class="BoxNumber">2-12. Zen of Python:</span> Enter <code>import this</code> into a Python terminal session and skim through the additional principles.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c02-0007"><span epub:type="pagebreak" title="32" id="Page_32"/>Summary</h2>
<p class="BodyFirst">In this chapter you learned how to work with variables. You learned to use descriptive variable names and resolve name errors and syntax errors when they arise. You learned what strings are and how to display them using lowercase, uppercase, and title case. You started using whitespace to organize output neatly, and you learned how to remove unneeded elements from a string. You started working with integers and floats, and you learned some of the ways you can work with numerical data. You also learned to write explanatory comments to make your code easier for you and others to read. Finally, you read about the philosophy of keeping your code as simple as possible, whenever possible.</p>
<p>In <span class="xref" itemid="xref_target_Chapter 3">Chapter 3</span>, you’ll learn how to store collections of information in data structures called <em>lists</em>. You’ll also learn how to work through a list, manipulating any information in that list.</p>
</section>
</div>
<div id="sbo-rt-content"><section>
<header>
<h1 class="chapter">
<span class="ChapterNumber"><span epub:type="pagebreak" title="33" id="Page_33"/>3</span><br/>
<span class="ChapterTitle">Introducing Lists</span></h1>
</header>
<figure class="opener">
<img src="Images/chapterart.png" alt="" width="406" height="406"/>
</figure>
<p class="ChapterIntro">In this chapter and the next you’ll learn what lists are and how to start working with the elements in a list. Lists allow you to store sets of information in one place, whether you have just a few items or millions of items. Lists are one of Python’s most powerful features readily accessible to new programmers, and they tie together many important concepts in programming.</p>
<h2 id="h1-502703c03-0001">What Is a List?</h2>
<p class="BodyFirst">A <em>list</em> is a collection of items in a particular order. You can make a list that includes the letters of the alphabet, the digits from 0 to 9, or the names of all the people in your family. You can put anything you want into a list, and the items in your list don’t have to be related in any particular way. Because <span epub:type="pagebreak" title="34" id="Page_34"/>a list usually contains more than one element, it’s a good idea to make the name of your list plural, such as <code>letters</code>, <code>digits</code>, or <code>names</code>.</p>
<p>In Python, square brackets (<code>[]</code>) indicate a list, and individual elements in the list are separated by commas. Here’s a simple example of a list that contains a few kinds of bicycles:</p>
<p class="CodeLabel"><b>bicycles.py</b></p>
<pre><code>bicycles = ['trek', 'cannondale', 'redline', 'specialized']
print(bicycles)</code></pre>
<p>If you ask Python to print a list, Python returns its representation of the list, including the square brackets:</p>
<pre><code>['trek', 'cannondale', 'redline', 'specialized']</code></pre>
<p>Because this isn’t the output you want your users to see, let’s learn how to access the individual items in a list.</p>
<h3 id="h2-502703c03-0001">Accessing Elements in a List</h3>
<p class="BodyFirst">Lists are ordered collections, so you can access any element in a list by telling Python the position, or<em> index</em>, of the item desired. To access an element in a list, write the name of the list followed by the index of the item enclosed in square brackets.</p>
<p>For example, let’s pull out the first bicycle in the list <code>bicycles</code>:</p>
<pre><code><span class="LiteralGray">bicycles = ['trek', 'cannondale', 'redline', 'specialized']</span>
print(bicycles[0])</code></pre>
<p>When we ask for a single item from a list, Python returns just that element without square brackets:</p>
<pre><code>trek</code></pre>
<p>This is the result you want your users to see: clean, neatly formatted output.</p>
<p>You can also use the string methods from <span class="xref" itemid="xref_target_Chapter 2">Chapter 2</span> on any element in this list. For example, you can format the element <code>'trek'</code> to look more presentable by using the <code>title()</code> method:</p>
<pre><code><span class="LiteralGray">bicycles = ['trek', 'cannondale', 'redline', 'specialized']</span>
print(bicycles[0].title())</code></pre>
<p>This example produces the same output as the preceding example, except <code>'Trek'</code> is capitalized.</p>
<h3 id="h2-502703c03-0002">Index Positions Start at 0, Not 1</h3>
<p class="BodyFirst">Python considers the first item in a list to be at position 0, not position 1. This is true of most programming languages, and the reason has to do with <span epub:type="pagebreak" title="35" id="Page_35"/>how the list operations are implemented at a lower level. If you’re receiving unexpected results, ask yourself if you’re making a simple but common off-by-one error.</p>
<p>The second item in a list has an index of 1. Using this counting system, you can get any element you want from a list by subtracting one from its position in the list. For instance, to access the fourth item in a list, you request the item at index 3.</p>
<p>The following asks for the bicycles at index <code>1</code> and index <code>3</code>:</p>
<pre><code><span class="LiteralGray">bicycles = ['trek', 'cannondale', 'redline', 'specialized']</span>
print(bicycles[1])
print(bicycles[3])</code></pre>
<p>This code returns the second and fourth bicycles in the list:</p>
<pre><code>cannondale
specialized</code></pre>
<p>Python has a special syntax for accessing the last element in a list. If you ask for the item at index <code>-1</code>, Python always returns the last item in the list:</p>
<pre><code><span class="LiteralGray">bicycles = ['trek', 'cannondale', 'redline', 'specialized']</span>
print(bicycles[-1])</code></pre>
<p>This code returns the value <code>'specialized'</code>. This syntax is quite useful, because you’ll often want to access the last items in a list without knowing exactly how long the list is. This convention extends to other negative index values as well. The index <code>-2</code> returns the second item from the end of the list, the index <code>-3</code> returns the third item from the end, and so forth.</p>
<h3 id="h2-502703c03-0003">Using Individual Values from a List</h3>
<p class="BodyFirst">You can use individual values from a list just as you would any other variable. For example, you can use f-strings to create a message based on a value from a list.</p>
<p>Let’s try pulling the first bicycle from the list and composing a message using that value:</p>
<pre><code><span class="LiteralGray">bicycles = ['trek', 'cannondale', 'redline', 'specialized']</span>
message = f"My first bicycle was a {bicycles[0].title()}."

print(message)</code></pre>
<p>We build a sentence using the value at <code>bicycles[0]</code> and assign it to the variable <code>message</code>. The output is a simple sentence about the first bicycle in the list:</p>
<pre><code>My first bicycle was a Trek.</code></pre>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2><span epub:type="pagebreak" title="36" id="Page_36"/>Try It Yourself</h2>
<p class="BoxBodyFirst">Try these short programs to get some firsthand experience with Python’s lists. You might want to create a new folder for each chapter’s exercises, to keep them organized.</p>
<p class="BoxBodyCustom"><span id="h2-502703c03-04" class="BoxNumber">3-1. Names:</span> Store the names of a few of your friends in a list called <code>names</code>. Print each person’s name by accessing each element in the list, one at a time.</p>
<p class="BoxBodyCustom"><span id="h2-502703c03-05" class="BoxNumber">3-2. Greetings:</span> Start with the list you used in Exercise 3-1, but instead of just printing each person’s name, print a message to them. The text of each message should be the same, but each message should be personalized with the person’s name.</p>
<p class="BoxBodyCustom"><span id="h2-502703c03-06" class="BoxNumber">3-3. Your Own List:</span> Think of your favorite mode of transportation, such as a motorcycle or a car, and make a list that stores several examples. Use your list to print a series of statements about these items, such as “I would like to own a Honda motorcycle.”</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c03-0002">Modifying, Adding, and Removing Elements</h2>
<p class="BodyFirst">Most lists you create will be <em>dynamic</em>, meaning you’ll build a list and then add and remove elements from it as your program runs its course. For example, you might create a game in which a player has to shoot aliens out of the sky. You could store the initial set of aliens in a list and then remove an alien from the list each time one is shot down. Each time a new alien appears on the screen, you add it to the list. Your list of aliens will increase and decrease in length throughout the course of the game.</p>
<h3 id="h2-502703c03-0004">Modifying Elements in a List</h3>
<p class="BodyFirst">The syntax for modifying an element is similar to the syntax for accessing an element in a list. To change an element, use the name of the list followed by the index of the element you want to change, and then provide the new value you want that item to have.</p>
<p>For example, say we have a list of motorcycles and the first item in the list is <code>'honda'</code>. We can change the value of this first item after the list has been created:</p>
<p class="CodeLabel"><b>motorcycles.py</b></p>
<pre><code>motorcycles = ['honda', 'yamaha', 'suzuki']
print(motorcycles)

motorcycles[0] = 'ducati'
print(motorcycles)</code></pre>
<p><span epub:type="pagebreak" title="37" id="Page_37"/>Here we define the list <code>motorcycles</code>, with <code>'honda'</code> as the first element. Then we change the value of the first item to <code>'ducati'</code>. The output shows that the first item has been changed, while the rest of the list stays the same:</p>
<pre><code>['honda', 'yamaha', 'suzuki']
['ducati', 'yamaha', 'suzuki']</code></pre>
<p>You can change the value of any item in a list, not just the first item.</p>
<h3 id="h2-502703c03-0005">Adding Elements to a List</h3>
<p class="BodyFirst">You might want to add a new element to a list for many reasons. For example, you might want to make new aliens appear in a game, add new data to a visualization, or add new registered users to a website you’ve built. Python provides several ways to add new data to existing lists.</p>
<h4 id="h3-502703c03-0001">Appending Elements to the End of a List</h4>
<p class="BodyFirst">The simplest way to add a new element to a list is to <em>append</em> the item to the list. When you append an item to a list, the new element is added to the end of the list. Using the same list we had in the previous example, we’ll add the new element <code>'ducati'</code> to the end of the list:</p>
<pre><code><span class="LiteralGray">motorcycles = ['honda', 'yamaha', 'suzuki']</span>
<span class="LiteralGray">print(motorcycles)</span>

motorcycles.append('ducati')
<span class="LiteralGray">print(motorcycles)</span></code></pre>
<p>Here the <code>append()</code> method adds <code>'ducati'</code> to the end of the list, without affecting any of the other elements in the list:</p>
<pre><code>['honda', 'yamaha', 'suzuki']
['honda', 'yamaha', 'suzuki', 'ducati']</code></pre>
<p>The <code>append()</code> method makes it easy to build lists dynamically. For example, you can start with an empty list and then add items to the list using a series of <code>append()</code> calls. Using an empty list, let’s add the elements <code>'honda'</code>, <code>'yamaha'</code>, and <code>'suzuki'</code> to the list:</p>
<pre><code>motorcycles = []

motorcycles.append('honda')
motorcycles.append('yamaha')
motorcycles.append('suzuki')

<span class="LiteralGray">print(motorcycles)</span></code></pre>
<p>The resulting list looks exactly the same as the lists in the previous examples:</p>
<pre><code>['honda', 'yamaha', 'suzuki']</code></pre>
<p><span epub:type="pagebreak" title="38" id="Page_38"/>Building lists this way is very common, because you often won’t know the data your users want to store in a program until after the program is running. To put your users in control, start by defining an empty list that will hold the users’ values. Then append each new value provided to the list you just created.</p>
<h4 id="h3-502703c03-0002">Inserting Elements into a List</h4>
<p class="BodyFirst">You can add a new element at any position in your list by using the <code>insert()</code> method. You do this by specifying the index of the new element and the value of the new item:</p>
<pre><code>motorcycles = ['honda', 'yamaha', 'suzuki']

motorcycles.insert(0, 'ducati')
<span class="LiteralGray">print(motorcycles)</span></code></pre>
<p>In this example, we insert the value <code>'ducati'</code> at the beginning of the list. The <code>insert()</code> method opens a space at position <code>0</code> and stores the value <code>'ducati'</code> at that location:</p>
<pre><code>['ducati', 'honda', 'yamaha', 'suzuki']</code></pre>
<p>This operation shifts every other value in the list one position to the right.</p>
<h3 id="h2-502703c03-0006">Removing Elements from a List</h3>
<p class="BodyFirst">Often, you’ll want to remove an item or a set of items from a list. For example, when a player shoots down an alien from the sky, you’ll most likely want to remove it from the list of active aliens. Or when a user decides to cancel their account on a web application you created, you’ll want to remove that user from the list of active users. You can remove an item according to its position in the list or according to its value.</p>
<h4 id="h3-502703c03-0003">Removing an Item Using the del Statement</h4>
<p class="BodyFirst">If you know the position of the item you want to remove from a list, you can use the <code>del</code> statement:</p>
<pre><code><span class="LiteralGray">motorcycles = ['honda', 'yamaha', 'suzuki']</span>
print(motorcycles)

del motorcycles[0]
<span class="LiteralGray">print(motorcycles)</span></code></pre>
<p>Here we use the <code>del</code> statement to remove the first item, <code>'honda'</code>, from the list of motorcycles:</p>
<pre><code>['honda', 'yamaha', 'suzuki']
['yamaha', 'suzuki']</code></pre>
<p><span epub:type="pagebreak" title="39" id="Page_39"/>You can remove an item from any position in a list using the <code>del</code> statement if you know its index. For example, here’s how to remove the second item, <code>'yamaha'</code>, from the list:</p>
<pre><code><span class="LiteralGray">motorcycles = ['honda', 'yamaha', 'suzuki']</span>
<span class="LiteralGray">print(motorcycles)</span>

del motorcycles[1]
<span class="LiteralGray">print(motorcycles)</span></code></pre>
<p>The second motorcycle is deleted from the list:</p>
<pre><code>['honda', 'yamaha', 'suzuki']
['honda', 'suzuki']</code></pre>
<p>In both examples, you can no longer access the value that was removed from the list after the <code>del</code> statement is used.</p>
<h4 id="h3-502703c03-0004">Removing an Item Using the pop() Method</h4>
<p class="BodyFirst">Sometimes you’ll want to use the value of an item after you remove it from a list. For example, you might want to get the <em>x</em> and <em>y</em> position of an alien that was just shot down, so you can draw an explosion at that position. In a web application, you might want to remove a user from a list of active members and then add that user to a list of inactive members.</p>
<p>The <code>pop()</code> method removes the last item in a list, but it lets you work with that item after removing it. The term <em>pop</em> comes from thinking of a list as a stack of items and popping one item off the top of the stack. In this analogy, the top of a stack corresponds to the end of a list.</p>
<p>Let’s pop a motorcycle from the list of motorcycles:</p>
<pre><code><span class="CodeAnnotationHang" aria-label="annotation1">❶</span> <span class="LiteralGray">motorcycles = ['honda', 'yamaha', 'suzuki']</span>
<span class="LiteralGray">print(motorcycles)</span>

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> popped_motorcycle = motorcycles.pop()
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> <span class="LiteralGray">print(motorcycles)</span>
<span class="CodeAnnotationHang" aria-label="annotation4">❹</span> print(popped_motorcycle)</code></pre>
<p>We start by defining and printing the list <code>motorcycles</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>. Then we pop a value from the list, and assign that value to the variable <code>popped_motorcycle</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span>. We print the list <span class="CodeAnnotation" aria-label="annotation3">❸</span> to show that a value has been removed from the list. Then we print the popped value <span class="CodeAnnotation" aria-label="annotation4">❹</span> to prove that we still have access to the value that was removed.</p>
<p>The output shows that the value <code>'suzuki'</code> was removed from the end of the list and is now assigned to the variable <code>popped_motorcycle</code>:</p>
<pre><code>['honda', 'yamaha', 'suzuki']
['honda', 'yamaha']
suzuki</code></pre>
<p><span epub:type="pagebreak" title="40" id="Page_40"/>How might this <code>pop()</code> method be useful? Imagine that the motorcycles in the list are stored in chronological order, according to when we owned them. If this is the case, we can use the <code>pop()</code> method to print a statement about the last motorcycle we bought:</p>
<pre><code><span class="LiteralGray">motorcycles = ['honda', 'yamaha', 'suzuki']</span>

last_owned = motorcycles.pop()
print(f"The last motorcycle I owned was a {last_owned.title()}.")</code></pre>
<p>The output is a simple sentence about the most recent motorcycle we owned:</p>
<pre><code>The last motorcycle I owned was a Suzuki.</code></pre>
<h4 id="h3-502703c03-0005">Popping Items from Any Position in a List</h4>
<p class="BodyFirst">You can use <code>pop()</code> to remove an item from any position in a list by including the index of the item you want to remove in parentheses:</p>
<pre><code><span class="LiteralGray">motorcycles = ['honda', 'yamaha', 'suzuki']</span>

first_owned = motorcycles.pop(0)
print(f"The first motorcycle I owned was a {first_owned.title()}.")</code></pre>
<p>We start by popping the first motorcycle in the list, and then we print a message about that motorcycle. The output is a simple sentence describing the first motorcycle I ever owned:</p>
<pre><code>The first motorcycle I owned was a Honda.</code></pre>
<p>Remember that each time you use <code>pop()</code>, the item you work with is no longer stored in the list.</p>
<p>If you’re unsure whether to use the <code>del</code> statement or the <code>pop()</code> method, here’s a simple way to decide: when you want to delete an item from a list and not use that item in any way, use the <code>del</code> statement; if you want to use an item as you remove it, use the <code>pop()</code> method.</p>
<h4 id="h3-502703c03-0006">Removing an Item by Value</h4>
<p class="BodyFirst">Sometimes you won’t know the position of the value you want to remove from a list. If you only know the value of the item you want to remove, you can use the <code>remove()</code> method.</p>
<p>For example, say we want to remove the value <code>'ducati'</code> from the list of motorcycles:</p>
<pre><code>motorcycles = ['honda', 'yamaha', 'suzuki', 'ducati']
print(motorcycles)

motorcycles.remove('ducati')
print(motorcycles)</code></pre>
<p><span epub:type="pagebreak" title="41" id="Page_41"/>Here the <code>remove()</code> method tells Python to figure out where <code>'ducati'</code> appears in the list and remove that element:</p>
<pre><code>['honda', 'yamaha', 'suzuki', 'ducati']
['honda', 'yamaha', 'suzuki']</code></pre>
<p>You can also use the <code>remove()</code> method to work with a value that’s being removed from a list. Let’s remove the value <code>'ducati'</code> and print a reason for removing it from the list:</p>
<pre><code><span class="CodeAnnotationHang" aria-label="annotation1">❶</span> <span class="LiteralGray">motorcycles = ['honda', 'yamaha', 'suzuki', 'ducati']</span>
<span class="LiteralGray">print(motorcycles)</span>

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> too_expensive = 'ducati'
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> motorcycles.remove(too_expensive)
print(motorcycles)
<span class="CodeAnnotationHang" aria-label="annotation4">❹</span> print(f"\nA {too_expensive.title()} is too expensive for me.")</code></pre>
<p>After defining the list <span class="CodeAnnotation" aria-label="annotation1">❶</span>, we assign the value <code>'ducati'</code> to a variable called <code>too_expensive</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span>. We then use this variable to tell Python which value to remove from the list <span class="CodeAnnotation" aria-label="annotation3">❸</span>. The value <code>'ducati'</code> has been removed from the list <span class="CodeAnnotation" aria-label="annotation4">❹</span> but is still accessible through the variable <code>too_expensive</code>, allowing us to print a statement about why we removed <code>'ducati'</code> from the list of motorcycles:</p>
<pre><code>['honda', 'yamaha', 'suzuki', 'ducati']
['honda', 'yamaha', 'suzuki']

A Ducati is too expensive for me.</code></pre>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	The <code>remove()</code> method deletes only the first occurrence of the value you specify. If there’s a possibility the value appears more than once in the list, you’ll need to use a loop to make sure all occurrences of the value are removed. You’ll learn how to do this in <span class="xref" itemid="xref_target_Chapter 7">Chapter 7</span>.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyFirst">The following exercises are a bit more complex than those in <span class="xref" itemid="xref_target_Chapter 2">Chapter 2</span>, but they give you an opportunity to use lists in all of the ways described.</p>
<p class="BoxBodyCustom"><span id="h2-502703c03-10" class="BoxNumber">3-4. Guest List:</span> If you could invite anyone, living or deceased, to dinner, who would you invite? Make a list that includes at least three people you’d like to invite to dinner. Then use your list to print a message to each person, inviting them to dinner.</p>
<p class="BoxBodyCustom"><span id="h2-502703c03-11" class="BoxNumber">3-5. <span epub:type="pagebreak" title="42" id="Page_42"/>Changing Guest List:</span> You just heard that one of your guests can’t make the dinner, so you need to send out a new set of invitations. You’ll have to think of someone else to invite.</p>
<ul>
<li>Start with your program from Exercise 3-4. Add a <code>print()</code> call at the end of your program, stating the name of the guest who can’t make it.</li>
<li>Modify your list, replacing the name of the guest who can’t make it with the name of the new person you are inviting.</li>
<li>Print a second set of invitation messages, one for each person who is still in your list.</li>
</ul>
<p class="BoxBodyCustom"><span id="h2-502703c03-12" class="BoxNumber">3-6. More Guests:</span> You just found a bigger dinner table, so now more space is available. Think of three more guests to invite to dinner.</p>
<ul>
<li>Start with your program from Exercise 3-4 or 3-5. Add a <code>print()</code> call to the end of your program, informing people that you found a bigger table.</li>
<li>Use <code>insert()</code> to add one new guest to the beginning of your list.</li>
<li>Use <code>insert()</code> to add one new guest to the middle of your list.</li>
<li>Use <code>append()</code> to add one new guest to the end of your list.</li>
<li>Print a new set of invitation messages, one for each person in your list.</li>
</ul>
<p class="BoxBodyCustom"><span id="h2-502703c03-13" class="BoxNumber">3-7. Shrinking Guest List:</span> You just found out that your new dinner table won’t arrive in time for the dinner, and now you have space for only two guests.</p>
<ul>
<li>Start with your program from Exercise 3-6. Add a new line that prints a message saying that you can invite only two people for dinner.</li>
<li>Use <code>pop()</code> to remove guests from your list one at a time until only two names remain in your list. Each time you pop a name from your list, print a message to that person letting them know you’re sorry you can’t invite them to dinner.</li>
<li>Print a message to each of the two people still on your list, letting them know they’re still invited.</li>
<li>Use <code>del</code> to remove the last two names from your list, so you have an empty list. Print your list to make sure you actually have an empty list at the end of your program.</li>
</ul>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c03-0003">Organizing a List</h2>
<p class="BodyFirst">Often, your lists will be created in an unpredictable order, because you can’t always control the order in which your users provide their data. Although this is unavoidable in most circumstances, you’ll frequently want to present your information in a particular order. Sometimes you’ll want <span epub:type="pagebreak" title="43" id="Page_43"/>to preserve the original order of your list, and other times you’ll want to change the original order. Python provides a number of different ways to organize your lists, depending on the situation.</p>
<h3 id="h2-502703c03-0007">Sorting a List Permanently with the sort() Method</h3>
<p class="BodyFirst">Python’s <code>sort()</code> method makes it relatively easy to sort a list. Imagine we have a list of cars and want to change the order of the list to store them alphabetically. To keep the task simple, let’s assume that all the values in the list are lowercase:</p>
<p class="CodeLabel"><b>cars.py</b></p>
<pre><code>cars = ['bmw', 'audi', 'toyota', 'subaru']
cars.sort()
print(cars)</code></pre>
<p>The <code>sort()</code> method changes the order of the list permanently. The cars are now in alphabetical order, and we can never revert to the original order:</p>
<pre><code>['audi', 'bmw', 'subaru', 'toyota']</code></pre>
<p>You can also sort this list in reverse-alphabetical order by passing the argument <code>reverse=True</code> to the <code>sort()</code> method. The following example sorts the list of cars in reverse-alphabetical order:</p>
<pre><code><span class="LiteralGray">cars = ['bmw', 'audi', 'toyota', 'subaru']</span>
cars.sort(reverse=True)
<span class="LiteralGray">print(cars)</span></code></pre>
<p>Again, the order of the list is permanently changed:</p>
<pre><code>['toyota', 'subaru', 'bmw', 'audi']</code></pre>
<h3 id="h2-502703c03-0008">Sorting a List Temporarily with the sorted() Function</h3>
<p class="BodyFirst">To maintain the original order of a list but present it in a sorted order, you can use the <code>sorted()</code> function. The <code>sorted()</code> function lets you display your list in a particular order, but doesn’t affect the actual order of the list.</p>
<p>Let’s try this function on the list of cars.</p>
<pre><code><span class="LiteralGray">cars = ['bmw', 'audi', 'toyota', 'subaru']</span>

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> print("Here is the original list:")
print(cars)

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> print("\nHere is the sorted list:")
print(sorted(cars))

<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> print("\nHere is the original list again:")
print(cars)</code></pre>
<p><span epub:type="pagebreak" title="44" id="Page_44"/>We first print the list in its original order <span class="CodeAnnotation" aria-label="annotation1">❶</span> and then in alphabetical order <span class="CodeAnnotation" aria-label="annotation2">❷</span>. After the list is displayed in the new order, we show that the list is still stored in its original order <span class="CodeAnnotation" aria-label="annotation3">❸</span>:</p>
<pre><code>Here is the original list:
['bmw', 'audi', 'toyota', 'subaru']

Here is the sorted list:
['audi', 'bmw', 'subaru', 'toyota']

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> Here is the original list again:
['bmw', 'audi', 'toyota', 'subaru']</code></pre>
<p>Notice that the list still exists in its original order <span class="CodeAnnotation" aria-label="annotation1">❶</span> after the <code>sorted()</code> function has been used. The <code>sorted()</code> function can also accept a <code>reverse=True</code> argument if you want to display a list in reverse-alphabetical order.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	Sorting a list alphabetically is a bit more complicated when all the values are not in lowercase. There are several ways to interpret capital letters when determining a sort order, and specifying the exact order can be more complex than we want to deal with at this time. However, most approaches to sorting will build directly on what you learned in this section.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c03-0009">Printing a List in Reverse Order</h3>
<p class="BodyFirst">To reverse the original order of a list, you can use the <code>reverse()</code> method. If we originally stored the list of cars in chronological order according to when we owned them, we could easily rearrange the list into reverse-chronological order:</p>
<pre><code><span class="LiteralGray">cars = ['bmw', 'audi', 'toyota', 'subaru']</span>
print(cars)

cars.reverse()
print(cars)</code></pre>
<p>Notice that <code>reverse()</code> doesn’t sort backward alphabetically; it simply reverses the order of the list:</p>
<pre><code>['bmw', 'audi', 'toyota', 'subaru']
['subaru', 'toyota', 'audi', 'bmw']</code></pre>
<p>The <code>reverse()</code> method changes the order of a list permanently, but you can revert to the original order anytime by applying <code>reverse()</code> to the same list a second time.</p>
<h3 id="h2-502703c03-0010">Finding the Length of a List</h3>
<p class="BodyFirst">You can quickly find the length of a list by using the <code>len()</code> function. The list in this example has four items, so its length is <code>4</code>:</p>
<pre><code>&gt;&gt;&gt; <b>cars = ['bmw', 'audi', 'toyota', 'subaru']</b>
&gt;&gt;&gt; <b>len(cars)</b>
4</code></pre>
<p><span epub:type="pagebreak" title="45" id="Page_45"/>You’ll find <code>len()</code> useful when you need to identify the number of aliens that still need to be shot down in a game, determine the amount of data you have to manage in a visualization, or figure out the number of registered users on a website, among other tasks.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	Python counts the items in a list starting with one, so you shouldn’t run into any off-by-one errors when determining the length of a list.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c03-18" class="BoxNumber">3-8. Seeing the World:</span> Think of at least five places in the world you’d like to visit.</p>
<ul>
<li>Store the locations in a list. Make sure the list is not in alphabetical order.</li>
<li>Print your list in its original order. Don’t worry about printing the list neatly; just print it as a raw Python list.</li>
<li>Use <code>sorted()</code> to print your list in alphabetical order without modifying the actual list.</li>
<li>Show that your list is still in its original order by printing it.</li>
<li>Use <code>sorted()</code> to print your list in reverse-alphabetical order without changing the order of the original list.</li>
<li>Show that your list is still in its original order by printing it again.</li>
<li>Use <code>reverse()</code> to change the order of your list. Print the list to show that its order has changed.</li>
<li>Use <code>reverse()</code> to change the order of your list again. Print the list to show it’s back to its original order.</li>
<li>Use <code>sort()</code> to change your list so it’s stored in alphabetical order. Print the list to show that its order has been changed.</li>
<li>Use <code>sort()</code> to change your list so it’s stored in reverse-alphabetical order. Print the list to show that its order has changed.</li>
</ul>
<p class="BoxBodyCustom"><span id="h2-502703c03-19" class="BoxNumber">3-9. Dinner Guests:</span> Working with one of the programs from Exercises 3-4 through 3-7 (<span class="xref" itemid="xref_target_pages 41–42">pages 41–42</span>), use <code>len()</code> to print a message indicating the number of people you’re inviting to dinner.</p>
<p class="BoxBodyCustom"><span id="h2-502703c03-20" class="BoxNumber">3-10. Every Function:</span> Think of things you could store in a list. For example, you could make a list of mountains, rivers, countries, cities, languages, or anything else you’d like. Write a program that creates a list containing these items and then uses each function introduced in this chapter at least once.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c03-0004"><span epub:type="pagebreak" title="46" id="Page_46"/>Avoiding Index Errors When Working with Lists</h2>
<p class="BodyFirst">There’s one type of error that’s common to see when you’re working with lists for the first time. Let’s say you have a list with three items, and you ask for the fourth item:</p>
<p class="CodeLabel"><b>motorcycles.py</b></p>
<pre><code>motorcycles = ['honda', 'yamaha', 'suzuki']
print(motorcycles[3])</code></pre>
<p>This example results in an <em>index error</em>:</p>
<pre><code>Traceback (most recent call last):
  File "motorcycles.py", line 2, in &lt;module&gt;
    print(motorcycles[3])
          ~~~~~~~~~~~^^^
IndexError: list index out of range</code></pre>
<p>Python attempts to give you the item at index 3. But when it searches the list, no item in <code>motorcycles</code> has an index of 3. Because of the off-by-one nature of indexing in lists, this error is typical. People think the third item is item number 3, because they start counting at 1. But in Python the third item is number 2, because it starts indexing at 0.</p>
<p>An index error means Python can’t find an item at the index you requested. If an index error occurs in your program, try adjusting the index you’re asking for by one. Then run the program again to see if the results are correct.</p>
<p>Keep in mind that whenever you want to access the last item in a list, you should use the index <code>-1</code>. This will always work, even if your list has changed size since the last time you accessed it:</p>
<pre><code><span class="LiteralGray">motorcycles = ['honda', 'yamaha', 'suzuki']</span>
print(motorcycles[-1])</code></pre>
<p>The index <code>-1</code> always returns the last item in a list, in this case the value <code>'suzuki'</code>:</p>
<pre><code>suzuki</code></pre>
<p>The only time this approach will cause an error is when you request the last item from an empty list:</p>
<pre><code>motorcycles = []
print(motorcycles[-1])</code></pre>
<p>No items are in <code>motorcycles</code>, so Python returns another index error:</p>
<pre><code>Traceback (most recent call last):
  File "motorcyles.py", line 3, in &lt;module&gt;
    print(motorcycles[-1])
          ~~~~~~~~~~~^^^^
IndexError: list index out of range</code></pre>
<p><span epub:type="pagebreak" title="47" id="Page_47"/>If an index error occurs and you can’t figure out how to resolve it, try printing your list or just printing the length of your list. Your list might look much different than you thought it did, especially if it has been managed dynamically by your program. Seeing the actual list, or the exact number of items in your list, can help you sort out such logical errors.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c03-21" class="BoxNumber">3-11. Intentional Error:</span> If you haven’t received an index error in one of your programs yet, try to make one happen. Change an index in one of your programs to produce an index error. Make sure you correct the error before closing the program.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c03-0005">Summary</h2>
<p class="BodyFirst">In this chapter, you learned what lists are and how to work with the individual items in a list. You learned how to define a list and how to add and remove elements. You learned how to sort lists permanently and temporarily for display purposes. You also learned how to find the length of a list and how to avoid index errors when you’re working with lists.</p>
<p>In <span class="xref" itemid="xref_target_Chapter 4">Chapter 4</span> you’ll learn how to work with items in a list more efficiently. By looping through each item in a list using just a few lines of code you’ll be able to work efficiently, even when your list contains thousands or millions of items.</p>
</section>
</div>
<div id="sbo-rt-content"><section>
<header>
<h1 class="chapter">
<span class="ChapterNumber"><span epub:type="pagebreak" title="49" id="Page_49"/>4</span><br/>
<span class="ChapterTitle">Working with Lists</span></h1>
</header>
<figure class="opener">
<img src="Images/chapterart.png" alt="" width="406" height="406"/>
</figure>
<p class="ChapterIntro">In <span class="xref" itemid="xref_target_Chapter 3">Chapter 3</span> you learned how to make a simple list, and you learned to work with the individual elements in a list. In this chapter you’ll learn how to loop through an entire list using just a few lines of code, regardless of how long the list is. <em>Looping</em> allows you to take the same action, or set of actions, with every item in a list. As a result, you’ll be able to work efficiently with lists of any length, including those with thousands or even millions of items.</p>
<h2 id="h1-502703c04-0001">Looping Through an Entire List</h2>
<p class="BodyFirst">You’ll often want to run through all entries in a list, performing the same task with each item. For example, in a game you might want to move every element on the screen by the same amount. In a list of numbers, you might want to perform the same statistical operation on every element. <span epub:type="pagebreak" title="50" id="Page_50"/>Or perhaps you’ll want to display each headline from a list of articles on a website. When you want to do the same action with every item in a list, you can use Python’s <code>for</code> loop.</p>
<p>Say we have a list of magicians’ names, and we want to print out each name in the list. We could do this by retrieving each name from the list individually, but this approach could cause several problems. For one, it would be repetitive to do this with a long list of names. Also, we’d have to change our code each time the list’s length changed. Using a <code>for</code> loop avoids both of these issues by letting Python manage these issues internally.</p>
<p>Let’s use a <code>for</code> loop to print out each name in a list of magicians:</p>
<p class="CodeLabel"><b>magicians.py</b></p>
<pre><code>magicians = ['alice', 'david', 'carolina']
for magician in magicians:
    print(magician)</code></pre>
<p>We begin by defining a list, just as we did in <span class="xref" itemid="xref_target_Chapter 3">Chapter 3</span>. Then we define a <code>for</code> loop. This line tells Python to pull a name from the list <code>magicians</code>, and associate it with the variable <code>magician</code>. Next, we tell Python to print the name that’s just been assigned to <code>magician</code>. Python then repeats these last two lines, once for each name in the list. It might help to read this code as “For every magician in the list of magicians, print the magician’s name.” The output is a simple printout of each name in the list:</p>
<pre><code>alice
david
carolina</code></pre>
<h3 id="h2-502703c04-0001">A Closer Look at Looping</h3>
<p class="BodyFirst">Looping is important because it’s one of the most common ways a computer automates repetitive tasks. For example, in a simple loop like we used in <em>magicians.py</em>, Python initially reads the first line of the loop:</p>
<pre><code>for magician in magicians:</code></pre>
<p>This line tells Python to retrieve the first value from the list <code>magicians</code> and associate it with the variable <code>magician</code>. This first value is <code>'alice'</code>. Python then reads the next line:</p>
<pre><code>    print(magician)</code></pre>
<p>Python prints the current value of <code>magician</code>, which is still <code>'alice'</code>. Because the list contains more values, Python returns to the first line of the loop:</p>
<pre><code>for magician in magicians:</code></pre>
<p>Python retrieves the next name in the list, <code>'david'</code>, and associates that value with the variable <code>magician</code>. Python then executes the line:</p>
<pre><code>    print(magician)</code></pre>
<p><span epub:type="pagebreak" title="51" id="Page_51"/>Python prints the current value of <code>magician</code> again, which is now <code>'david'</code>. Python repeats the entire loop once more with the last value in the list, <code>'carolina'</code>. Because no more values are in the list, Python moves on to the next line in the program. In this case nothing comes after the <code>for</code> loop, so the program ends.</p>
<p>When you’re using loops for the first time, keep in mind that the set of steps is repeated once for each item in the list, no matter how many items are in the list. If you have a million items in your list, Python repeats these steps a million times—and usually very quickly.</p>
<p>Also keep in mind when writing your own <code>for</code> loops that you can choose any name you want for the temporary variable that will be associated with each value in the list. However, it’s helpful to choose a meaningful name that represents a single item from the list. For example, here’s a good way to start a <code>for</code> loop for a list of cats, a list of dogs, and a general list of items:</p>
<pre><code>for cat in cats:
for dog in dogs:
for item in list_of_items:</code></pre>
<p>These naming conventions can help you follow the action being done on each item within a <code>for</code> loop. Using singular and plural names can help you identify whether a section of code is working with a single element from the list or the entire list.</p>
<h3 id="h2-502703c04-0002">Doing More Work Within a for Loop</h3>
<p class="BodyFirst">You can do just about anything with each item in a <code>for</code> loop. Let’s build on the previous example by printing a message to each magician, telling them that they performed a great trick:</p>
<p class="CodeLabel"><b>magicians.py</b></p>
<pre><code><span class="LiteralGray">magicians = ['alice', 'david', 'carolina']</span>
<span class="LiteralGray">for magician in magicians:</span>
    print(f"{magician.title()}, that was a great trick!")</code></pre>
<p>The only difference in this code is where we compose a message to each magician, starting with that magician’s name. The first time through the loop the value of <code>magician</code> is <code>'alice'</code>, so Python starts the first message with the name <code>'Alice'</code>. The second time through, the message will begin with <code>'David'</code>, and the third time through, the message will begin with <code>'Carolina'</code>.</p>
<p>The output shows a personalized message for each magician in the list:</p>
<pre><code>Alice, that was a great trick!
David, that was a great trick!
Carolina, that was a great trick!</code></pre>
<p>You can also write as many lines of code as you like in the <code>for</code> loop. Every indented line following the line <code>for magician in magicians</code> is considered<em> inside the loop</em>, and each indented line is executed once for each value in the list. Therefore, you can do as much work as you like with each value in the list.</p>
<p><span epub:type="pagebreak" title="52" id="Page_52"/>Let’s add a second line to our message, telling each magician that we’re looking forward to their next trick:</p>
<pre><code><span class="LiteralGray">magicians = ['alice', 'david', 'carolina']</span>
<span class="LiteralGray">for magician in magicians:</span>
<span class="LiteralGray">    print(f"{magician.title()}, that was a great trick!")</span>
    print(f"I can't wait to see your next trick, {magician.title()}.\n")</code></pre>
<p>Because we have indented both calls to <code>print()</code>, each line will be executed once for every magician in the list. The newline (<code>"\n"</code>) in the second <code>print()</code> call inserts a blank line after each pass through the loop. This creates a set of messages that are neatly grouped for each person in the list:</p>
<pre><code>Alice, that was a great trick!
I can't wait to see your next trick, Alice.

David, that was a great trick!
I can't wait to see your next trick, David.

Carolina, that was a great trick!
I can't wait to see your next trick, Carolina.</code></pre>
<p>You can use as many lines as you like in your <code>for</code> loops. In practice, you’ll often find it useful to do a number of different operations with each item in a list when you use a <code>for</code> loop.</p>
<h3 id="h2-502703c04-0003">Doing Something After a for Loop</h3>
<p class="BodyFirst">What happens once a <code>for</code> loop has finished executing? Usually, you’ll want to summarize a block of output or move on to other work that your program must accomplish.</p>
<p>Any lines of code after the <code>for</code> loop that are not indented are executed once without repetition. Let’s write a thank you to the group of magicians as a whole, thanking them for putting on an excellent show. To display this group message after all of the individual messages have been printed, we place the thank you message after the <code>for</code> loop, without indentation:</p>
<pre><code><span class="LiteralGray">magicians = ['alice', 'david', 'carolina']</span>
<span class="LiteralGray">for magician in magicians:</span>
<span class="LiteralGray">    print(f"{magician.title()}, that was a great trick!")</span>
<span class="LiteralGray">    print(f"I can't wait to see your next trick, {magician.title()}.\n")</span>

print("Thank you, everyone. That was a great magic show!")</code></pre>
<p>The first two calls to <code>print()</code> are repeated once for each magician in the list, as you saw earlier. However, because the last line is not indented, it’s printed only once:</p>
<pre><code>Alice, that was a great trick!
I can't wait to see your next trick, Alice.

David, that was a great trick!
<span epub:type="pagebreak" title="53" id="Page_53"/>I can't wait to see your next trick, David.

Carolina, that was a great trick!
I can't wait to see your next trick, Carolina.

Thank you, everyone. That was a great magic show!</code></pre>
<p>When you’re processing data using a <code>for</code> loop, you’ll find that this is a good way to summarize an operation that was performed on an entire dataset. For example, you might use a <code>for</code> loop to initialize a game by running through a list of characters and displaying each character on the screen. You might then write some additional code after this loop that displays a <em>Play Now</em> button after all the characters have been drawn to the screen.</p>
<h2 id="h1-502703c04-0002">Avoiding Indentation Errors</h2>
<p class="BodyFirst">Python uses indentation to determine how a line, or group of lines, is related to the rest of the program. In the previous examples, the lines that printed messages to individual magicians were part of the <code>for</code> loop because they were indented. Python’s use of indentation makes code very easy to read. Basically, it uses whitespace to force you to write neatly formatted code with a clear visual structure. In longer Python programs, you’ll notice blocks of code indented at a few different levels. These indentation levels help you gain a general sense of the overall program’s organization.</p>
<p>As you begin to write code that relies on proper indentation, you’ll need to watch for a few common <em>indentation errors</em>. For example, people sometimes indent lines of code that don’t need to be indented or forget to indent lines that need to be indented. Seeing examples of these errors now will help you avoid them in the future and correct them when they do appear in your own programs.</p>
<p>Let’s examine some of the more common indentation errors.</p>
<h3 id="h2-502703c04-0004">Forgetting to Indent</h3>
<p class="BodyFirst">Always indent the line after the <code>for</code> statement in a loop. If you forget, Python will remind you:</p>
<p class="CodeLabel"><b>magicians.py</b></p>
<pre><code>magicians = ['alice', 'david', 'carolina']
for magician in magicians:
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> print(magician)</code></pre>
<p>The call to <code>print()</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span> should be indented, but it’s not. When Python expects an indented block and doesn’t find one, it lets you know which line it had a problem with:</p>
<pre><code>  File "magicians.py", line 3
    print(magician)
    ^
IndentationError: expected an indented block after 'for' statement on line 2</code></pre>
<p><span epub:type="pagebreak" title="54" id="Page_54"/>You can usually resolve this kind of indentation error by indenting the line or lines immediately after the <code>for</code> statement.</p>
<h3 id="h2-502703c04-0005">Forgetting to Indent Additional Lines</h3>
<p class="BodyFirst">Sometimes your loop will run without any errors but won’t produce the expected result. This can happen when you’re trying to do several tasks in a loop and you forget to indent some of its lines.</p>
<p>For example, this is what happens when we forget to indent the second line in the loop that tells each magician we’re looking forward to their next trick:</p>
<pre><code>magicians = ['alice', 'david', 'carolina']
for magician in magicians:
    print(f"{magician.title()}, that was a great trick!")
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> print(f"I can't wait to see your next trick, {magician.title()}.\n")</code></pre>
<p>The second call to <code>print()</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span> is supposed to be indented, but because Python finds at least one indented line after the <code>for</code> statement, it doesn’t report an error. As a result, the first <code>print()</code> call is executed once for each name in the list because it is indented. The second <code>print()</code> call is not indented, so it is executed only once after the loop has finished running. Because the final value associated with <code>magician</code> is <code>'carolina'</code>, she is the only one who receives the “looking forward to the next trick” message:</p>
<pre><code>Alice, that was a great trick!
David, that was a great trick!
Carolina, that was a great trick!
I can't wait to see your next trick, Carolina.</code></pre>
<p>This is a <em>logical error</em>. The syntax is valid Python code, but the code does not produce the desired result because a problem occurs in its logic. If you expect to see a certain action repeated once for each item in a list and it’s executed only once, determine whether you need to simply indent a line or a group of lines.</p>
<h3 id="h2-502703c04-0006">Indenting Unnecessarily</h3>
<p class="BodyFirst">If you accidentally indent a line that doesn’t need to be indented, Python informs you about the unexpected indent:</p>
<p class="CodeLabel"><b>hello_world.py</b></p>
<pre><code>message = "Hello Python world!"
    print(message)</code></pre>
<p>We don’t need to indent the <code>print()</code> call, because it isn’t part of a loop; hence, Python reports that error:</p>
<pre><code>  File "hello_world.py", line 2
    print(message)
    ^
IndentationError: unexpected indent</code></pre>
<p><span epub:type="pagebreak" title="55" id="Page_55"/>You can avoid unexpected indentation errors by indenting only when you have a specific reason to do so. In the programs you’re writing at this point, the only lines you should indent are the actions you want to repeat for each item in a <code>for</code> loop.</p>
<h3 id="h2-502703c04-0007">Indenting Unnecessarily After the Loop</h3>
<p class="BodyFirst">If you accidentally indent code that should run after a loop has finished, that code will be repeated once for each item in the list. Sometimes this prompts Python to report an error, but often this will result in a logical error.</p>
<p>For example, let’s see what happens when we accidentally indent the line that thanked the magicians as a group for putting on a good show:</p>
<p class="CodeLabel"><b>magicians.py</b></p>
<pre><code>magicians = ['alice', 'david', 'carolina']
for magician in magicians:
    print(f"{magician.title()}, that was a great trick!")
    print(f"I can't wait to see your next trick, {magician.title()}.\n")

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     print("Thank you everyone, that was a great magic show!")</code></pre>
<p>Because the last line <span class="CodeAnnotation" aria-label="annotation1">❶</span> is indented, it’s printed once for each person in the list:</p>
<pre><code>Alice, that was a great trick!
I can't wait to see your next trick, Alice.

Thank you everyone, that was a great magic show!
David, that was a great trick!
I can't wait to see your next trick, David.

Thank you everyone, that was a great magic show!
Carolina, that was a great trick!
I can't wait to see your next trick, Carolina.

Thank you everyone, that was a great magic show!</code></pre>
<p>This is another logical error, similar to the one in “<span class="xref" itemid="xref_target_Forgetting to Indent Additional Lines">Forgetting to Indent Additional Lines</span>” on <span class="xref" itemid="xref_target_page 54">page 54</span>. Because Python doesn’t know what you’re trying to accomplish with your code, it will run all code that is written in valid syntax. If an action is repeated many times when it should be executed only once, you probably need to unindent the code for that action.</p>
<h3 id="h2-502703c04-0008">Forgetting the Colon</h3>
<p class="BodyFirst">The colon at the end of a <code>for</code> statement tells Python to interpret the next line as the start of a loop.</p>
<pre><code>magicians = ['alice', 'david', 'carolina']
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> for magician in magicians
    print(magician)</code></pre>
<p><span epub:type="pagebreak" title="56" id="Page_56"/>If you accidentally forget the colon <span class="CodeAnnotation" aria-label="annotation1">❶</span>, you’ll get a syntax error because Python doesn’t know exactly what you’re trying to do:</p>
<pre><code>  File "magicians.py", line 2
    for magician in magicians
                             ^
SyntaxError: expected ':'</code></pre>
<p>Python doesn’t know if you simply forgot the colon, or if you meant to write additional code to set up a more complex loop. If the interpreter can identify a possible fix it will suggest one, like adding a colon at the end of a line, as it does here with the response <code>expected ':'</code>. Some errors have easy, obvious fixes, thanks to the suggestions in Python’s tracebacks. Some errors are much harder to resolve, even when the eventual fix only involves a single character. Don’t feel bad when a small fix takes a long time to find; you are absolutely not alone in this experience.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c04-09" class="BoxNumber">4-1. Pizzas:</span> Think of at least three kinds of your favorite pizza. Store these pizza names in a list, and then use a <code>for</code> loop to print the name of each pizza.</p>
<ul>
<li>Modify your <code>for</code> loop to print a sentence using the name of the pizza, instead of printing just the name of the pizza. For each pizza, you should have one line of output containing a simple statement like <em>I like pepperoni pizza</em>.</li>
<li>Add a line at the end of your program, outside the <code>for</code> loop, that states how much you like pizza. The output should consist of three or more lines about the kinds of pizza you like and then an additional sentence, such as <em>I really love pizza!</em></li>
</ul>
<p class="BoxBodyCustom"><span id="h2-502703c04-10" class="BoxNumber">4-2. Animals:</span> Think of at least three different animals that have a common characteristic. Store the names of these animals in a list, and then use a <code>for</code> loop to print out the name of each animal.</p>
<ul>
<li>Modify your program to print a statement about each animal, such as <em>A dog would make a great pet.</em></li>
<li>Add a line at the end of your program, stating what these animals have in common. You could print a sentence, such as <em>Any of these animals would make a great pet!</em></li>
</ul>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c04-0003">Making Numerical Lists</h2>
<p class="BodyFirst">Many reasons exist to store a set of numbers. For example, you’ll need to keep track of the positions of each character in a game, and you might want <span epub:type="pagebreak" title="57" id="Page_57"/>to keep track of a player’s high scores as well. In data visualizations, you’ll almost always work with sets of numbers, such as temperatures, distances, population sizes, or latitude and longitude values, among other types of numerical sets.</p>
<p>Lists are ideal for storing sets of numbers, and Python provides a variety of tools to help you work efficiently with lists of numbers. Once you understand how to use these tools effectively, your code will work well even when your lists contain millions of items.</p>
<h3 id="h2-502703c04-0009">Using the range() Function</h3>
<p class="BodyFirst">Python’s <code>range()</code> function makes it easy to generate a series of numbers. For example, you can use the <code>range()</code> function to print a series of numbers like this:</p>
<p class="CodeLabel"><b>first_numbers.py</b></p>
<pre><code>for value in range(1, 5):
    print(value)</code></pre>
<p>Although this code looks like it should print the numbers from 1 to 5, it doesn’t print the number 5:</p>
<pre><code>1
2
3
4</code></pre>
<p>In this example, <code>range()</code> prints only the numbers 1 through 4. This is another result of the off-by-one behavior you’ll see often in programming languages. The <code>range()</code> function causes Python to start counting at the first value you give it, and it stops when it reaches the second value you provide. Because it stops at that second value, the output never contains the end value, which would have been 5 in this case.</p>
<p>To print the numbers from 1 to 5, you would use <code>range(1, 6)</code>:</p>
<pre><code>for value in range(1, 6):
    <span class="LiteralGray">print(value)</span></code></pre>
<p>This time the output starts at 1 and ends at 5:</p>
<pre><code>1
2
3
4
5</code></pre>
<p>If your output is different from what you expect when you’re using <code>range()</code>, try adjusting your end value by 1.</p>
<p>You can also pass <code>range()</code> only one argument, and it will start the sequence of numbers at 0. For example, <code>range(6)</code> would return the numbers from 0 through 5.</p>
<h3 id="h2-502703c04-0010"><span epub:type="pagebreak" title="58" id="Page_58"/>Using range() to Make a List of Numbers</h3>
<p class="BodyFirst">If you want to make a list of numbers, you can convert the results of <code>range()</code> directly into a list using the <code>list()</code> function. When you wrap <code>list()</code> around a call to the <code>range()</code> function, the output will be a list of numbers.</p>
<p>In the example in the previous section, we simply printed out a series of numbers. We can use <code>list()</code> to convert that same set of numbers into a list:</p>
<pre><code>numbers = list(range(1, 6))
print(numbers)</code></pre>
<p>This is the result:</p>
<pre><code>[1, 2, 3, 4, 5]</code></pre>
<p>We can also use the <code>range()</code> function to tell Python to skip numbers in a given range. If you pass a third argument to <code>range()</code>, Python uses that value as a step size when generating numbers.</p>
<p>For example, here’s how to list the even numbers between 1 and 10:</p>
<p class="CodeLabel"><b>even_numbers.py</b></p>
<pre><code>even_numbers = list(range(2, 11, 2))
print(even_numbers)</code></pre>
<p>In this example, the <code>range()</code> function starts with the value 2 and then adds 2 to that value. It adds 2 repeatedly until it reaches or passes the end value, 11, and produces this result:</p>
<pre><code>[2, 4, 6, 8, 10]</code></pre>
<p>You can create almost any set of numbers you want to using the <code>range()</code> function. For example, consider how you might make a list of the first 10 square numbers (that is, the square of each integer from 1 through 10). In Python, two asterisks (<code>**</code>) represent exponents. Here’s how you might put the first 10 square numbers into a list:</p>
<p class="CodeLabel"><b>square_numbers.py</b></p>
<pre><code>squares = []
for value in range(1, 11):
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     square = value ** 2
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     squares.append(square)

print(squares)</code></pre>
<p>We start with an empty list called <code>squares</code>. Then, we tell Python to loop through each value from 1 to 10 using the <code>range()</code> function. Inside the loop, the current value is raised to the second power and assigned to the variable <code>square</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>. Each new value of <code>square</code> is then appended to the list <code>squares</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span>. Finally, when the loop has finished running, the list of squares is printed:</p>
<pre><code>[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</code></pre>
<p><span epub:type="pagebreak" title="59" id="Page_59"/>To write this code more concisely, omit the temporary variable <code>square</code> and append each new value directly to the list:</p>
<pre><code><span class="LiteralGray">squares = []</span>
<span class="LiteralGray">for value in range(1,11):</span>
    squares.append(value**2)

<span class="LiteralGray">print(squares)</span></code></pre>
<p>This line does the same work as the lines inside the <code>for</code> loop in the previous listing. Each value in the loop is raised to the second power and then immediately appended to the list of squares.</p>
<p>You can use either of these approaches when you’re making more complex lists. Sometimes using a temporary variable makes your code easier to read; other times it makes the code unnecessarily long. Focus first on writing code that you understand clearly, and does what you want it to do. Then look for more efficient approaches as you review your code.</p>
<h3 id="h2-502703c04-0011">Simple Statistics with a List of Numbers</h3>
<p class="BodyFirst">A few Python functions are helpful when working with lists of numbers. For example, you can easily find the minimum, maximum, and sum of a list of numbers:</p>
<pre><code>&gt;&gt;&gt; <b>digits = [1, 2, 3, 4, 5, 6, 7, 8, 9, 0]</b>
&gt;&gt;&gt; <b>min(digits)</b>
0
&gt;&gt;&gt; <b>max(digits)</b>
9
&gt;&gt;&gt; <b>sum(digits)</b>
45</code></pre>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	The examples in this section use short lists of numbers that fit easily on the page. They would work just as well if your list contained a million or more numbers.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c04-0012">List Comprehensions</h3>
<p class="BodyFirst">The approach described earlier for generating the list <code>squares</code> consisted of using three or four lines of code. A <em>list comprehension</em> allows you to generate this same list in just one line of code. A list comprehension combines the <code>for</code> loop and the creation of new elements into one line, and automatically appends each new element. List comprehensions are not always presented to beginners, but I’ve included them here because you’ll most likely see them as soon as you start looking at other people’s code.</p>
<p>The following example builds the same list of square numbers you saw earlier but uses a list comprehension:</p>
<p class="CodeLabel"><b>squares.py</b></p>
<pre><code>squares = [value**2 for value in range(1, 11)]
print(squares)</code></pre>
<p><span epub:type="pagebreak" title="60" id="Page_60"/>To use this syntax, begin with a descriptive name for the list, such as <code>squares</code>. Next, open a set of square brackets and define the expression for the values you want to store in the new list. In this example the expression is <code>value**2</code>, which raises the value to the second power. Then, write a <code>for</code> loop to generate the numbers you want to feed into the expression, and close the square brackets. The <code>for</code> loop in this example is <code>for value in range(1, 11)</code>, which feeds the values 1 through 10 into the expression <code>value**2</code>. Note that no colon is used at the end of the <code>for</code> statement.</p>
<p>The result is the same list of square numbers you saw earlier:</p>
<pre><code>[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</code></pre>
<p>It takes practice to write your own list comprehensions, but you’ll find them worthwhile once you become comfortable creating ordinary lists. When you’re writing three or four lines of code to generate lists and it begins to feel repetitive, consider writing your own list comprehensions.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c04-15" class="BoxNumber">4-3. Counting to Twenty:</span> Use a <code>for</code> loop to print the numbers from 1 to 20, inclusive.</p>
<p class="BoxBodyCustom"><span id="h2-502703c04-16" class="BoxNumber">4-4. One Million:</span> Make a list of the numbers from one to one million, and then use a <code>for</code> loop to print the numbers. (If the output is taking too long, stop it by pressing CTRL-C or by closing the output window.)</p>
<p class="BoxBodyCustom"><span id="h2-502703c04-17" class="BoxNumber">4-5. Summing a Million:</span> Make a list of the numbers from one to one million, and then use <code>min()</code> and <code>max()</code> to make sure your list actually starts at one and ends at one million. Also, use the <code>sum()</code> function to see how quickly Python can add a million numbers.</p>
<p class="BoxBodyCustom"><span id="h2-502703c04-18" class="BoxNumber">4-6. Odd Numbers:</span> Use the third argument of the <code>range()</code> function to make a list of the odd numbers from 1 to 20. Use a <code>for</code> loop to print each number.</p>
<p class="BoxBodyCustom"><span id="h2-502703c04-19" class="BoxNumber">4-7. Threes:</span> Make a list of the multiples of 3, from 3 to 30. Use a <code>for</code> loop to print the numbers in your list.</p>
<p class="BoxBodyCustom"><span id="h2-502703c04-20" class="BoxNumber">4-8. Cubes:</span> A number raised to the third power is called a <em>cube</em>. For example, the cube of 2 is written as <code>2**3</code> in Python. Make a list of the first 10 cubes (that is, the cube of each integer from 1 through 10), and use a <code>for</code> loop to print out the value of each cube.</p>
<p class="BoxBodyCustom"><span id="h2-502703c04-21" class="BoxNumber">4-9. Cube Comprehension:</span> Use a list comprehension to generate a list of the first 10 cubes.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c04-0004"><span epub:type="pagebreak" title="61" id="Page_61"/>Working with Part of a List</h2>
<p class="BodyFirst">In <span class="xref" itemid="xref_target_Chapter 3">Chapter 3</span> you learned how to access single elements in a list, and in this chapter you’ve been learning how to work through all the elements in a list. You can also work with a specific group of items in a list, called a <em>slice</em> in Python.</p>
<h3 id="h2-502703c04-0013">Slicing a List</h3>
<p class="BodyFirst">To make a slice, you specify the index of the first and last elements you want to work with. As with the <code>range()</code> function, Python stops one item before the second index you specify. To output the first three elements in a list, you would request indices <code>0</code> through <code>3</code>, which would return elements <code>0</code>, <code>1</code>, and <code>2</code>.</p>
<p>The following example involves a list of players on a team:</p>
<p class="CodeLabel"><b>players.py</b></p>
<pre><code>players = ['charles', 'martina', 'michael', 'florence', 'eli']
print(players[0:3])</code></pre>
<p>This code prints a slice of the list. The output retains the structure of the list, and includes the first three players in the list:</p>
<pre><code>['charles', 'martina', 'michael']</code></pre>
<p>You can generate any subset of a list. For example, if you want the second, third, and fourth items in a list, you would start the slice at index <code>1</code> and end it at index <code>4</code>:</p>
<pre><code><span class="LiteralGray">players = ['charles', 'martina', 'michael', 'florence', 'eli']</span>
print(players[1:4])</code></pre>
<p>This time the slice starts with <code>'martina'</code> and ends with <code>'florence'</code>:</p>
<pre><code>['martina', 'michael', 'florence']</code></pre>
<p>If you omit the first index in a slice, Python automatically starts your slice at the beginning of the list:</p>
<pre><code><span class="LiteralGray">players = ['charles', 'martina', 'michael', 'florence', 'eli']</span>
print(players[:4])</code></pre>
<p>Without a starting index, Python starts at the beginning of the list:</p>
<pre><code>['charles', 'martina', 'michael', 'florence']</code></pre>
<p>A similar syntax works if you want a slice that includes the end of a list. For example, if you want all items from the third item through the last item, you can start with index <code>2</code> and omit the second index:</p>
<pre><code><span class="LiteralGray">players = ['charles', 'martina', 'michael', 'florence', 'eli']</span>
print(players[2:])</code></pre>
<p><span epub:type="pagebreak" title="62" id="Page_62"/>Python returns all items from the third item through the end of the list:</p>
<pre><code>['michael', 'florence', 'eli']</code></pre>
<p>This syntax allows you to output all of the elements from any point in your list to the end, regardless of the length of the list. Recall that a negative index returns an element a certain distance from the end of a list; therefore, you can output any slice from the end of a list. For example, if we want to output the last three players on the roster, we can use the slice <code>players[-3:]</code>:</p>
<pre><code><span class="LiteralGray">players = ['charles', 'martina', 'michael', 'florence', 'eli']</span>
print(players[-3:])</code></pre>
<p>This prints the names of the last three players and will continue to work as the list of players changes in size.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	You can include a third value in the brackets indicating a slice. If a third value is included, this tells Python how many items to skip between items in the specified range.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c04-0014">Looping Through a Slice</h3>
<p class="BodyFirst">You can use a slice in a <code>for</code> loop if you want to loop through a subset of the elements in a list. In the next example, we loop through the first three players and print their names as part of a simple roster:</p>
<pre><code><span class="LiteralGray">players = ['charles', 'martina', 'michael', 'florence', 'eli']</span>

print("Here are the first three players on my team:")
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> for player in players[:3]:
    print(player.title())</code></pre>
<p>Instead of looping through the entire list of players, Python loops through only the first three names <span class="CodeAnnotation" aria-label="annotation1">❶</span>:</p>
<pre><code>Here are the first three players on my team:
Charles
Martina
Michael</code></pre>
<p>Slices are very useful in a number of situations. For instance, when you’re creating a game, you could add a player’s final score to a list every time that player finishes playing. You could then get a player’s top three scores by sorting the list in decreasing order and taking a slice that includes just the first three scores. When you’re working with data, you can use slices to process your data in chunks of a specific size. Or, when you’re building a web application, you could use slices to display information in a series of pages with an appropriate amount of information on each page.</p>
<h3 id="h2-502703c04-0015"><span epub:type="pagebreak" title="63" id="Page_63"/>Copying a List</h3>
<p class="BodyFirst">Often, you’ll want to start with an existing list and make an entirely new list based on the first one. Let’s explore how copying a list works and examine one situation in which copying a list is useful.</p>
<p>To copy a list, you can make a slice that includes the entire original list by omitting the first index and the second index (<code>[:]</code>). This tells Python to make a slice that starts at the first item and ends with the last item, producing a copy of the entire list.</p>
<p>For example, imagine we have a list of our favorite foods and want to make a separate list of foods that a friend likes. This friend likes everything in our list so far, so we can create their list by copying ours:</p>
<p class="CodeLabel"><b>foods.py</b></p>
<pre><code>my_foods = ['pizza', 'falafel', 'carrot cake']
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> friend_foods = my_foods[:]

print("My favorite foods are:")
print(my_foods)

print("\nMy friend's favorite foods are:")
print(friend_foods)</code></pre>
<p>First, we make a list of the foods we like called <code>my_foods</code>. Then we make a new list called <code>friend_foods</code>. We make a copy of <code>my_foods</code> by asking for a slice of <code>my_foods</code> without specifying any indices <span class="CodeAnnotation" aria-label="annotation1">❶</span>, and assign the copy to <code>friend_foods</code>. When we print each list, we see that they both contain the same foods:</p>
<pre><code>My favorite foods are:
['pizza', 'falafel', 'carrot cake']

My friend's favorite foods are:
['pizza', 'falafel', 'carrot cake']</code></pre>
<p>To prove that we actually have two separate lists, we’ll add a new food to each list and show that each list keeps track of the appropriate person’s favorite foods:</p>
<pre><code><span class="LiteralGray">my_foods = ['pizza', 'falafel', 'carrot cake']</span>
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> <span class="LiteralGray">friend_foods = my_foods[:]</span>

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> my_foods.append('cannoli')
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> friend_foods.append('ice cream')

<span class="LiteralGray">print("My favorite foods are:")</span>
<span class="LiteralGray">print(my_foods)</span>

<span class="LiteralGray">print("\nMy friend's favorite foods are:")</span>
<span class="LiteralGray">print(friend_foods)</span></code></pre>
<p><span epub:type="pagebreak" title="64" id="Page_64"/>We copy the original items in <code>my_foods</code> to the new list <code>friend_foods</code>, as we did in the previous example <span class="CodeAnnotation" aria-label="annotation1">❶</span>. Next, we add a new food to each list: we add <code>'cannoli'</code> to <code>my_foods</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span>, and we add <code>'ice cream'</code> to <code>friend_foods</code> <span class="CodeAnnotation" aria-label="annotation3">❸</span>. We then print the two lists to see whether each of these foods is in the appropriate list:</p>
<pre><code>My favorite foods are:
['pizza', 'falafel', 'carrot cake', 'cannoli']

My friend's favorite foods are:
['pizza', 'falafel', 'carrot cake', 'ice cream']</code></pre>
<p>The output shows that <code>'cannoli'</code> now appears in our list of favorite foods but <code>'ice cream'</code> does not. We can see that <code>'ice cream'</code> now appears in our friend’s list but <code>'cannoli'</code> does not. If we had simply set <code>friend_foods</code> equal to <code>my_foods</code>, we would not produce two separate lists. For example, here’s what happens when you try to copy a list without using a slice:</p>
<pre><code><span class="LiteralGray">my_foods = ['pizza', 'falafel', 'carrot cake']</span>

# This doesn't work:
friend_foods = my_foods

<span class="LiteralGray">my_foods.append('cannoli')</span>
<span class="LiteralGray">friend_foods.append('ice cream')</span>

<span class="LiteralGray">print("My favorite foods are:")</span>
<span class="LiteralGray">print(my_foods)</span>

<span class="LiteralGray">print("\nMy friend's favorite foods are:")</span>
<span class="LiteralGray">print(friend_foods)</span></code></pre>
<p>Instead of assigning a copy of <code>my_foods</code> to <code>friend_foods</code>, we set <code>friend_foods</code> equal to <code>my_foods</code>. This syntax actually tells Python to associate the new variable <code>friend_foods</code> with the list that is already associated with <code>my_foods</code>, so now both variables point to the same list. As a result, when we add <code>'cannoli'</code> to <code>my_foods</code>, it will also appear in <code>friend_foods</code>. Likewise <code>'ice cream'</code> will appear in both lists, even though it appears to be added only to <code>friend_foods</code>.</p>
<p>The output shows that both lists are the same now, which is not what we wanted:</p>
<pre><code>My favorite foods are:
['pizza', 'falafel', 'carrot cake', 'cannoli', 'ice cream']

My friend's favorite foods are:
['pizza', 'falafel', 'carrot cake', 'cannoli', 'ice cream']</code></pre>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	Don’t worry about the details in this example for now. If you’re trying to work with a copy of a list and you see unexpected behavior, make sure you are copying the list using a slice, as we did in the first example.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2><span epub:type="pagebreak" title="65" id="Page_65"/>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c04-25" class="BoxNumber">4-10. Slices:</span> Using one of the programs you wrote in this chapter, add several lines to the end of the program that do the following:</p>
<ul>
<li>Print the message <em>The first three items in the list are:</em>. Then use a slice to print the first three items from that program’s list.</li>
<li>Print the message <em>Three items from the middle of the list are:</em>. Then use a slice to print three items from the middle of the list.</li>
<li>Print the message <em>The last three items in the list are:</em>. Then use a slice to print the last three items in the list.</li>
</ul>
<p class="BoxBodyCustom"><span id="h2-502703c04-26" class="BoxNumber">4-11. My Pizzas, Your Pizzas:</span> Start with your program from <span class="xref" itemid="xref_target_Exercise 4-1">Exercise 4-1</span> (<span class="xref" itemid="xref_target_page 56">page 56</span>). Make a copy of the list of pizzas, and call it <code>friend_pizzas</code>. Then, do the following:</p>
<ul>
<li>Add a new pizza to the original list.</li>
<li>Add a different pizza to the list <code>friend_pizzas</code>.</li>
<li>Prove that you have two separate lists. Print the message <em>My favorite pizzas are:</em>, and then use a <code>for</code> loop to print the first list. Print the message <em>My friend’s favorite pizzas are:</em>, and then use a <code>for</code> loop to print the second list. Make sure each new pizza is stored in the appropriate list.</li>
</ul>
<p class="BoxBodyCustom"><span id="h2-502703c04-27" class="BoxNumber">4-12. More Loops:</span> All versions of <em>foods.py</em> in this section have avoided using <code>for</code> loops when printing, to save space. Choose a version of <em>foods.py</em>, and write two <code>for</code> loops to print each list of foods.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c04-0005">Tuples</h2>
<p class="BodyFirst">Lists work well for storing collections of items that can change throughout the life of a program. The ability to modify lists is particularly important when you’re working with a list of users on a website or a list of characters in a game. However, sometimes you’ll want to create a list of items that cannot change. Tuples allow you to do just that. Python refers to values that cannot change as <em>immutable</em>, and an immutable list is called a <em>tuple</em>.</p>
<h3 id="h2-502703c04-0016">Defining a Tuple</h3>
<p class="BodyFirst">A tuple looks just like a list, except you use parentheses instead of square brackets. Once you define a tuple, you can access individual elements by using each item’s index, just as you would for a list.</p>
<p><span epub:type="pagebreak" title="66" id="Page_66"/>For example, if we have a rectangle that should always be a certain size, we can ensure that its size doesn’t change by putting the dimensions into a tuple:</p>
<p class="CodeLabel"><b>dimensions.py</b></p>
<pre><code>dimensions = (200, 50)
print(dimensions[0])
print(dimensions[1])</code></pre>
<p>We define the tuple <code>dimensions</code>, using parentheses instead of square brackets. Then we print each element in the tuple individually, using the same syntax we’ve been using to access elements in a list:</p>
<pre><code>200
50</code></pre>
<p>Let’s see what happens if we try to change one of the items in the tuple <code>dimensions</code>:</p>
<pre><code><span class="LiteralGray">dimensions = (200, 50)</span>
dimensions[0] = 250</code></pre>
<p>This code tries to change the value of the first dimension, but Python returns a type error. Because we’re trying to alter a tuple, which can’t be done to that type of object, Python tells us we can’t assign a new value to an item in a tuple:</p>
<pre><code>Traceback (most recent call last):
  File "dimensions.py", line 2, in &lt;module&gt;
    dimensions[0] = 250
TypeError: 'tuple' object does not support item assignment</code></pre>
<p>This is beneficial because we want Python to raise an error when a line of code tries to change the dimensions of the rectangle.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	Tuples are technically defined by the presence of a comma; the parentheses make them look neater and more readable. If you want to define a tuple with one element, you need to include a trailing comma:</p>
<pre><code>    my_t = (3,)</code></pre>
<p class="Continued">It doesn’t often make sense to build a tuple with one element, but this can happen when tuples are generated automatically.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c04-0017">Looping Through All Values in a Tuple</h3>
<p class="BodyFirst">You can loop over all the values in a tuple using a <code>for</code> loop, just as you did with a list:</p>
<pre><code><span class="LiteralGray">dimensions = (200, 50)</span>
for dimension in dimensions:
    print(dimension)</code></pre>
<p><span epub:type="pagebreak" title="67" id="Page_67"/>Python returns all the elements in the tuple, just as it would for a list:</p>
<pre><code>200
50</code></pre>
<h3 id="h2-502703c04-0018">Writing Over a Tuple</h3>
<p class="BodyFirst">Although you can’t modify a tuple, you can assign a new value to a variable that represents a tuple. For example, if we wanted to change the dimensions of this rectangle, we could redefine the entire tuple:</p>
<pre><code><span class="LiteralGray">dimensions = (200, 50)</span>
print("Original dimensions:")
for dimension in dimensions:
    print(dimension)

dimensions = (400, 100)
print("\nModified dimensions:")
for dimension in dimensions:
    print(dimension)</code></pre>
<p>The first four lines define the original tuple and print the initial dimensions. We then associate a new tuple with the variable <code>dimensions</code>, and print the new values. Python doesn’t raise any errors this time, because reassigning a variable is valid:</p>
<pre><code>Original dimensions:
200
50

Modified dimensions:
400
100</code></pre>
<p>When compared with lists, tuples are simple data structures. Use them when you want to store a set of values that should not be changed throughout the life of a program.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c04-31" class="BoxNumber">4-13. Buffet:</span> A buffet-style restaurant offers only five basic foods. Think of five simple foods, and store them in a tuple.</p>
<ul>
<li>Use a <code>for</code> loop to print each food the restaurant offers.</li>
<li>Try to modify one of the items, and make sure that Python rejects the change.</li>
<li>The restaurant changes its menu, replacing two of the items with different foods. Add a line that rewrites the tuple, and then use a <code>for</code> loop to print each of the items on the revised menu.</li>
</ul>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c04-0006"><span epub:type="pagebreak" title="68" id="Page_68"/>Styling Your Code</h2>
<p class="BodyFirst">Now that you’re writing longer programs, it’s a good idea to learn how to style your code consistently. Take the time to make your code as easy as possible to read. Writing easy-to-read code helps you keep track of what your programs are doing and helps others understand your code as well.</p>
<p>Python programmers have agreed on a number of styling conventions to ensure that everyone’s code is structured in roughly the same way. Once you’ve learned to write clean Python code, you should be able to understand the overall structure of anyone else’s Python code, as long as they follow the same guidelines. If you’re hoping to become a professional programmer at some point, you should begin following these guidelines as soon as possible to develop good habits.</p>
<h3 id="h2-502703c04-0019">The Style Guide</h3>
<p class="BodyFirst">When someone wants to make a change to the Python language, they write a <em>Python Enhancement Proposal (PEP)</em>. One of the oldest PEPs is <em>PEP 8</em>, which instructs Python programmers on how to style their code. PEP 8 is fairly lengthy, but much of it relates to more complex coding structures than what you’ve seen so far.</p>
<p>The Python style guide was written with the understanding that code is read more often than it is written. You’ll write your code once and then start reading it as you begin debugging. When you add features to a program, you’ll spend more time reading your code. When you share your code with other programmers, they’ll read your code as well.</p>
<p>Given the choice between writing code that’s easier to write or code that’s easier to read, Python programmers will almost always encourage you to write code that’s easier to read. The following guidelines will help you write clear code from the start.</p>
<h3 id="h2-502703c04-0020">Indentation</h3>
<p class="BodyFirst">PEP 8 recommends that you use four spaces per indentation level. Using four spaces improves readability while leaving room for multiple levels of indentation on each line.</p>
<p>In a word processing document, people often use tabs rather than spaces to indent. This works well for word processing documents, but the Python interpreter gets confused when tabs are mixed with spaces. Every text editor provides a setting that lets you use the TAB key but then converts each tab to a set number of spaces. You should definitely use your TAB key, but also make sure your editor is set to insert spaces rather than tabs into your document.</p>
<p>Mixing tabs and spaces in your file can cause problems that are very difficult to diagnose. If you think you have a mix of tabs and spaces, you can convert all tabs in a file to spaces in most editors.</p>
<h3 id="h2-502703c04-0021"><span epub:type="pagebreak" title="69" id="Page_69"/>Line Length</h3>
<p class="BodyFirst">Many Python programmers recommend that each line should be less than 80 characters. Historically, this guideline developed because most computers could fit only 79 characters on a single line in a terminal window. Currently, people can fit much longer lines on their screens, but other reasons exist to adhere to the 79-character standard line length.</p>
<p>Professional programmers often have several files open on the same screen, and using the standard line length allows them to see entire lines in two or three files that are open side by side onscreen. PEP 8 also recommends that you limit all of your comments to 72 characters per line, because some of the tools that generate automatic documentation for larger projects add formatting characters at the beginning of each commented line.</p>
<p>The PEP 8 guidelines for line length are not set in stone, and some teams prefer a 99-character limit. Don’t worry too much about line length in your code as you’re learning, but be aware that people who are working collaboratively almost always follow the PEP 8 guidelines. Most editors allow you to set up a visual cue, usually a vertical line on your screen, that shows you where these limits are.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	<span class="xref" itemid="xref_target_Appendix B">Appendix B</span> shows you how to configure your text editor so it always inserts four spaces each time you press the TAB key and shows a vertical guideline to help you follow the 79-character limit.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c04-0022">Blank Lines</h3>
<p class="BodyFirst">To group parts of your program visually, use blank lines. You should use blank lines to organize your files, but don’t do so excessively. By following the examples provided in this book, you should strike the right balance. For example, if you have five lines of code that build a list and then another three lines that do something with that list, it’s appropriate to place a blank line between the two sections. However, you should not place three or four blank lines between the two sections.</p>
<p>Blank lines won’t affect how your code runs, but they will affect the readability of your code. The Python interpreter uses horizontal indentation to interpret the meaning of your code, but it disregards vertical spacing.</p>
<h3 id="h2-502703c04-0023">Other Style Guidelines</h3>
<p class="BodyFirst">PEP 8 has many additional styling recommendations, but most of the guidelines refer to more complex programs than what you’re writing at this point. As you learn more complex Python structures, I’ll share the relevant parts of the PEP 8 guidelines.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2><span epub:type="pagebreak" title="70" id="Page_70"/>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c04-37" class="BoxNumber">4-14. PEP 8:</span> Look through the original PEP 8 style guide at <a href="https://python.org/dev/peps/pep-0008" class="LinkURL">https://python.org/dev/peps/pep-0008</a>. You won’t use much of it now, but it might be interesting to skim through it.</p>
<p class="BoxBodyCustom"><span id="h2-502703c04-38" class="BoxNumber">4-15. Code Review:</span> Choose three of the programs you’ve written in this chapter and modify each one to comply with PEP 8.</p>
<ul>
<li>Use four spaces for each indentation level. Set your text editor to insert four spaces every time you press the TAB key, if you haven’t already done so (see <span class="xref" itemid="xref_target_Appendix B">Appendix B</span> for instructions on how to do this).</li>
<li>Use less than 80 characters on each line, and set your editor to show a vertical guideline at the 80th character position.</li>
<li>Don’t use blank lines excessively in your program files.</li>
</ul>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c04-0007">Summary</h2>
<p class="BodyFirst">In this chapter, you learned how to work efficiently with the elements in a list. You learned how to work through a list using a <code>for</code> loop, how Python uses indentation to structure a program, and how to avoid some common indentation errors. You learned to make simple numerical lists, as well as a few operations you can perform on numerical lists. You learned how to slice a list to work with a subset of items and how to copy lists properly using a slice. You also learned about tuples, which provide a degree of protection to a set of values that shouldn’t change, and how to style your increasingly complex code to make it easy to read.</p>
<p>In <span class="xref" itemid="xref_target_Chapter 5">Chapter 5</span>, you’ll learn to respond appropriately to different conditions by using <code>if</code> statements. You’ll learn to string together relatively complex sets of conditional tests to respond appropriately to exactly the kind of situation or information you’re looking for. You’ll also learn to use <code>if</code> statements while looping through a list to take specific actions with selected elements from a list.</p>
</section>
</div>
<div id="sbo-rt-content"><section>
<header>
<h1 class="chapter">
<span class="ChapterNumber"><span epub:type="pagebreak" title="71" id="Page_71"/>5</span><br/>
<span class="ChapterTitle">if Statements</span></h1>
</header>
<figure class="opener">
<img src="Images/chapterart.png" alt="" width="406" height="406"/>
</figure>
<p class="ChapterIntro">Programming often involves examining a set of conditions and deciding which action to take based on those conditions. Python’s <code>if</code> statement allows you to examine the current state of a program and respond appropriately to that state.</p>
<p>In this chapter, you’ll learn to write conditional tests, which allow you to check any condition of interest. You’ll learn to write simple <code>if</code> statements, and you’ll learn how to create a more complex series of <code>if</code> statements to identify when the exact conditions you want are present. You’ll then apply this concept to lists, so you’ll be able to write a <code>for</code> loop that handles most items in a list one way but handles certain items with specific values in a different way.</p>
<h2 id="h1-502703c05-0001"><span epub:type="pagebreak" title="72" id="Page_72"/>A Simple Example</h2>
<p class="BodyFirst">The following example shows how <code>if</code> tests let you respond to special situations correctly. Imagine you have a list of cars and you want to print out the name of each car. Car names are proper names, so the names of most cars should be printed in title case. However, the value <code>'bmw'</code> should be printed in all uppercase. The following code loops through a list of car names and looks for the value <code>'bmw'</code>. Whenever the value is <code>'bmw'</code>, it’s printed in uppercase instead of title case:</p>
<p class="CodeLabel"><b>cars.py</b></p>
<pre><code>cars = ['audi', 'bmw', 'subaru', 'toyota']

for car in cars:
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     if car == 'bmw':
        print(car.upper())
    else:
        print(car.title())</code></pre>
<p>The loop in this example first checks if the current value of <code>car</code> is <code>'bmw'</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>. If it is, the value is printed in uppercase. If the value of <code>car</code> is anything other than <code>'bmw'</code>, it’s printed in title case:</p>
<pre><code>Audi
BMW
Subaru
Toyota</code></pre>
<p>This example combines a number of the concepts you’ll learn about in this chapter. Let’s begin by looking at the kinds of tests you can use to examine the conditions in your program.</p>
<h2 id="h1-502703c05-0002">Conditional Tests</h2>
<p class="BodyFirst">At the heart of every <code>if</code> statement is an expression that can be evaluated as <code>True</code> or <code>False</code> and is called a <em>conditional test</em>. Python uses the values <code>True</code> and <code>False</code> to decide whether the code in an <code>if</code> statement should be executed. If a conditional test evaluates to <code>True</code>, Python executes the code following the <code>if</code> statement. If the test evaluates to <code>False</code>, Python ignores the code following the <code>if</code> statement.</p>
<h3 id="h2-502703c05-0001">Checking for Equality</h3>
<p class="BodyFirst">Most conditional tests compare the current value of a variable to a specific value of interest. The simplest conditional test checks whether the value of a variable is equal to the value of interest:</p>
<pre><code>&gt;&gt;&gt; <b>car = 'bmw'</b>
&gt;&gt;&gt; <b>car == 'bmw'</b>
True</code></pre>
<p><span epub:type="pagebreak" title="73" id="Page_73"/>The first line sets the value of <code>car</code> to <code>'bmw'</code> using a single equal sign, as you’ve seen many times already. The next line checks whether the value of <code>car</code> is <code>'bmw'</code> by using a double equal sign (<code>==</code>). This <em>equality operator</em> returns <code>True</code> if the values on the left and right side of the operator match, and <code>False</code> if they don’t match. The values in this example match, so Python returns <code>True</code>.</p>
<p>When the value of <code>car</code> is anything other than <code>'bmw'</code>, this test returns <code>False</code>:</p>
<pre><code>&gt;&gt;&gt; <b>car = 'audi'</b>
&gt;&gt;&gt; <b>car == 'bmw'</b>
False</code></pre>
<p>A single equal sign is really a statement; you might read the first line of code here as “Set the value of <code>car</code> equal to <code>'audi'</code>.” On the other hand, a double equal sign asks a question: “Is the value of <code>car</code> equal to <code>'bmw'</code>?” Most programming languages use equal signs in this way.</p>
<h3 id="h2-502703c05-0002">Ignoring Case When Checking for Equality</h3>
<p class="BodyFirst">Testing for equality is case sensitive in Python. For example, two values with different capitalization are not considered equal:</p>
<pre><code>&gt;&gt;&gt; <b>car = 'Audi'</b>
&gt;&gt;&gt; <b>car == 'audi'</b>
False</code></pre>
<p>If case matters, this behavior is advantageous. But if case doesn’t matter and instead you just want to test the value of a variable, you can convert the variable’s value to lowercase before doing the comparison:</p>
<pre><code>&gt;&gt;&gt; <b>car = 'Audi'</b>
&gt;&gt;&gt; <b>car.lower() == 'audi'</b>
True</code></pre>
<p>This test will return <code>True</code> no matter how the value <code>'Audi'</code> is formatted because the test is now case insensitive. The <code>lower()</code> method doesn’t change the value that was originally stored in <code>car</code>, so you can do this kind of comparison without affecting the original variable:</p>
<pre><code>&gt;&gt;&gt; <b>car = 'Audi'</b>
&gt;&gt;&gt; <b>car.lower() == 'audi'</b>
True
&gt;&gt;&gt; <b>car</b>
'Audi'</code></pre>
<p>We first assign the capitalized string <code>'Audi'</code> to the variable <code>car</code>. Then, we convert the value of <code>car</code> to lowercase and compare the lowercase value to the string <code>'audi'</code>. The two strings match, so Python returns <code>True</code>. We can see that the value stored in <code>car</code> has not been affected by the <code>lower()</code> method.</p>
<p>Websites enforce certain rules for the data that users enter in a manner similar to this. For example, a site might use a conditional test like this to <span epub:type="pagebreak" title="74" id="Page_74"/>ensure that every user has a truly unique username, not just a variation on the capitalization of another person’s username. When someone submits a new username, that new username is converted to lowercase and compared to the lowercase versions of all existing usernames. During this check, a username like <code>'John'</code> will be rejected if any variation of <code>'john'</code> is already in use.</p>
<h3 id="h2-502703c05-0003">Checking for Inequality</h3>
<p class="BodyFirst">When you want to determine whether two values are not equal, you can use the <em>inequality operator</em> (<code>!=</code>). Let’s use another <code>if</code> statement to examine how to use the inequality operator. We’ll store a requested pizza topping in a variable and then print a message if the person did not order anchovies:</p>
<p class="CodeLabel"><b>toppings.py</b></p>
<pre><code>requested_topping = 'mushrooms'

if requested_topping != 'anchovies':
    print("Hold the anchovies!")</code></pre>
<p>This code compares the value of <code>requested_topping</code> to the value <code>'anchovies'</code>. If these two values do not match, Python returns <code>True</code> and executes the code following the <code>if</code> statement. If the two values match, Python returns <code>False</code> and does not run the code following the <code>if</code> statement.</p>
<p>Because the value of <code>requested_topping</code> is not <code>'anchovies'</code>, the <code>print()</code> function is executed:</p>
<pre><code>Hold the anchovies!</code></pre>
<p>Most of the conditional expressions you write will test for equality, but sometimes you’ll find it more efficient to test for inequality.</p>
<h3 id="h2-502703c05-0004">Numerical Comparisons</h3>
<p class="BodyFirst">Testing numerical values is pretty straightforward. For example, the following code checks whether a person is 18 years old:</p>
<pre><code>&gt;&gt;&gt; <b>age = 18</b>
&gt;&gt;&gt; <b>age == 18</b>
True</code></pre>
<p>You can also test to see if two numbers are not equal. For example, the following code prints a message if the given answer is not correct:</p>
<p class="CodeLabel"><b>magic_number.py</b></p>
<pre><code>answer = 17
if answer != 42:
    print("That is not the correct answer. Please try again!")</code></pre>
<p>The conditional test passes, because the value of <code>answer</code> (<code>17</code>) is not equal to <code>42</code>. Because the test passes, the indented code block is executed:</p>
<pre><code>That is not the correct answer. Please try again!</code></pre>
<p><span epub:type="pagebreak" title="75" id="Page_75"/>You can include various mathematical comparisons in your conditional statements as well, such as less than, less than or equal to, greater than, and greater than or equal to:</p>
<pre><code>&gt;&gt;&gt; <b>age = 19</b>
&gt;&gt;&gt; <b>age &lt; 21</b>
True
&gt;&gt;&gt; <b>age &lt;= 21</b>
True
&gt;&gt;&gt; <b>age &gt; 21</b>
False
&gt;&gt;&gt; <b>age &gt;= 21</b>
False</code></pre>
<p>Each mathematical comparison can be used as part of an <code>if</code> statement, which can help you detect the exact conditions of interest.</p>
<h3 id="h2-502703c05-0005">Checking Multiple Conditions</h3>
<p class="BodyFirst">You may want to check multiple conditions at the same time. For example, sometimes you might need two conditions to be <code>True</code> to take an action. Other times, you might be satisfied with just one condition being <code>True</code>. The keywords <code>and</code> and <code>or</code> can help you in these situations.</p>
<h4 id="h3-502703c05-0001">Using and to Check Multiple Conditions</h4>
<p class="BodyFirst">To check whether two conditions are both <code>True</code> simultaneously, use the keyword <code>and</code> to combine the two conditional tests; if each test passes, the overall expression evaluates to <code>True</code>. If either test fails or if both tests fail, the expression evaluates to <code>False</code>.</p>
<p>For example, you can check whether two people are both over 21 by using the following test:</p>
<pre><code>&gt;&gt;&gt; <b>age_0 = 22</b>
&gt;&gt;&gt; <b>age_1 = 18</b>
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> &gt;&gt;&gt; <b>age_0 &gt;= 21 and age_1 &gt;= 21</b>
False
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> &gt;&gt;&gt; <b>age_1 = 22</b>
&gt;&gt;&gt; <b>age_0 &gt;= 21 and age_1 &gt;= 21</b>
True</code></pre>
<p>First, we define two ages, <code>age_0</code> and <code>age_1</code>. Then we check whether both ages are 21 or older <span class="CodeAnnotation" aria-label="annotation1">❶</span>. The test on the left passes, but the test on the right fails, so the overall conditional expression evaluates to <code>False</code>. We then change <code>age_1</code> to 22 <span class="CodeAnnotation" aria-label="annotation2">❷</span>. The value of <code>age_1</code> is now greater than 21, so both individual tests pass, causing the overall conditional expression to evaluate as <code>True</code>.</p>
<p>To improve readability, you can use parentheses around the individual tests, but they are not required. If you use parentheses, your test would look like this:</p>
<pre><code>(age_0 &gt;= 21) and (age_1 &gt;= 21)</code></pre>
<h4 id="h3-502703c05-0002"><span epub:type="pagebreak" title="76" id="Page_76"/>Using or to Check Multiple Conditions</h4>
<p class="BodyFirst">The keyword <code>or</code> allows you to check multiple conditions as well, but it passes when either or both of the individual tests pass. An <code>or</code> expression fails only when both individual tests fail.</p>
<p>Let’s consider two ages again, but this time we’ll look for only one person to be over 21:</p>
<pre><code>&gt;&gt;&gt; <b>age_0 = 22</b>
&gt;&gt;&gt; <b>age_1 = 18</b>
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> &gt;&gt;&gt; <b>age_0 &gt;= 21 or age_1 &gt;= 21</b>
True
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> &gt;&gt;&gt; <b>age_0 = 18</b>
&gt;&gt;&gt; <b>age_0 &gt;= 21 or age_1 &gt;= 21</b>
False</code></pre>
<p>We start with two age variables again. Because the test for <code>age_0</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span> passes, the overall expression evaluates to <code>True</code>. We then lower <code>age_0</code> to 18. In the final test <span class="CodeAnnotation" aria-label="annotation2">❷</span>, both tests now fail and the overall expression evaluates to <code>False</code>.</p>
<h3 id="h2-502703c05-0006">Checking Whether a Value Is in a List</h3>
<p class="BodyFirst">Sometimes it’s important to check whether a list contains a certain value before taking an action. For example, you might want to check whether a new username already exists in a list of current usernames before completing someone’s registration on a website. In a mapping project, you might want to check whether a submitted location already exists in a list of known locations.</p>
<p>To find out whether a particular value is already in a list, use the keyword <code>in</code>. Let’s consider some code you might write for a pizzeria. We’ll make a list of toppings a customer has requested for a pizza and then check whether certain toppings are in the list.</p>
<pre><code>&gt;&gt;&gt; <b>requested_toppings = ['mushrooms', 'onions', 'pineapple']</b>
&gt;&gt;&gt; <b>'mushrooms' in requested_toppings</b>
True
&gt;&gt;&gt; <b>'pepperoni' in requested_toppings</b>
False</code></pre>
<p>The keyword <code>in</code> tells Python to check for the existence of <code>'mushrooms'</code> and <code>'pepperoni'</code> in the list <code>requested_toppings</code>. This technique is quite powerful because you can create a list of essential values, and then easily check whether the value you’re testing matches one of the values in the list.</p>
<h3 id="h2-502703c05-0007">Checking Whether a Value Is Not in a List</h3>
<p class="BodyFirst">Other times, it’s important to know if a value does not appear in a list. You can use the keyword <code>not</code> in this situation. For example, consider a list of users who are banned from commenting in a forum. You can check whether a user has been banned before allowing that person to submit a comment:</p>
<p class="CodeLabel"><b>banned_users.py</b></p>
<pre><code>banned_users = ['andrew', 'carolina', 'david']
user = 'marie'

<span epub:type="pagebreak" title="77" id="Page_77"/>if user not in banned_users:
    print(f"{user.title()}, you can post a response if you wish.")</code></pre>
<p>The <code>if</code> statement here reads quite clearly. If the value of <code>user</code> is not in the list <code>banned_users</code>, Python returns <code>True</code> and executes the indented line.</p>
<p>The user <code>'marie'</code> is not in the list <code>banned_users</code>, so she sees a message inviting her to post a response:</p>
<pre><code>Marie, you can post a response if you wish.</code></pre>
<h3 id="h2-502703c05-0008">Boolean Expressions</h3>
<p class="BodyFirst">As you learn more about programming, you’ll hear the term <em>Boolean expression</em> at some point. A Boolean expression is just another name for a conditional test. A <em>Boolean value</em> is either <code>True</code> or <code>False</code>, just like the value of a conditional expression after it has been evaluated.</p>
<p>Boolean values are often used to keep track of certain conditions, such as whether a game is running or whether a user can edit certain content on a website:</p>
<pre><code>game_active = True
can_edit = False</code></pre>
<p>Boolean values provide an efficient way to track the state of a program or a particular condition that is important in your program.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c05-09" class="BoxNumber">5-1. Conditional Tests:</span> Write a series of conditional tests. Print a statement describing each test and your prediction for the results of each test. Your code should look something like this:</p>
<pre><code>car = 'subaru'
print("Is car == 'subaru'? I predict True.")
print(car == 'subaru')

print("\nIs car == 'audi'? I predict False.")
print(car == 'audi')</code></pre>
<ul>
<li>Look closely at your results, and make sure you understand why each line evaluates to <code>True</code> or <code>False</code>.</li>
<li>Create at least 10 tests. Have at least 5 tests evaluate to <code>True</code> and another 5 tests evaluate to <code>False</code>.</li>
</ul>
<p class="BoxBodyCustom"><span id="h2-502703c05-10" class="BoxNumber">5-2. <span epub:type="pagebreak" title="78" id="Page_78"/>More Conditional Tests:</span> You don’t have to limit the number of tests you create to 10. If you want to try more comparisons, write more tests and add them to <em>conditional_tests.py</em>. Have at least one <code>True</code> and one <code>False</code> result for each of the following:</p>
<ul>
<li>Tests for equality and inequality with strings</li>
<li>Tests using the <code>lower()</code> method</li>
<li>Numerical tests involving equality and inequality, greater than and less than, greater than or equal to, and less than or equal to</li>
<li>Tests using the <code>and</code> keyword and the <code>or</code> keyword</li>
<li>Test whether an item is in a list</li>
<li>Test whether an item is not in a list</li>
</ul>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c05-0003">if Statements</h2>
<p class="BodyFirst">When you understand conditional tests, you can start writing <code>if</code> statements. Several different kinds of <code>if</code> statements exist, and your choice of which to use depends on the number of conditions you need to test. You saw several examples of <code>if</code> statements in the discussion about conditional tests, but now let’s dig deeper into the topic.</p>
<h3 id="h2-502703c05-0009">Simple if Statements</h3>
<p class="BodyFirst">The simplest kind of <code>if</code> statement has one test and one action:</p>
<pre><code>if <var>conditional_test</var>:
    <var>do something</var></code></pre>
<p>You can put any conditional test in the first line and just about any action in the indented block following the test. If the conditional test evaluates to <code>True</code>, Python executes the code following the <code>if</code> statement. If the test evaluates to <code>False</code>, Python ignores the code following the <code>if</code> statement.</p>
<p>Let’s say we have a variable representing a person’s age, and we want to know if that person is old enough to vote. The following code tests whether the person can vote:</p>
<p class="CodeLabel"><b>voting.py</b></p>
<pre><code>age = 19
if age &gt;= 18:
    print("You are old enough to vote!")</code></pre>
<p>Python checks to see whether the value of <code>age</code> is greater than or equal to 18. It is, so Python executes the indented <code>print()</code> call:</p>
<pre><code>You are old enough to vote!</code></pre>
<p><span epub:type="pagebreak" title="79" id="Page_79"/>Indentation plays the same role in <code>if</code> statements as it did in <code>for</code> loops. All indented lines after an <code>if</code> statement will be executed if the test passes, and the entire block of indented lines will be ignored if the test does not pass.</p>
<p>You can have as many lines of code as you want in the block following the <code>if</code> statement. Let’s add another line of output if the person is old enough to vote, asking if the individual has registered to vote yet:</p>
<pre><code><span class="LiteralGray">age = 19</span>
<span class="LiteralGray">if age &gt;= 18:</span>
<span class="LiteralGray">    print("You are old enough to vote!")</span>
    print("Have you registered to vote yet?")</code></pre>
<p>The conditional test passes, and both <code>print()</code> calls are indented, so both lines are printed:</p>
<pre><code>You are old enough to vote!
Have you registered to vote yet?</code></pre>
<p>If the value of <code>age</code> is less than 18, this program would produce no output.</p>
<h3 id="h2-502703c05-0010">if-else Statements</h3>
<p class="BodyFirst">Often, you’ll want to take one action when a conditional test passes and a different action in all other cases. Python’s <code>if</code>-<code>else</code> syntax makes this possible. An <code>if</code>-<code>else</code> block is similar to a simple <code>if</code> statement, but the <code>else</code> statement allows you to define an action or set of actions that are executed when the conditional test fails.</p>
<p>We’ll display the same message we had previously if the person is old enough to vote, but this time we’ll add a message for anyone who is not old enough to vote:</p>
<pre><code>age = 17
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> <span class="LiteralGray">if age &gt;= 18:</span>
<span class="LiteralGray">    print("You are old enough to vote!")</span>
<span class="LiteralGray">    print("Have you registered to vote yet?")</span>
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> else:
    print("Sorry, you are too young to vote.")
    print("Please register to vote as soon as you turn 18!")</code></pre>
<p>If the conditional test <span class="CodeAnnotation" aria-label="annotation1">❶</span> passes, the first block of indented <code>print()</code> calls is executed. If the test evaluates to <code>False</code>, the <code>else</code> block <span class="CodeAnnotation" aria-label="annotation2">❷</span> is executed. Because <code>age</code> is less than 18 this time, the conditional test fails and the code in the <code>else</code> block is executed:</p>
<pre><code>Sorry, you are too young to vote.
Please register to vote as soon as you turn 18!</code></pre>
<p>This code works because it has only two possible situations to evaluate: a person is either old enough to vote or not old enough to vote. The <code>if</code>-<code>else</code> <span epub:type="pagebreak" title="80" id="Page_80"/>structure works well in situations in which you want Python to always execute one of two possible actions. In a simple <code>if-else</code> chain like this, one of the two actions will always be executed.</p>
<h3 id="h2-502703c05-0011">The if-elif-else Chain</h3>
<p class="BodyFirst">Often, you’ll need to test more than two possible situations, and to evaluate these you can use Python’s <code>if</code>-<code>elif</code>-<code>else</code> syntax. Python executes only one block in an <code>if</code>-<code>elif</code>-<code>else</code> chain. It runs each conditional test in order, until one passes. When a test passes, the code following that test is executed and Python skips the rest of the tests.</p>
<p>Many real-world situations involve more than two possible conditions. For example, consider an amusement park that charges different rates for different age groups:</p>
<ul>
<li>Admission for anyone under age 4 is free.</li>
<li>Admission for anyone between the ages of 4 and 18 is $25.</li>
<li>Admission for anyone age 18 or older is $40.</li>
</ul>
<p>How can we use an <code>if</code> statement to determine a person’s admission rate? The following code tests for the age group of a person and then prints an admission price message:</p>
<p class="CodeLabel"><b>amusement_park.py</b></p>
<pre><code>age = 12
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> if age &lt; 4:
    print("Your admission cost is $0.")
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> elif age &lt; 18:
    print("Your admission cost is $25.")
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> else:
    print("Your admission cost is $40.")</code></pre>
<p>The <code>if</code> test <span class="CodeAnnotation" aria-label="annotation1">❶</span> checks whether a person is under 4 years old. When the test passes, an appropriate message is printed and Python skips the rest of the tests. The <code>elif</code> line <span class="CodeAnnotation" aria-label="annotation2">❷</span> is really another <code>if</code> test, which runs only if the previous test failed. At this point in the chain, we know the person is at least 4 years old because the first test failed. If the person is under 18, an appropriate message is printed and Python skips the <code>else</code> block. If both the <code>if</code> and <code>elif</code> tests fail, Python runs the code in the <code>else</code> block <span class="CodeAnnotation" aria-label="annotation3">❸</span>.</p>
<p>In this example the <code>if</code> test <span class="CodeAnnotation" aria-label="annotation1">❶</span> evaluates to <code>False</code>, so its code block is not executed. However, the <code>elif</code> test evaluates to <code>True</code> (12 is less than 18) so its code is executed. The output is one sentence, informing the user of the admission cost:</p>
<pre><code>Your admission cost is $25.</code></pre>
<p>Any age greater than 17 would cause the first two tests to fail. In these situations, the <code>else</code> block would be executed and the admission price would be $40.</p>
<p>Rather than printing the admission price within the <code>if</code>-<code>elif</code>-<code>else</code> block, it would be more concise to set just the price inside the <code>if</code>-<code>elif</code>-<code>else</code> chain <span epub:type="pagebreak" title="81" id="Page_81"/>and then have a single <code>print()</code> call that runs after the chain has been evaluated:</p>
<pre><code><span class="LiteralGray">age = 12</span>

<span class="LiteralGray">if age &lt; 4:</span>
    price = 0
<span class="LiteralGray">elif age &lt; 18:</span>
    price = 25
<span class="LiteralGray">else:</span>
    price = 40

print(f"Your admission cost is ${price}.")</code></pre>
<p>The indented lines set the value of <code>price</code> according to the person’s age, as in the previous example. After the price is set by the <code>if</code>-<code>elif</code>-<code>else</code> chain, a separate unindented <code>print()</code> call uses this value to display a message reporting the person’s admission price.</p>
<p>This code produces the same output as the previous example, but the purpose of the <code>if</code>-<code>elif</code>-<code>else</code> chain is narrower. Instead of determining a price and displaying a message, it simply determines the admission price. In addition to being more efficient, this revised code is easier to modify than the original approach. To change the text of the output message, you would need to change only one <code>print()</code> call rather than three separate <code>print()</code> calls.</p>
<h3 id="h2-502703c05-0012">Using Multiple elif Blocks</h3>
<p class="BodyFirst">You can use as many <code>elif</code> blocks in your code as you like. For example, if the amusement park were to implement a discount for seniors, you could add one more conditional test to the code to determine whether someone qualifies for the senior discount. Let’s say that anyone 65 or older pays half the regular admission, or $20:</p>
<pre><code><span class="LiteralGray">age = 12</span>

<span class="LiteralGray">if age &lt; 4:</span>
<span class="LiteralGray">    price = 0</span>
<span class="LiteralGray">elif age &lt; 18:</span>
<span class="LiteralGray">    price = 25</span>
elif age &lt; 65:
    price = 40
else:
    price = 20

<span class="LiteralGray">print(f"Your admission cost is ${price}.")</span></code></pre>
<p>Most of this code is unchanged. The second <code>elif</code> block now checks to make sure a person is less than age 65 before assigning them the full admission rate of $40. Notice that the value assigned in the <code>else</code> block needs to be changed to $20, because the only ages that make it to this block are for people 65 or older.</p>
<h3 id="h2-502703c05-0013"><span epub:type="pagebreak" title="82" id="Page_82"/>Omitting the else Block</h3>
<p class="BodyFirst">Python does not require an <code>else</code> block at the end of an <code>if</code>-<code>elif</code> chain. Sometimes, an <code>else</code> block is useful. Other times, it’s clearer to use an additional <code>elif</code> statement that catches the specific condition of interest:</p>
<pre><code><span class="LiteralGray">age = 12</span>

<span class="LiteralGray">if age &lt; 4:</span>
<span class="LiteralGray">    price = 0</span>
<span class="LiteralGray">elif age &lt; 18:</span>
<span class="LiteralGray">    price = 25</span>
<span class="LiteralGray">elif age &lt; 65:</span>
<span class="LiteralGray">    price = 40</span>
elif age &gt;= 65:
    <span class="LiteralGray">price = 20</span>

<span class="LiteralGray">print(f"Your admission cost is ${price}.")</span></code></pre>
<p>The final <code>elif</code> block assigns a price of $20 when the person is 65 or older, which is a little clearer than the general <code>else</code> block. With this change, every block of code must pass a specific test in order to be executed.</p>
<p>The <code>else</code> block is a catchall statement. It matches any condition that wasn’t matched by a specific <code>if</code> or <code>elif</code> test, and that can sometimes include invalid or even malicious data. If you have a specific final condition you’re testing for, consider using a final <code>elif</code> block and omit the <code>else</code> block. As a result, you’ll be more confident that your code will run only under the correct conditions.</p>
<h3 id="h2-502703c05-0014">Testing Multiple Conditions</h3>
<p class="BodyFirst">The <code>if</code>-<code>elif</code>-<code>else</code> chain is powerful, but it’s only appropriate to use when you just need one test to pass. As soon as Python finds one test that passes, it skips the rest of the tests. This behavior is beneficial, because it’s efficient and allows you to test for one specific condition.</p>
<p>However, sometimes it’s important to check all conditions of interest. In this case, you should use a series of simple <code>if</code> statements with no <code>elif</code> or <code>else</code> blocks. This technique makes sense when more than one condition could be <code>True</code>, and you want to act on every condition that is <code>True</code>.</p>
<p>Let’s reconsider the pizzeria example. If someone requests a two-topping pizza, you’ll need to be sure to include both toppings on their pizza:</p>
<p class="CodeLabel"><b>toppings.py</b></p>
<pre><code>requested_toppings = ['mushrooms', 'extra cheese']

if 'mushrooms' in requested_toppings:
    print("Adding mushrooms.")
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> if 'pepperoni' in requested_toppings:
    print("Adding pepperoni.")
<span epub:type="pagebreak" title="83" id="Page_83"/>if 'extra cheese' in requested_toppings:
    print("Adding extra cheese.")

print("\nFinished making your pizza!")</code></pre>
<p>We start with a list containing the requested toppings. The first <code>if</code> statement checks to see whether the person requested mushrooms on their pizza. If so, a message is printed confirming that topping. The test for pepperoni <span class="CodeAnnotation" aria-label="annotation1">❶</span> is another simple <code>if</code> statement, not an <code>elif</code> or <code>else</code> statement, so this test is run regardless of whether the previous test passed or not. The last <code>if</code> statement checks whether extra cheese was requested, regardless of the results from the first two tests. These three independent tests are executed every time this program is run.</p>
<p>Because every condition in this example is evaluated, both mushrooms and extra cheese are added to the pizza:</p>
<pre><code>Adding mushrooms.
Adding extra cheese.

Finished making your pizza!</code></pre>
<p>This code would not work properly if we used an <code>if</code>-<code>elif</code>-<code>else</code> block, because the code would stop running after only one test passes. Here’s what that would look like:</p>
<pre><code><span class="LiteralGray">requested_toppings = ['mushrooms', 'extra cheese']</span>

<span class="LiteralGray">if 'mushrooms' in requested_toppings:</span>
<span class="LiteralGray">    print("Adding mushrooms.")</span>
elif 'pepperoni' in requested_toppings:
    <span class="LiteralGray">print("Adding pepperoni.")</span>
elif 'extra cheese' in requested_toppings:
   <span class="LiteralGray"> print("Adding extra cheese.")</span>

<span class="LiteralGray">print("\nFinished making your pizza!")</span></code></pre>
<p>The test for <code>'mushrooms'</code> is the first test to pass, so mushrooms are added to the pizza. However, the values <code>'extra cheese'</code> and <code>'pepperoni'</code> are never checked, because Python doesn’t run any tests beyond the first test that passes in an <code>if-elif-else</code> chain. The customer’s first topping will be added, but all of their other toppings will be missed:</p>
<pre><code>Adding mushrooms.

Finished making your pizza!</code></pre>
<p>In summary, if you want only one block of code to run, use an <code>if</code>-<code>elif</code>-<code>else</code> chain. If more than one block of code needs to run, use a series of independent <code>if</code> statements.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2><span epub:type="pagebreak" title="84" id="Page_84"/>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c05-17" class="BoxNumber">5-3. Alien Colors #1:</span> Imagine an alien was just shot down in a game. Create a variable called <code>alien_color</code> and assign it a value of <code>'green'</code>, <code>'yellow'</code>, or <code>'red'</code>.</p>
<ul>
<li>Write an <code>if</code> statement to test whether the alien’s color is green. If it is, print a message that the player just earned 5 points.</li>
<li>Write one version of this program that passes the <code>if</code> test and another that fails. (The version that fails will have no output.)</li>
</ul>
<p class="BoxBodyCustom"><span id="h2-502703c05-18" class="BoxNumber">5-4. Alien Colors #2:</span> Choose a color for an alien as you did in Exercise 5-3, and write an <code>if</code>-<code>else</code> chain.</p>
<ul>
<li>If the alien’s color is green, print a statement that the player just earned 5 points for shooting the alien.</li>
<li>If the alien’s color isn’t green, print a statement that the player just earned 10 points.</li>
<li>Write one version of this program that runs the <code>if</code> block and another that runs the <code>else</code> block.</li>
</ul>
<p class="BoxBodyCustom"><span id="h2-502703c05-19" class="BoxNumber">5-5. Alien Colors #3:</span> Turn your <code>if</code>-<code>else</code> chain from Exercise 5-4 into an <code>if</code>-<code>elif</code>-<code>else</code> chain.</p>
<ul>
<li>If the alien is green, print a message that the player earned 5 points.</li>
<li>If the alien is yellow, print a message that the player earned 10 points.</li>
<li>If the alien is red, print a message that the player earned 15 points.</li>
<li>Write three versions of this program, making sure each message is printed for the appropriate color alien.</li>
</ul>
<p class="BoxBodyCustom"><span id="h2-502703c05-20" class="BoxNumber">5-6. Stages of Life:</span> Write an <code>if</code>-<code>elif</code>-<code>else</code> chain that determines a person’s stage of life. Set a value for the variable <code>age</code>, and then:</p>
<ul>
<li>If the person is less than 2 years old, print a message that the person is a baby.</li>
<li>If the person is at least 2 years old but less than 4, print a message that the person is a toddler.</li>
<li>If the person is at least 4 years old but less than 13, print a message that the person is a kid.</li>
<li>If the person is at least 13 years old but less than 20, print a message that the person is a teenager.</li>
<li>If the person is at least 20 years old but less than 65, print a message that the person is an adult.</li>
<li>If the person is age 65 or older, print a message that the person is an elder.</li>
</ul>
<p class="BoxBodyCustom"><span id="h2-502703c05-21" class="BoxNumber">5-7. <span epub:type="pagebreak" title="85" id="Page_85"/>Favorite Fruit:</span> Make a list of your favorite fruits, and then write a series of independent <code>if</code> statements that check for certain fruits in your list.</p>
<ul>
<li>Make a list of your three favorite fruits and call it <code>favorite_fruits</code>.</li>
<li>Write five <code>if</code> statements. Each should check whether a certain kind of fruit is in your list. If the fruit is in your list, the <code>if</code> block should print a statement, such as <em>You really like bananas!</em></li>
</ul>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c05-0004">Using if Statements with Lists</h2>
<p class="BodyFirst">You can do some interesting work when you combine lists and <code>if</code> statements. You can watch for special values that need to be treated differently than other values in the list. You can efficiently manage changing conditions, such as the availability of certain items in a restaurant throughout a shift. You can also begin to prove that your code works as you expect it to in all possible situations.</p>
<h3 id="h2-502703c05-0015">Checking for Special Items</h3>
<p class="BodyFirst">This chapter began with a simple example that showed how to handle a special value like <code>'bmw'</code>, which needed to be printed in a different format than other values in the list. Now that you have a basic understanding of conditional tests and <code>if</code> statements, let’s take a closer look at how you can watch for special values in a list and handle those values appropriately.</p>
<p>Let’s continue with the pizzeria example. The pizzeria displays a message whenever a topping is added to your pizza, as it’s being made. The code for this action can be written very efficiently by making a list of toppings the customer has requested and using a loop to announce each topping as it’s added to the pizza:</p>
<p class="CodeLabel"><b>toppings.py</b></p>
<pre><code>requested_toppings = ['mushrooms', 'green peppers', 'extra cheese']

for requested_topping in requested_toppings:
    print(f"Adding {requested_topping}.")

print("\nFinished making your pizza!")</code></pre>
<p>The output is straightforward because this code is just a simple <code>for</code> loop:</p>
<pre><code>Adding mushrooms.
Adding green peppers.
Adding extra cheese.

Finished making your pizza!</code></pre>
<p><span epub:type="pagebreak" title="86" id="Page_86"/>But what if the pizzeria runs out of green peppers? An <code>if</code> statement inside the <code>for</code> loop can handle this situation appropriately:</p>
<pre><code><span class="LiteralGray">requested_toppings = ['mushrooms', 'green peppers', 'extra cheese']</span>

<span class="LiteralGray">for requested_topping in requested_toppings:</span>
    if requested_topping == 'green peppers':
        print("Sorry, we are out of green peppers right now.")
    else:
       <span class="LiteralGray"> print(f"Adding {requested_topping}.")</span>

<span class="LiteralGray">print("\nFinished making your pizza!")</span></code></pre>
<p>This time, we check each requested item before adding it to the pizza. The <code>if</code> statement checks to see if the person requested green peppers. If so, we display a message informing them why they can’t have green peppers. The <code>else</code> block ensures that all other toppings will be added to the pizza.</p>
<p>The output shows that each requested topping is handled appropriately.</p>
<pre><code>Adding mushrooms.
Sorry, we are out of green peppers right now.
Adding extra cheese.

Finished making your pizza!</code></pre>
<h3 id="h2-502703c05-0016">Checking That a List Is Not Empty</h3>
<p class="BodyFirst">We’ve made a simple assumption about every list we’ve worked with so far: we’ve assumed that each list has at least one item in it. Soon we’ll let users provide the information that’s stored in a list, so we won’t be able to assume that a list has any items in it each time a loop is run. In this situation, it’s useful to check whether a list is empty before running a <code>for</code> loop.</p>
<p>As an example, let’s check whether the list of requested toppings is empty before building the pizza. If the list is empty, we’ll prompt the user and make sure they want a plain pizza. If the list is not empty, we’ll build the pizza just as we did in the previous examples:</p>
<pre><code>requested_toppings = []

if requested_toppings:
    <span class="LiteralGray">for requested_topping in requested_toppings:</span>
<span class="LiteralGray">        print(f"Adding {requested_topping}.")</span>
<span class="LiteralGray">    print("\nFinished making your pizza!")</span>
else:
    print("Are you sure you want a plain pizza?")</code></pre>
<p>This time we start out with an empty list of requested toppings. Instead of jumping right into a <code>for</code> loop, we do a quick check first. When the name of a list is used in an <code>if</code> statement, Python returns <code>True</code> if the list contains at least one item; an empty list evaluates to <code>False</code>. If <code>requested_toppings</code> passes the conditional test, we run the same <code>for</code> loop we used in the previous <span epub:type="pagebreak" title="87" id="Page_87"/>example. If the conditional test fails, we print a message asking the customer if they really want a plain pizza with no toppings.</p>
<p>The list is empty in this case, so the output asks if the user really wants a plain pizza:</p>
<pre><code>Are you sure you want a plain pizza?</code></pre>
<p>If the list is not empty, the output will show each requested topping being added to the pizza.</p>
<h3 id="h2-502703c05-0017">Using Multiple Lists</h3>
<p class="BodyFirst">People will ask for just about anything, especially when it comes to pizza toppings. What if a customer actually wants french fries on their pizza? You can use lists and <code>if</code> statements to make sure your input makes sense before you act on it.</p>
<p>Let’s watch out for unusual topping requests before we build a pizza. The following example defines two lists. The first is a list of available toppings at the pizzeria, and the second is the list of toppings that the user has requested. This time, each item in <code>requested_toppings</code> is checked against the list of available toppings before it’s added to the pizza:</p>
<pre><code>available_toppings = ['mushrooms', 'olives', 'green peppers',
                      'pepperoni', 'pineapple', 'extra cheese']

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> requested_toppings = ['mushrooms', 'french fries', 'extra cheese']

for requested_topping in requested_toppings:
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     if requested_topping in available_toppings:
        print(f"Adding {requested_topping}.")
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span>     else:
        print(f"Sorry, we don't have {requested_topping}.")

print("\nFinished making your pizza!")</code></pre>
<p>First, we define a list of available toppings at this pizzeria. Note that this could be a tuple if the pizzeria has a stable selection of toppings. Then, we make a list of toppings that a customer has requested. There’s an unusual request for a topping in this example: <code>'french fries'</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>. Next we loop through the list of requested toppings. Inside the loop, we check to see if each requested topping is actually in the list of available toppings <span class="CodeAnnotation" aria-label="annotation2">❷</span>. If it is, we add that topping to the pizza. If the requested topping is not in the list of available toppings, the <code>else</code> block will run <span class="CodeAnnotation" aria-label="annotation3">❸</span>. The <code>else</code> block prints a message telling the user which toppings are unavailable.</p>
<p>This code syntax produces clean, informative output:</p>
<pre><code>Adding mushrooms.
Sorry, we don't have french fries.
Adding extra cheese.

Finished making your pizza!</code></pre>
<p><span epub:type="pagebreak" title="88" id="Page_88"/>In just a few lines of code, we’ve managed a real-world situation pretty effectively!</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c05-25" class="BoxNumber">5-8. Hello Admin:</span> Make a list of five or more usernames, including the name <code>'admin'</code>. Imagine you are writing code that will print a greeting to each user after they log in to a website. Loop through the list, and print a greeting to each user.</p>
<ul>
<li>If the username is <code>'admin'</code>, print a special greeting, such as <em>Hello admin, would you like to see a status report?</em></li>
<li>Otherwise, print a generic greeting, such as <em>Hello Jaden, thank you for logging in again.</em></li>
</ul>
<p class="BoxBodyCustom"><span id="h2-502703c05-26" class="BoxNumber">5-9. No Users: </span>Add an <code>if</code> test to <em>hello_admin.py</em> to make sure the list of users is not empty.</p>
<ul>
<li>If the list is empty, print the message <em>We need to find some users!</em></li>
<li>Remove all of the usernames from your list, and make sure the correct message is printed.</li>
</ul>
<p class="BoxBodyCustom"><span id="h2-502703c05-27" class="BoxNumber">5-10. Checking Usernames:</span> Do the following to create a program that simulates how websites ensure that everyone has a unique username.</p>
<ul>
<li>Make a list of five or more usernames called <code>current_users</code>.</li>
<li>Make another list of five usernames called <code>new_users</code>. Make sure one or two of the new usernames are also in the <code>current_users</code> list.</li>
<li>Loop through the <code>new_users</code> list to see if each new username has already been used. If it has, print a message that the person will need to enter a new username. If a username has not been used, print a message saying that the username is available.</li>
<li>Make sure your comparison is case insensitive. If <code>'John'</code> has been used, <code>'JOHN'</code> should not be accepted. (To do this, you’ll need to make a copy of <code>current_users</code> containing the lowercase versions of all existing users.)</li>
</ul>
<p class="BoxBodyCustom"><span id="h2-502703c05-28" class="BoxNumber">5-11. Ordinal Numbers:</span> Ordinal numbers indicate their position in a list, such as <em>1st</em> or <em>2nd</em>. Most ordinal numbers end in <em>th</em>, except 1, 2, and 3.</p>
<ul>
<li>Store the numbers 1 through 9 in a list.</li>
<li>Loop through the list.</li>
<li>Use an <code>if</code>-<code>elif</code>-<code>else</code> chain inside the loop to print the proper ordinal ending for each number. Your output should read <code>"1st 2nd 3rd 4th 5th 6th 7th 8th 9th"</code>, and each result should be on a separate line.</li>
</ul>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c05-0005"><span epub:type="pagebreak" title="89" id="Page_89"/>Styling Your if Statements</h2>
<p class="BodyFirst">In every example in this chapter, you’ve seen good styling habits. The only recommendation PEP 8 provides for styling conditional tests is to use a single space around comparison operators, such as <code>==</code>, <code>&gt;=</code>, and <code>&lt;=</code>. For example:</p>
<pre><code>if age &lt; 4:</code></pre>
<p class="BodyContinued">is better than:</p>
<pre><code>if age&lt;4:</code></pre>
<p>Such spacing does not affect the way Python interprets your code; it just makes your code easier for you and others to read.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c05-29" class="BoxNumber">5-12. Styling <code class="bold">if</code><b> Statements:</b></span> Review the programs you wrote in this chapter, and make sure you styled your conditional tests appropriately.</p>
<p class="BoxBodyCustom"><span id="h2-502703c05-30" class="BoxNumber">5-13. Your Ideas: </span>At this point, you’re a more capable programmer than you were when you started this book. Now that you have a better sense of how real-world situations are modeled in programs, you might be thinking of some problems you could solve with your own programs. Record any new ideas you have about problems you might want to solve as your programming skills continue to improve. Consider games you might want to write, datasets you might want to explore, and web applications you’d like to create.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c05-0006">Summary</h2>
<p class="BodyFirst">In this chapter you learned how to write conditional tests, which always evaluate to <code>True</code> or <code>False</code>. You learned to write simple <code>if</code> statements, <code>if</code>-<code>else</code> chains, and <code>if</code>-<code>elif</code>-<code>else</code> chains. You began using these structures to identify particular conditions you need to test and to know when those conditions have been met in your programs. You learned to handle certain items in a list differently than all other items while continuing to utilize the efficiency of a <code>for</code> loop. You also revisited Python’s style recommendations to ensure that your increasingly complex programs are still relatively easy to read and understand.</p>
<p>In <span class="xref" itemid="xref_target_Chapter 6">Chapter 6</span> you’ll learn about Python’s dictionaries. A dictionary is similar to a list, but it allows you to connect pieces of information. You’ll learn how to build dictionaries, loop through them, and use them in combination with lists and <code>if</code> statements. Learning about dictionaries will enable you to model an even wider variety of real-world situations.</p>
</section>
</div>
<div id="sbo-rt-content"><section>
<header>
<h1 class="chapter">
<span class="ChapterNumber"><span epub:type="pagebreak" title="91" id="Page_91"/>6</span><br/>
<span class="ChapterTitle">Dictionaries</span></h1>
</header>
<figure class="opener">
<img src="Images/chapterart.png" alt="" width="406" height="406"/>
</figure>
<p class="ChapterIntro">In this chapter you’ll learn how to use Python’s dictionaries, which allow you to connect pieces of related information. You’ll learn how to access the information once it’s in a dictionary and how to modify that information. Because dictionaries can store an almost limitless amount of information, I’ll show you how to loop through the data in a dictionary. Additionally, you’ll learn to nest dictionaries inside lists, lists inside dictionaries, and even dictionaries inside other dictionaries.</p>
<p>Understanding dictionaries allows you to model a variety of real-world objects more accurately. You’ll be able to create a dictionary representing a person and then store as much information as you want about that person. You can store their name, age, location, profession, and any other aspect of a person you can describe. You’ll be able to store any two kinds of information that can be matched up, such as a list of words and their meanings, a list of people’s names and their favorite numbers, a list of mountains and their elevations, and so forth.</p>
<h2 id="h1-502703c06-0001"><span epub:type="pagebreak" title="92" id="Page_92"/>A Simple Dictionary</h2>
<p class="BodyFirst">Consider a game featuring aliens that can have different colors and point values. This simple dictionary stores information about a particular alien:</p>
<p class="CodeLabel"><b>alien.py</b></p>
<pre><code>alien_0 = {'color': 'green', 'points': 5}

print(alien_0['color'])
print(alien_0['points'])</code></pre>
<p>The dictionary <code>alien_0</code> stores the alien’s color and point value. The last two lines access and display that information, as shown here:</p>
<pre><code>green
5</code></pre>
<p>As with most new programming concepts, using dictionaries takes practice. Once you’ve worked with dictionaries for a bit, you’ll see how effectively they can model real-world situations.</p>
<h2 id="h1-502703c06-0002">Working with Dictionaries</h2>
<p class="BodyFirst">A <em>dictionary</em> in Python is a collection of <em>key-value pairs</em>. Each <em>key</em> is connected to a value, and you can use a key to access the value associated with that key. A key’s value can be a number, a string, a list, or even another dictionary. In fact, you can use any object that you can create in Python as a value in a dictionary.</p>
<p>In Python, a dictionary is wrapped in braces (<code>{}</code>) with a series of key-value pairs inside the braces, as shown in the earlier example:</p>
<pre><code>alien_0 = {'color': 'green', 'points': 5}</code></pre>
<p>A <em>key-value pair</em> is a set of values associated with each other. When you provide a key, Python returns the value associated with that key. Every key is connected to its value by a colon, and individual key-value pairs are separated by commas. You can store as many key-value pairs as you want in a dictionary.</p>
<p>The simplest dictionary has exactly one key-value pair, as shown in this modified version of the <code>alien_0</code> dictionary:</p>
<pre><code>alien_0 = {'color': 'green'}</code></pre>
<p>This dictionary stores one piece of information about <code>alien_0</code>: the alien’s color. The string <code>'color'</code> is a key in this dictionary, and its associated value is <code>'green'</code>.</p>
<h3 id="h2-502703c06-0001">Accessing Values in a Dictionary</h3>
<p class="BodyFirst">To get the value associated with a key, give the name of the dictionary and then place the key inside a set of square brackets, as shown here:</p>
<p class="CodeLabel"><b>alien.py</b></p>
<pre><code><span class="LiteralGray">alien_0 = {'color': 'green'}</span>
print(alien_0['color'])</code></pre>
<p><span epub:type="pagebreak" title="93" id="Page_93"/>This returns the value associated with the key <code>'color'</code> from the dictionary <code>alien_0</code>:</p>
<pre><code>green</code></pre>
<p>You can have an unlimited number of key-value pairs in a dictionary. For example, here’s the original <code>alien_0</code> dictionary with two key-value pairs:</p>
<pre><code>alien_0 = {'color': 'green', 'points': 5}</code></pre>
<p>Now you can access either the color or the point value of <code>alien_0</code>. If a player shoots down this alien, you can look up how many points they should earn using code like this:</p>
<pre><code><span class="LiteralGray">alien_0 = {'color': 'green', 'points': 5}</span>

new_points = alien_0['points']
print(f"You just earned {new_points} points!")</code></pre>
<p>Once the dictionary has been defined, we pull the value associated with the key <code>'points'</code> from the dictionary. This value is then assigned to the variable <code>new_points</code>. The last line prints a statement about how many points the player just earned:</p>
<pre><code>You just earned 5 points!</code></pre>
<p>If you run this code every time an alien is shot down, the alien’s point value will be retrieved.</p>
<h3 id="h2-502703c06-0002">Adding New Key-Value Pairs</h3>
<p class="BodyFirst">Dictionaries are dynamic structures, and you can add new key-value pairs to a dictionary at any time. To add a new key-value pair, you would give the name of the dictionary followed by the new key in square brackets, along with the new value.</p>
<p>Let’s add two new pieces of information to the <code>alien_0</code> dictionary: the alien’s <em>x</em>- and <em>y</em>-coordinates, which will help us display the alien at a particular position on the screen. Let’s place the alien on the left edge of the screen, 25 pixels down from the top. Because screen coordinates usually start at the upper-left corner of the screen, we’ll place the alien on the left edge of the screen by setting the <em>x</em>-coordinate to 0 and 25 pixels from the top by setting its <em>y</em>-coordinate to positive 25, as shown here:</p>
<p class="CodeLabel"><b>alien.py</b></p>
<pre><code><span class="LiteralGray">alien_0 = {'color': 'green', 'points': 5}</span>
print(alien_0)

alien_0['x_position'] = 0
alien_0['y_position'] = 25
print(alien_0)</code></pre>
<p><span epub:type="pagebreak" title="94" id="Page_94"/>We start by defining the same dictionary that we’ve been working with. We then print this dictionary, displaying a snapshot of its information. Next, we add a new key-value pair to the dictionary: the key <code>'x_position'</code> and the value <code>0</code>. We do the same for the key <code>'y_position'</code>. When we print the modified dictionary, we see the two additional key-value pairs:</p>
<pre><code>{'color': 'green', 'points': 5}
{'color': 'green', 'points': 5, 'x_position': 0, 'y_position': 25}</code></pre>
<p>The final version of the dictionary contains four key-value pairs. The original two specify color and point value, and two more specify the alien’s position.</p>
<p>Dictionaries retain the order in which they were defined. When you print a dictionary or loop through its elements, you will see the elements in the same order they were added to the dictionary.</p>
<h3 id="h2-502703c06-0003">Starting with an Empty Dictionary</h3>
<p class="BodyFirst">It’s sometimes convenient, or even necessary, to start with an empty dictionary and then add each new item to it. To start filling an empty dictionary, define a dictionary with an empty set of braces and then add each key-value pair on its own line. For example, here’s how to build the <code>alien_0</code> dictionary using this approach:</p>
<p class="CodeLabel"><b>alien.py</b></p>
<pre><code>alien_0 = {}

alien_0['color'] = 'green'
alien_0['points'] = 5

print(alien_0)</code></pre>
<p>We first define an empty <code>alien_0</code> dictionary, and then add color and point values to it. The result is the dictionary we’ve been using in previous examples:</p>
<pre><code>{'color': 'green', 'points': 5}</code></pre>
<p>Typically, you’ll use empty dictionaries when storing user-supplied data in a dictionary or when writing code that generates a large number of key-value pairs automatically.</p>
<h3 id="h2-502703c06-0004">Modifying Values in a Dictionary</h3>
<p class="BodyFirst">To modify a value in a dictionary, give the name of the dictionary with the key in square brackets and then the new value you want associated with that key. For example, consider an alien that changes from green to yellow as a game progresses:</p>
<p class="CodeLabel"><b>alien.py</b></p>
<pre><code>alien_0 = {'color': 'green'}
print(f"The alien is {alien_0['color']}.")

<span epub:type="pagebreak" title="95" id="Page_95"/>alien_0['color'] = 'yellow'
print(f"The alien is now {alien_0['color']}.")</code></pre>
<p>We first define a dictionary for <code>alien_0</code> that contains only the alien’s color; then we change the value associated with the key <code>'color'</code> to <code>'yellow'</code>. The output shows that the alien has indeed changed from green to yellow:</p>
<pre><code>The alien is green.
The alien is now yellow.</code></pre>
<p>For a more interesting example, let’s track the position of an alien that can move at different speeds. We’ll store a value representing the alien’s current speed and then use it to determine how far to the right the alien should move:</p>
<pre><code>alien_0 = {'x_position': 0, 'y_position': 25, 'speed': 'medium'}
print(f"Original position: {alien_0['x_position']}")

# Move the alien to the right.
# Determine how far to move the alien based on its current speed.
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> if alien_0['speed'] == 'slow':
    x_increment = 1
elif alien_0['speed'] == 'medium':
    x_increment = 2
else:
    # This must be a fast alien.
    x_increment = 3

# The new position is the old position plus the increment.
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> alien_0['x_position'] = alien_0['x_position'] + x_increment

print(f"New position: {alien_0['x_position']}")</code></pre>
<p>We start by defining an alien with an initial <em>x</em> position and <em>y</em> position, and a speed of <code>'medium'</code>. We’ve omitted the color and point values for the sake of simplicity, but this example would work the same way if you included those key-value pairs as well. We also print the original value of <code>x_position</code> to see how far the alien moves to the right.</p>
<p>An <code>if</code>-<code>elif</code>-<code>else</code> chain determines how far the alien should move to the right, and assigns this value to the variable <code>x_increment</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>. If the alien’s speed is <code>'slow'</code>, it moves one unit to the right; if the speed is <code>'medium'</code>, it moves two units to the right; and if it’s <code>'fast'</code>, it moves three units to the right. Once the increment has been calculated, it’s added to the value of <code>x_position</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span>, and the result is stored in the dictionary’s <code>x_position</code>.</p>
<p>Because this is a medium-speed alien, its position shifts two units to the right:</p>
<pre><code>Original x-position: 0
New x-position: 2</code></pre>
<p><span epub:type="pagebreak" title="96" id="Page_96"/>This technique is pretty cool: by changing one value in the alien’s dictionary, you can change the overall behavior of the alien. For example, to turn this medium-speed alien into a fast alien, you would add this line:</p>
<pre><code>alien_0['speed'] = 'fast'</code></pre>
<p>The <code>if</code>-<code>elif</code>-<code>else</code> block would then assign a larger value to <code>x_increment</code> the next time the code runs.</p>
<h3 id="h2-502703c06-0005">Removing Key-Value Pairs</h3>
<p class="BodyFirst">When you no longer need a piece of information that’s stored in a dictionary, you can use the <code>del</code> statement to completely remove a key-value pair. All <code>del</code> needs is the name of the dictionary and the key that you want to remove.</p>
<p>For example, let’s remove the key <code>'points'</code> from the <code>alien_0</code> dictionary, along with its value:</p>
<p class="CodeLabel"><b>alien.py</b></p>
<pre><code>alien_0 = {'color': 'green', 'points': 5}
print(alien_0)

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> del alien_0['points']
print(alien_0)</code></pre>
<p>The <code>del</code> statement <span class="CodeAnnotation" aria-label="annotation1">❶</span> tells Python to delete the key <code>'points'</code> from the dictionary <code>alien_0</code> and to remove the value associated with that key as well. The output shows that the key <code>'points'</code> and its value of <code>5</code> are deleted from the dictionary, but the rest of the dictionary is unaffected:</p>
<pre><code>{'color': 'green', 'points': 5}
{'color': 'green'}</code></pre>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	Be aware that the deleted key-value pair is removed permanently.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c06-0006">A Dictionary of Similar Objects</h3>
<p class="BodyFirst">The previous example involved storing different kinds of information about one object, an alien in a game. You can also use a dictionary to store one kind of information about many objects. For example, say you want to poll a number of people and ask them what their favorite programming language is. A dictionary is useful for storing the results of a simple poll, like this:</p>
<p class="CodeLabel"><b>favorite_languages.py</b></p>
<pre><code>favorite_languages = {
    'jen': 'python',
    'sarah': 'c',
    'edward': 'rust',
    'phil': 'python',
    }</code></pre>
<p><span epub:type="pagebreak" title="97" id="Page_97"/>As you can see, we’ve broken a larger dictionary into several lines. Each key is the name of a person who responded to the poll, and each value is their language choice. When you know you’ll need more than one line to define a dictionary, press ENTER after the opening brace. Then indent the next line one level (four spaces) and write the first key-value pair, followed by a comma. From this point forward when you press ENTER, your text editor should automatically indent all subsequent key-value pairs to match the first key-value pair.</p>
<p>Once you’ve finished defining the dictionary, add a closing brace on a new line after the last key-value pair, and indent it one level so it aligns with the keys in the dictionary. It’s good practice to include a comma after the last key-value pair as well, so you’re ready to add a new key-value pair on the next line.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	Most editors have some functionality that helps you format extended lists and dictionaries in a similar manner to this example. Other acceptable ways to format long dictionaries are available as well, so you may see slightly different formatting in your editor, or in other sources.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<p>To use this dictionary, given the name of a person who took the poll, you can easily look up their favorite language:</p>
<p class="CodeLabel"><b>favorite_languages.py</b></p>
<pre><code><span class="LiteralGray">favorite_languages = {</span>
<span class="LiteralGray">    'jen': 'python',</span>
<span class="LiteralGray">    'sarah': 'c',</span>
<span class="LiteralGray">    'edward': 'rust',</span>
<span class="LiteralGray">    'phil': 'python',</span>
<span class="LiteralGray">    }</span>

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> language = favorite_languages['sarah'].title()
print(f"Sarah's favorite language is {language}.")</code></pre>
<p>To see which language Sarah chose, we ask for the value at:</p>
<pre><code>favorite_languages['sarah']</code></pre>
<p>We use this syntax to pull Sarah’s favorite language from the dictionary <span class="CodeAnnotation" aria-label="annotation1">❶</span> and assign it to the variable <code>language</code>. Creating a new variable here makes for a much cleaner <code>print()</code> call. The output shows Sarah’s favorite language:</p>
<pre><code>Sarah's favorite language is C.</code></pre>
<p>You could use this same syntax with any individual represented in the dictionary.</p>
<h3 id="h2-502703c06-0007">Using get() to Access Values</h3>
<p class="BodyFirst">Using keys in square brackets to retrieve the value you’re interested in from a dictionary might cause one potential problem: if the key you ask for doesn’t exist, you’ll get an error.</p>
<p><span epub:type="pagebreak" title="98" id="Page_98"/>Let’s see what happens when you ask for the point value of an alien that doesn’t have a point value set:</p>
<p class="CodeLabel"><b>alien_no_points.py</b></p>
<pre><code>alien_0 = {'color': 'green', 'speed': 'slow'}
print(alien_0['points'])</code></pre>
<p>This results in a traceback, showing a <code>KeyError</code>:</p>
<pre><code>Traceback (most recent call last):
  File "alien_no_points.py", line 2, in &lt;module&gt;
    print(alien_0['points'])
          ~~~~~~~^^^^^^^^^^
KeyError: 'points'</code></pre>
<p>You’ll learn more about how to handle errors like this in general in <span class="xref" itemid="xref_target_Chapter 10">Chapter 10</span>. For dictionaries specifically, you can use the <code>get()</code> method to set a default value that will be returned if the requested key doesn’t exist.</p>
<p>The <code>get()</code> method requires a key as a first argument. As a second optional argument, you can pass the value to be returned if the key doesn’t exist:</p>
<pre><code><span class="LiteralGray">alien_0 = {'color': 'green', 'speed': 'slow'}</span>

point_value = alien_0.get('points', 'No point value assigned.')
print(point_value)</code></pre>
<p>If the key <code>'points'</code> exists in the dictionary, you’ll get the corresponding value. If it doesn’t, you get the default value. In this case, <code>points</code> doesn’t exist, and we get a clean message instead of an error:</p>
<pre><code>No point value assigned.</code></pre>
<p>If there’s a chance the key you’re asking for might not exist, consider using the <code>get()</code> method instead of the square bracket notation.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	If you leave out the second argument in the call to <code>get()</code> and the key doesn’t exist, Python will return the value <code>None</code>. The special value <code>None</code> means “no value exists.” This is not an error: it’s a special value meant to indicate the absence of a value. You’ll see more uses for <code>None</code> in <span class="xref" itemid="xref_target_Chapter 8">Chapter 8</span>.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c06-08" class="BoxNumber">6-1. Person: </span>Use a dictionary to store information about a person you know. Store their first name, last name, age, and the city in which they live. You should have keys such as <code>first_name</code>, <code>last_name</code>, <code>age</code>, and <code>city</code>. Print each piece of information stored in your dictionary.</p>
<p class="BoxBodyCustom"><span id="h2-502703c06-09" class="BoxNumber">6-2. Favorite Numbers:</span> Use a dictionary to store people’s favorite numbers. Think of five names, and use them as keys in your dictionary. Think of a favorite <span epub:type="pagebreak" title="99" id="Page_99"/>number for each person, and store each as a value in your dictionary. Print each person’s name and their favorite number. For even more fun, poll a few friends and get some actual data for your program.</p>
<p class="BoxBodyCustom"><span id="h2-502703c06-10" class="BoxNumber">6-3. Glossary:</span> A Python dictionary can be used to model an actual dictionary. However, to avoid confusion, let’s call it a glossary.</p>
<ul>
<li>Think of five programming words you’ve learned about in the previous chapters. Use these words as the keys in your glossary, and store their meanings as values.</li>
<li>Print each word and its meaning as neatly formatted output. You might print the word followed by a colon and then its meaning, or print the word on one line and then print its meaning indented on a second line. Use the newline character (<code>\n</code>) to insert a blank line between each word-meaning pair in your output.</li>
</ul>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c06-0003">Looping Through a Dictionary</h2>
<p class="BodyFirst">A single Python dictionary can contain just a few key-value pairs or millions of pairs. Because a dictionary can contain large amounts of data, Python lets you loop through a dictionary. Dictionaries can be used to store information in a variety of ways; therefore, several different ways exist to loop through them. You can loop through all of a dictionary’s key-value pairs, through its keys, or through its values.</p>
<h3 id="h2-502703c06-0008">Looping Through All Key-Value Pairs</h3>
<p class="BodyFirst">Before we explore the different approaches to looping, let’s consider a new dictionary designed to store information about a user on a website. The following dictionary would store one person’s username, first name, and last name:</p>
<p class="CodeLabel"><b>user.py</b></p>
<pre><code>user_0 = {
    'username': 'efermi',
    'first': 'enrico',
    'last': 'fermi',
    }</code></pre>
<p>You can access any single piece of information about <code>user_0</code> based on what you’ve already learned in this chapter. But what if you wanted to see everything stored in this user’s dictionary? To do so, you could loop through the dictionary using a <code>for</code> loop:</p>
<pre><code><span class="LiteralGray">user_0 = {</span>
<span class="LiteralGray">    'username': 'efermi',</span>
<span class="LiteralGray">    'first': 'enrico',</span>
<span class="LiteralGray">    'last': 'fermi',</span>
<span class="LiteralGray">    }</span>

<span epub:type="pagebreak" title="100" id="Page_100"/>for key, value in user_0.items():
    print(f"\nKey: {key}")
    print(f"Value: {value}")</code></pre>
<p>To write a <code>for</code> loop for a dictionary, you create names for the two variables that will hold the key and value in each key-value pair. You can choose any names you want for these two variables. This code would work just as well if you had used abbreviations for the variable names, like this:</p>
<pre><code>for k, v in user_0.items()</code></pre>
<p>The second half of the <code>for</code> statement includes the name of the dictionary followed by the method <code>items()</code>, which returns a sequence of key-value pairs. The <code>for</code> loop then assigns each of these pairs to the two variables provided. In the preceding example, we use the variables to print each <code>key</code>, followed by the associated <code>value</code>. The <code>"\n"</code> in the first <code>print()</code> call ensures that a blank line is inserted before each key-value pair in the output:</p>
<pre><code>Key: username
Value: efermi

Key: first
Value: enrico

Key: last
Value: fermi</code></pre>
<p>Looping through all key-value pairs works particularly well for dictionaries like the <em>favorite_languages.py</em> example on <span class="xref" itemid="xref_target_page 96">page 96</span>, which stores the same kind of information for many different keys. If you loop through the <code>favorite_languages</code> dictionary, you get the name of each person in the dictionary and their favorite programming language. Because the keys always refer to a person’s name and the value is always a language, we’ll use the variables <code>name</code> and <code>language</code> in the loop instead of <code>key</code> and <code>value</code>. This will make it easier to follow what’s happening inside the loop:</p>
<p class="CodeLabel"><b>favorite_languages.py</b></p>
<pre><code><span class="LiteralGray">favorite_languages = {</span>
<span class="LiteralGray">    'jen': 'python',</span>
<span class="LiteralGray">    'sarah': 'c',</span>
<span class="LiteralGray">    'edward': 'rust',</span>
<span class="LiteralGray">    'phil': 'python',</span>
<span class="LiteralGray">    }</span>

for name, language in favorite_languages.items():
    print(f"{name.title()}'s favorite language is {language.title()}.")</code></pre>
<p>This code tells Python to loop through each key-value pair in the dictionary. As it works through each pair the key is assigned to the variable <code>name</code>, and the value is assigned to the variable <code>language</code>. These descriptive names make it much easier to see what the <code>print()</code> call is doing.</p>
<p><span epub:type="pagebreak" title="101" id="Page_101"/>Now, in just a few lines of code, we can display all of the information from the poll:</p>
<pre><code>Jen's favorite language is Python.
Sarah's favorite language is C.
Edward's favorite language is Rust.
Phil's favorite language is Python.</code></pre>
<p>This type of looping would work just as well if our dictionary stored the results from polling a thousand or even a million people.</p>
<h3 id="h2-502703c06-0009">Looping Through All the Keys in a Dictionary</h3>
<p class="BodyFirst">The <code>keys()</code> method is useful when you don’t need to work with all of the values in a dictionary. Let’s loop through the <code>favorite_languages</code> dictionary and print the names of everyone who took the poll:</p>
<pre><code><span class="LiteralGray">favorite_languages = {</span>
<span class="LiteralGray">    'jen': 'python',</span>
<span class="LiteralGray">    'sarah': 'c',</span>
<span class="LiteralGray">    'edward': 'rust',</span>
<span class="LiteralGray">    'phil': 'python',</span>
<span class="LiteralGray">    }</span>

for name in favorite_languages.keys():
    print(name.title())</code></pre>
<p>This <code>for</code> loop tells Python to pull all the keys from the dictionary <code>favorite_languages</code> and assign them one at a time to the variable <code>name</code>. The output shows the names of everyone who took the poll:</p>
<pre><code>Jen
Sarah
Edward
Phil</code></pre>
<p>Looping through the keys is actually the default behavior when looping through a dictionary, so this code would have exactly the same output if you wrote:</p>
<pre><code>for name in favorite_languages:</code></pre>
<p class="BodyContinued">rather than:</p>
<pre><code>for name in favorite_languages.keys():</code></pre>
<p>You can choose to use the <code>keys()</code> method explicitly if it makes your code easier to read, or you can omit it if you wish.</p>
<p>You can access the value associated with any key you care about inside the loop, by using the current key. Let’s print a message to a couple of friends about the languages they chose. We’ll loop through the names in <span epub:type="pagebreak" title="102" id="Page_102"/>the dictionary as we did previously, but when the name matches one of our friends, we’ll display a message about their favorite language:</p>
<pre><code><span class="LiteralGray">favorite_languages = {</span>
    <em class="LiteralGrayItalic">--snip--</em>
<span class="LiteralGray">    }</span>

friends = ['phil', 'sarah']
<span class="LiteralGray">for name in favorite_languages.keys():</span>
    print(f"Hi {name.title()}.")

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     if name in friends:
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>         language = favorite_languages[name].title()
        print(f"\t{name.title()}, I see you love {language}!")</code></pre>
<p>First, we make a list of friends that we want to print a message to. Inside the loop, we print each person’s name. Then we check whether the <code>name</code> we’re working with is in the list <code>friends</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>. If it is, we determine the person’s favorite language using the name of the dictionary and the current value of <code>name</code> as the key <span class="CodeAnnotation" aria-label="annotation2">❷</span>. We then print a special greeting, including a reference to their language of choice.</p>
<p>Everyone’s name is printed, but our friends receive a special message:</p>
<pre><code>Hi Jen.
Hi Sarah.
    Sarah, I see you love C!
Hi Edward.
Hi Phil.
    Phil, I see you love Python!</code></pre>
<p>You can also use the <code>keys()</code> method to find out if a particular person was polled. This time, let’s find out if Erin took the poll:</p>
<pre><code><span class="LiteralGray">favorite_languages = {</span>
<em class="LiteralGrayItalic">    --snip--</em>
<span class="LiteralGray">    }</span>

if 'erin' not in favorite_languages.keys():
    print("Erin, please take our poll!")</code></pre>
<p>The <code>keys()</code> method isn’t just for looping: it actually returns a sequence of all the keys, and the <code>if</code> statement simply checks if <code>'erin'</code> is in this sequence. Because she’s not, a message is printed inviting her to take the poll:</p>
<pre><code>Erin, please take our poll!</code></pre>
<h3 id="h2-502703c06-0010">Looping Through a Dictionary’s Keys in a Particular Order</h3>
<p class="BodyFirst">Looping through a dictionary returns the items in the same order they were inserted. Sometimes, though, you’ll want to loop through a dictionary in a different order.</p>
<p><span epub:type="pagebreak" title="103" id="Page_103"/>One way to do this is to sort the keys as they’re returned in the <code>for</code> loop. You can use the <code>sorted()</code> function to get a copy of the keys in order:</p>
<pre><code><span class="LiteralGray">favorite_languages = {</span>
<span class="LiteralGray">    'jen': 'python',</span>
<span class="LiteralGray">    'sarah': 'c',</span>
<span class="LiteralGray">    'edward': 'rust',</span>
<span class="LiteralGray">    'phil': 'python',</span>
<span class="LiteralGray">    }</span>

for name in sorted(favorite_languages.keys()):
    print(f"{name.title()}, thank you for taking the poll.")</code></pre>
<p>This <code>for</code> statement is like other <code>for</code> statements, except that we’ve wrapped the <code>sorted()</code> function around the <code>dictionary.keys()</code> method. This tells Python to get all the keys in the dictionary and sort them before starting the loop. The output shows everyone who took the poll, with the names displayed in order:</p>
<pre><code>Edward, thank you for taking the poll.
Jen, thank you for taking the poll.
Phil, thank you for taking the poll.
Sarah, thank you for taking the poll.</code></pre>
<h3 id="h2-502703c06-0011">Looping Through All Values in a Dictionary</h3>
<p class="BodyFirst">If you are primarily interested in the values that a dictionary contains, you can use the <code>values()</code> method to return a sequence of values without any keys. For example, say we simply want a list of all languages chosen in our programming language poll, without the name of the person who chose each language:</p>
<pre><code><span class="LiteralGray">favorite_languages = {</span>
<span class="LiteralGray">    'jen': 'python',</span>
<span class="LiteralGray">    'sarah': 'c',</span>
<span class="LiteralGray">    'edward': 'rust',</span>
<span class="LiteralGray">    'phil': 'python',</span>
<span class="LiteralGray">    }</span>

print("The following languages have been mentioned:")
for language in favorite_languages.values():
    print(language.title())</code></pre>
<p>The <code>for</code> statement here pulls each value from the dictionary and assigns it to the variable <code>language</code>. When these values are printed, we get a list of all chosen languages:</p>
<pre><code>The following languages have been mentioned:
Python
C
Rust
Python</code></pre>
<p><span epub:type="pagebreak" title="104" id="Page_104"/>This approach pulls all the values from the dictionary without checking for repeats. This might work fine with a small number of values, but in a poll with a large number of respondents, it would result in a very repetitive list. To see each language chosen without repetition, we can use a set. A <em>set</em> is a collection in which each item must be unique:</p>
<pre><code><span class="LiteralGray">favorite_languages = {</span>
<em class="LiteralGrayItalic">    --snip--</em>
<span class="LiteralGray">    }</span>

<span class="LiteralGray">print("The following languages have been mentioned:")</span>
for language in set(favorite_languages.values()):
<span class="LiteralGray">    print(language.title())</span></code></pre>
<p>When you wrap <code>set()</code> around a collection of values that contains duplicate items, Python identifies the unique items in the collection and builds a set from those items. Here we use <code>set()</code> to pull out the unique languages in <code>favorite_languages.values()</code>.</p>
<p>The result is a nonrepetitive list of languages that have been mentioned by people taking the poll:</p>
<pre><code>The following languages have been mentioned:
Python
C
Rust</code></pre>
<p>As you continue learning about Python, you’ll often find a built-in feature of the language that helps you do exactly what you want with your data.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	You can build a set directly using braces and separating the elements with commas:</p>
<pre><code>&gt;&gt;&gt; <code class="bold">languages = {'python', 'rust', 'python', 'c'}</code>
&gt;&gt;&gt; <code class="bold">languages</code>
{'rust', 'python', 'c'}</code></pre>
<p class="Continued">It’s easy to mistake sets for dictionaries because they’re both wrapped in braces. When you see braces but no key-value pairs, you’re probably looking at a set. Unlike lists and dictionaries, sets do not retain items in any specific order.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c06-15" class="BoxNumber">6-4. Glossary 2: </span>Now that you know how to loop through a dictionary, clean up the code from <span class="xref" itemid="xref_target_Exercise 6-3">Exercise 6-3</span> (<span class="xref" itemid="xref_target_page 99">page 99</span>) by replacing your series of <code>print()</code> calls with a loop that runs through the dictionary’s keys and values. When you’re sure that your loop works, add five more Python terms to your glossary. When you run your program again, these new words and meanings should automatically be included in the output.</p>
<p class="BoxBodyCustom"><span id="h2-502703c06-16" class="BoxNumber">6-5. <span epub:type="pagebreak" title="105" id="Page_105"/>Rivers:</span> Make a dictionary containing three major rivers and the country each river runs through. One key-value pair might be <code>'nile': 'egypt'</code>.</p>
<ul>
<li>Use a loop to print a sentence about each river, such as <em>The Nile runs through Egypt</em>.</li>
<li>Use a loop to print the name of each river included in the dictionary.</li>
<li>Use a loop to print the name of each country included in the dictionary.</li>
</ul>
<p class="BoxBodyCustom"><span id="h2-502703c06-17" class="BoxNumber">6-6. Polling: </span>Use the code in <em>favorite_languages.py</em> (<span class="xref" itemid="xref_target_page 96">page 96</span>).</p>
<ul>
<li>Make a list of people who should take the favorite languages poll. Include some names that are already in the dictionary and some that are not.</li>
<li>Loop through the list of people who should take the poll. If they have already taken the poll, print a message thanking them for responding. If they have not yet taken the poll, print a message inviting them to take the poll.</li>
</ul>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c06-0004">Nesting</h2>
<p class="BodyFirst">Sometimes you’ll want to store multiple dictionaries in a list, or a list of items as a value in a dictionary. This is called <em>nesting</em>. You can nest dictionaries inside a list, a list of items inside a dictionary, or even a dictionary inside another dictionary. Nesting is a powerful feature, as the following examples will demonstrate.</p>
<h3 id="h2-502703c06-0012">A List of Dictionaries</h3>
<p class="BodyFirst">The <code>alien_0</code> dictionary contains a variety of information about one alien, but it has no room to store information about a second alien, much less a screen full of aliens. How can you manage a fleet of aliens? One way is to make a list of aliens in which each alien is a dictionary of information about that alien. For example, the following code builds a list of three aliens:</p>
<p class="CodeLabel"><b>aliens.py</b></p>
<pre><code>alien_0 = {'color': 'green', 'points': 5}
alien_1 = {'color': 'yellow', 'points': 10}
alien_2 = {'color': 'red', 'points': 15}

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> aliens = [alien_0, alien_1, alien_2]

for alien in aliens:
    print(alien)</code></pre>
<p><span epub:type="pagebreak" title="106" id="Page_106"/>We first create three dictionaries, each representing a different alien. We store each of these dictionaries in a list called <code>aliens</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>. Finally, we loop through the list and print out each alien:</p>
<pre><code>{'color': 'green', 'points': 5}
{'color': 'yellow', 'points': 10}
{'color': 'red', 'points': 15}</code></pre>
<p>A more realistic example would involve more than three aliens with code that automatically generates each alien. In the following example, we use <code>range()</code> to create a fleet of 30 aliens:</p>
<pre><code># Make an empty list for storing aliens.
aliens = []

# Make 30 green aliens.
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> for alien_number in range(30):
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     new_alien = {'color': 'green', 'points': 5, 'speed': 'slow'}
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span>     aliens.append(new_alien)

# Show the first 5 aliens.
<span class="CodeAnnotationHang" aria-label="annotation4">❹</span> for alien in aliens[:5]:
    print(alien)
print("...")

# Show how many aliens have been created.
print(f"Total number of aliens: {len(aliens)}")</code></pre>
<p>This example begins with an empty list to hold all of the aliens that will be created. The <code>range()</code> function <span class="CodeAnnotation" aria-label="annotation1">❶</span> returns a series of numbers, which just tells Python how many times we want the loop to repeat. Each time the loop runs, we create a new alien <span class="CodeAnnotation" aria-label="annotation2">❷</span> and then append each new alien to the list <code>aliens</code> <span class="CodeAnnotation" aria-label="annotation3">❸</span>. We use a slice to print the first five aliens <span class="CodeAnnotation" aria-label="annotation4">❹</span>, and finally, we print the length of the list to prove we’ve actually generated the full fleet of 30 aliens:</p>
<pre><code>{'color': 'green', 'points': 5, 'speed': 'slow'}
{'color': 'green', 'points': 5, 'speed': 'slow'}
{'color': 'green', 'points': 5, 'speed': 'slow'}
{'color': 'green', 'points': 5, 'speed': 'slow'}
{'color': 'green', 'points': 5, 'speed': 'slow'}
...

Total number of aliens: 30</code></pre>
<p>These aliens all have the same characteristics, but Python considers each one a separate object, which allows us to modify each alien individually.</p>
<p>How might you work with a group of aliens like this? Imagine that one aspect of a game has some aliens changing color and moving faster as the game progresses. When it’s time to change colors, we can use a <code>for</code> loop and an <code>if</code> statement to change the color of the aliens. For example, to change <span epub:type="pagebreak" title="107" id="Page_107"/>the first three aliens to yellow, medium-speed aliens worth 10 points each, we could do this:</p>
<pre><code><span class="LiteralGray"># Make an empty list for storing aliens.</span>
<span class="LiteralGray">aliens = []</span>

<span class="LiteralGray"># Make 30 green aliens.</span>
<span class="LiteralGray">for alien_number in range (30):</span>
<span class="LiteralGray">    new_alien = {'color': 'green', 'points': 5, 'speed': 'slow'}</span>
<span class="LiteralGray">    aliens.append(new_alien)</span>

for alien in aliens[:3]:
    if alien['color'] == 'green':
        alien['color'] = 'yellow'
        alien['speed'] = 'medium'
        alien['points'] = 10

<span class="LiteralGray"># Show the first 5 aliens.</span>
<span class="LiteralGray">for alien in aliens[:5]:</span>
<span class="LiteralGray">    print(alien)</span>
<span class="LiteralGray">print("...")</span></code></pre>
<p>Because we want to modify the first three aliens, we loop through a slice that includes only the first three aliens. All of the aliens are green now, but that won’t always be the case, so we write an <code>if</code> statement to make sure we’re only modifying green aliens. If the alien is green, we change the color to <code>'yellow'</code>, the speed to <code>'medium'</code>, and the point value to <code>10</code>, as shown in the following output:</p>
<pre><code>{'color': 'yellow', 'points': 10, 'speed': 'medium'}
{'color': 'yellow', 'points': 10, 'speed': 'medium'}
{'color': 'yellow', 'points': 10, 'speed': 'medium'}
{'color': 'green', 'points': 5, 'speed': 'slow'}
{'color': 'green', 'points': 5, 'speed': 'slow'}
...</code></pre>
<p>You could expand this loop by adding an <code>elif</code> block that turns yellow aliens into red, fast-moving ones worth 15 points each. Without showing the entire program again, that loop would look like this:</p>
<pre><code><span class="LiteralGray">for alien in aliens[0:3]:</span>
<span class="LiteralGray">    if alien['color'] == 'green':</span>
<span class="LiteralGray">        alien['color'] = 'yellow'</span>
<span class="LiteralGray">        alien['speed'] = 'medium'</span>
<span class="LiteralGray">        alien['points'] = 10</span>
    elif alien['color'] == 'yellow':
        alien['color'] = 'red'
        alien['speed'] = 'fast'
        alien['points'] = 15</code></pre>
<p>It’s common to store a number of dictionaries in a list when each dictionary contains many kinds of information about one object. For example, you might create a dictionary for each user on a website, as we did in <em>user.py</em> <span epub:type="pagebreak" title="108" id="Page_108"/>on <span class="xref" itemid="xref_target_page 99">page 99</span>, and store the individual dictionaries in a list called <code>users</code>. All of the dictionaries in the list should have an identical structure, so you can loop through the list and work with each dictionary object in the same way.</p>
<h3 id="h2-502703c06-0013">A List in a Dictionary</h3>
<p class="BodyFirst">Rather than putting a dictionary inside a list, it’s sometimes useful to put a list inside a dictionary. For example, consider how you might describe a pizza that someone is ordering. If you were to use only a list, all you could really store is a list of the pizza’s toppings. With a dictionary, a list of toppings can be just one aspect of the pizza you’re describing.</p>
<p>In the following example, two kinds of information are stored for each pizza: a type of crust and a list of toppings. The list of toppings is a value associated with the key <code>'toppings'</code>. To use the items in the list, we give the name of the dictionary and the key <code>'toppings'</code>, as we would any value in the dictionary. Instead of returning a single value, we get a list of toppings:</p>
<p class="CodeLabel"><b>pizza.py</b></p>
<pre><code># Store information about a pizza being ordered.
pizza = {
    'crust': 'thick',
    'toppings': ['mushrooms', 'extra cheese'],
    }

# Summarize the order.
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> print(f"You ordered a {pizza['crust']}-crust pizza "
    "with the following toppings:")

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> for topping in pizza['toppings']:
    print(f"\t{topping}")</code></pre>
<p>We begin with a dictionary that holds information about a pizza that has been ordered. One key in the dictionary is <code>'crust'</code>, and the associated value is the string <code>'thick'</code>. The next key, <code>'toppings'</code>, has a list as its value that stores all requested toppings. We summarize the order before building the pizza <span class="CodeAnnotation" aria-label="annotation1">❶</span>. When you need to break up a long line in a <code>print()</code> call, choose an appropriate point at which to break the line being printed, and end the line with a quotation mark. Indent the next line, add an opening quotation mark, and continue the string. Python will automatically combine all of the strings it finds inside the parentheses. To print the toppings, we write a <code>for</code> loop <span class="CodeAnnotation" aria-label="annotation2">❷</span>. To access the list of toppings, we use the key <code>'toppings'</code>, and Python grabs the list of toppings from the dictionary.</p>
<p>The following output summarizes the pizza that we plan to build:</p>
<pre><code>You ordered a thick-crust pizza with the following toppings:
    mushrooms
    extra cheese</code></pre>
<p>You can nest a list inside a dictionary anytime you want more than one value to be associated with a single key in a dictionary. In the earlier example of favorite programming languages, if we were to store each person’s responses in a list, people could choose more than one favorite language. <span epub:type="pagebreak" title="109" id="Page_109"/>When we loop through the dictionary, the value associated with each person would be a list of languages rather than a single language. Inside the dictionary’s <code>for</code> loop, we use another <code>for</code> loop to run through the list of languages associated with each person:</p>
<p class="CodeLabel"><b>favorite_languages.py</b></p>
<pre><code>favorite_languages = {
 <code>   </code>'jen': ['python', 'rust'],
 <code>   </code>'sarah': ['c'],
    'edward': ['rust', 'go'],
    'phil': ['python', 'haskell'],
    }

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> for name, languages in favorite_languages.items():
    print(f"\n{name.title()}'s favorite languages are:")
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     for language in languages:
        print(f"\t{language.title()}")</code></pre>
<p>The value associated with each name in <code>favorite_languages</code> is now a list. Note that some people have one favorite language and others have multiple favorites. When we loop through the dictionary <span class="CodeAnnotation" aria-label="annotation1">❶</span>, we use the variable name <code>languages</code> to hold each value from the dictionary, because we know that each value will be a list. Inside the main dictionary loop, we use another <code>for</code> loop <span class="CodeAnnotation" aria-label="annotation2">❷</span> to run through each person’s list of favorite languages. Now each person can list as many favorite languages as they like:</p>
<pre><code>Jen's favorite languages are:
    Python
    Rust

Sarah's favorite languages are:
    C

Edward's favorite languages are:
    Rust
    Go

Phil's favorite languages are:
    Python
    Haskell</code></pre>
<p>To refine this program even further, you could include an <code>if</code> statement at the beginning of the dictionary’s <code>for</code> loop to see whether each person has more than one favorite language by examining the value of <code>len(languages)</code>. If a person has more than one favorite, the output would stay the same. If the person has only one favorite language, you could change the wording to reflect that. For example, you could say, “Sarah’s favorite language is C.”</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	You should not nest lists and dictionaries too deeply. If you’re nesting items much deeper than what you see in the preceding examples, or if you’re working with someone else’s code with significant levels of nesting, there’s most likely a simpler way to solve the problem.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c06-0014"><span epub:type="pagebreak" title="110" id="Page_110"/>A Dictionary in a Dictionary</h3>
<p class="BodyFirst">You can nest a dictionary inside another dictionary, but your code can get complicated quickly when you do. For example, if you have several users for a website, each with a unique username, you can use the usernames as the keys in a dictionary. You can then store information about each user by using a dictionary as the value associated with their username. In the following listing, we store three pieces of information about each user: their first name, last name, and location. We’ll access this information by looping through the usernames and the dictionary of information associated with each username:</p>
<p class="CodeLabel"><b>many_users.py</b></p>
<pre><code>users = {
    'aeinstein': {
        'first': 'albert',
        'last': 'einstein',
        'location': 'princeton',
        },

    'mcurie': {
        'first': 'marie',
        'last': 'curie',
        'location': 'paris',
        },

    }

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> for username, user_info in users.items():
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     print(f"\nUsername: {username}")
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span>     full_name = f"{user_info['first']} {user_info['last']}"
    location = user_info['location']

<span class="CodeAnnotationHang" aria-label="annotation4">❹</span>     print(f"\tFull name: {full_name.title()}")
    print(f"\tLocation: {location.title()}")</code></pre>
<p>We first define a dictionary called <code>users</code> with two keys: one each for the usernames <code>'aeinstein'</code> and <code>'mcurie'</code>. The value associated with each key is a dictionary that includes each user’s first name, last name, and location. Then, we loop through the <code>users</code> dictionary <span class="CodeAnnotation" aria-label="annotation1">❶</span>. Python assigns each key to the variable <code>username</code>, and the dictionary associated with each username is assigned to the variable <code>user_info</code>. Once inside the main dictionary loop, we print the username <span class="CodeAnnotation" aria-label="annotation2">❷</span>.</p>
<p>Then, we start accessing the inner dictionary <span class="CodeAnnotation" aria-label="annotation3">❸</span>. The variable <code>user_info</code>, which contains the dictionary of user information, has three keys: <code>'first'</code>, <code>'last'</code>, and <code>'location'</code>. We use each key to generate a neatly formatted full name and location for each person, and then print a summary of what we know about each user <span class="CodeAnnotation" aria-label="annotation4">❹</span>:</p>
<pre><code>Username: aeinstein
    Full name: Albert Einstein
    Location: Princeton

<span epub:type="pagebreak" title="111" id="Page_111"/>Username: mcurie
    Full name: Marie Curie
    Location: Paris</code></pre>
<p>Notice that the structure of each user’s dictionary is identical. Although not required by Python, this structure makes nested dictionaries easier to work with. If each user’s dictionary had different keys, the code inside the <code>for</code> loop would be more complicated.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c06-21" class="BoxNumber">6-7. People:</span> Start with the program you wrote for Exercise 6-1 (<span class="xref" itemid="xref_target_page 98">page 98</span>). Make two new dictionaries representing different people, and store all three dictionaries in a list called <code>people</code>. Loop through your list of people. As you loop through the list, print everything you know about each person.</p>
<p class="BoxBodyCustom"><span id="h2-502703c06-22" class="BoxNumber">6-8. Pets:</span> Make several dictionaries, where each dictionary represents a different pet. In each dictionary, include the kind of animal and the owner’s name. Store these dictionaries in a list called <code>pets</code>. Next, loop through your list and as you do, print everything you know about each pet.</p>
<p class="BoxBodyCustom"><span id="h2-502703c06-23" class="BoxNumber">6-9. Favorite Places:</span> Make a dictionary called <code>favorite_places</code>. Think of three names to use as keys in the dictionary, and store one to three favorite places for each person. To make this exercise a bit more interesting, ask some friends to name a few of their favorite places. Loop through the dictionary, and print each person’s name and their favorite places.</p>
<p class="BoxBodyCustom"><span id="h2-502703c06-24" class="BoxNumber">6-10. Favorite Numbers:</span> Modify your program from Exercise 6-2 (<span class="xref" itemid="xref_target_page 98">page 98</span>) so each person can have more than one favorite number. Then print each person’s name along with their favorite numbers.</p>
<p class="BoxBodyCustom"><span id="h2-502703c06-25" class="BoxNumber">6-11. Cities:</span> Make a dictionary called <code>cities</code>. Use the names of three cities as keys in your dictionary. Create a dictionary of information about each city and include the country that the city is in, its approximate population, and one fact about that city. The keys for each city’s dictionary should be something like <code>country</code>, <code>population</code>, and <code>fact</code>. Print the name of each city and all of the information you have stored about it.</p>
<p class="BoxBodyCustom"><span id="h2-502703c06-26" class="BoxNumber">6-12. Extensions:</span> We’re now working with examples that are complex enough that they can be extended in any number of ways. Use one of the example programs from this chapter, and extend it by adding new keys and values, changing the context of the program, or improving the formatting of the output.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c06-0005">Summary</h2>
<p class="BodyFirst">In this chapter, you learned how to define a dictionary and how to work with the information stored in a dictionary. You learned how to access and modify individual elements in a dictionary, and how to loop through all <span epub:type="pagebreak" title="112" id="Page_112"/>of the information in a dictionary. You learned to loop through a dictionary’s key-value pairs, its keys, and its values. You also learned how to nest multiple dictionaries in a list, nest lists in a dictionary, and nest a dictionary inside a dictionary.</p>
<p>In the next chapter you’ll learn about <code>while</code> loops and how to accept input from people who are using your programs. This will be an exciting chapter, because you’ll learn to make all of your programs interactive: they’ll be able to respond to user input.</p>
</section>
</div>
<div id="sbo-rt-content"><section>
<header>
<h1 class="chapter">
<span class="ChapterNumber"><span epub:type="pagebreak" title="113" id="Page_113"/>7</span><br/>
<span class="ChapterTitle">User Input and while Loops</span></h1>
</header>
<figure class="opener">
<img src="Images/chapterart.png" alt="" width="406" height="406"/>
</figure>
<p class="ChapterIntro">Most programs are written to solve an end user’s problem. To do so, you usually need to get some information from the user. For example, say someone wants to find out whether they’re old enough to vote. If you write a program to answer this question, you need to know the user’s age before you can provide an answer. The program will need to ask the user to enter, or <em>input</em>, their age; once the program has this input, it can compare it to the voting age to determine if the user is old enough and then report the result.</p>
<p>In this chapter you’ll learn how to accept user input so your program can then work with it. When your program needs a name, you’ll be able to prompt the user for a name. When your program needs a list of names, you’ll be able to prompt the user for a series of names. To do this, you’ll use the <code>input()</code> function.</p>
<p>You’ll also learn how to keep programs running as long as users want them to, so they can enter as much information as they need to; then, your <span epub:type="pagebreak" title="114" id="Page_114"/>program can work with that information. You’ll use Python’s <code>while</code> loop to keep programs running as long as certain conditions remain true.</p>
<p>With the ability to work with user input and the ability to control how long your programs run, you’ll be able to write fully interactive programs.</p>
<h2 id="h1-502703c07-0001">How the input() Function Works</h2>
<p class="BodyFirst">The <code>input()</code> function pauses your program and waits for the user to enter some text. Once Python receives the user’s input, it assigns that input to a variable to make it convenient for you to work with.</p>
<p>For example, the following program asks the user to enter some text, then displays that message back to the user:</p>
<p class="CodeLabel"><b>parrot.py</b></p>
<pre><code>message = input("Tell me something, and I will repeat it back to you: ")
print(message)</code></pre>
<p>The <code>input()</code> function takes one argument: the <em>prompt</em> that we want to display to the user, so they know what kind of information to enter. In this example, when Python runs the first line, the user sees the prompt <code>Tell me something, and I will repeat it back to you: </code>. The program waits while the user enters their response and continues after the user presses ENTER. The response is assigned to the variable <code>message</code>, then <code>print(message)</code> displays the input back to the user:</p>
<pre><code>Tell me something, and I will repeat it back to you: <b>Hello everyone!</b>
Hello everyone!</code></pre>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	Some text editors won’t run programs that prompt the user for input. You can use these editors to write programs that prompt for input, but you’ll need to run these programs from a terminal. See “<span class="xref" itemid="xref_target_Running Python Programs from a Terminal">Running Python Programs from a Terminal</span>” on <span class="xref" itemid="xref_target_page 11">page 11</span>.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c07-0001">Writing Clear Prompts</h3>
<p class="BodyFirst">Each time you use the <code>input()</code> function, you should include a clear, easy-to-follow prompt that tells the user exactly what kind of information you’re looking for. Any statement that tells the user what to enter should work. For example:</p>
<p class="CodeLabel"><b>greeter.py</b></p>
<pre><code>name = input("Please enter your name: ")
print(f"\nHello, {name}!")</code></pre>
<p>Add a space at the end of your prompts (after the colon in the preceding example) to separate the prompt from the user’s response and to make it clear to your user where to enter their text. For example:</p>
<pre><code>Please enter your name: <b>Eric</b>
Hello, Eric!</code></pre>
<p><span epub:type="pagebreak" title="115" id="Page_115"/>Sometimes you’ll want to write a prompt that’s longer than one line. For example, you might want to tell the user why you’re asking for certain input. You can assign your prompt to a variable and pass that variable to the <code>input()</code> function. This allows you to build your prompt over several lines, then write a clean <code>input()</code> statement.</p>
<p class="CodeLabel"><b>greeter.py</b></p>
<pre><code>prompt = "If you share your name, we can personalize the messages you see."
prompt += "\nWhat is your first name? "

name = input(prompt)
<span class="LiteralGray">print(f"\nHello, {name}!")</span></code></pre>
<p>This example shows one way to build a multiline string. The first line assigns the first part of the message to the variable <code>prompt</code>. In the second line, the operator <code>+=</code> takes the string that was assigned to <code>prompt</code> and adds the new string onto the end.</p>
<p>The prompt now spans two lines, again with space after the question mark for clarity:</p>
<pre><code>If you share your name, we can personalize the messages you see.
What is your first name? <b>Eric</b>

Hello, Eric!</code></pre>
<h3 id="h2-502703c07-0002">Using int() to Accept Numerical Input</h3>
<p class="BodyFirst">When you use the <code>input()</code> function, Python interprets everything the user enters as a string. Consider the following interpreter session, which asks for the user’s age:</p>
<pre><code>&gt;&gt;&gt; <b>age = input("How old are you? ")</b>
How old are you? <b>21</b>
&gt;&gt;&gt; <b>age</b>
'21'</code></pre>
<p>The user enters the number <code>21</code>, but when we ask Python for the value of <code>age</code>, it returns <code>'21'</code>, the string representation of the numerical value entered. We know Python interpreted the input as a string because the number is now enclosed in quotes. If all you want to do is print the input, this works well. But if you try to use the input as a number, you’ll get an error:</p>
<pre><code>&gt;&gt;&gt; <b>age = input("How old are you? ")</b>
How old are you? <b>21</b>
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> &gt;&gt;&gt; <b>age &gt;= 18</b>
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> TypeError: '&gt;=' not supported between instances of 'str' and 'int'</code></pre>
<p>When you try to use the input to do a numerical comparison <span class="CodeAnnotation" aria-label="annotation1">❶</span>, Python produces an error because it can’t compare a string to an integer: the string <code>'21'</code> that’s assigned to <code>age</code> can’t be compared to the numerical value <code>18</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span>.</p>
<p><span epub:type="pagebreak" title="116" id="Page_116"/>We can resolve this issue by using the <code>int()</code> function, which converts the input string to a numerical value. This allows the comparison to run successfully:</p>
<pre><code>&gt;&gt;&gt; <b>age = input("How old are you? ")</b>
How old are you? <b>21</b>
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> &gt;&gt;&gt; <b>age = int(age)</b>
&gt;&gt;&gt; <b>age &gt;= 18</b>
True</code></pre>
<p>In this example, when we enter <code>21</code> at the prompt, Python interprets the number as a string, but the value is then converted to a numerical representation by <code>int()</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>. Now Python can run the conditional test: it compares <code>age</code> (which now represents the numerical value 21) and <code>18</code> to see if <code>age</code> is greater than or equal to 18. This test evaluates to <code>True</code>.</p>
<p>How do you use the <code>int()</code> function in an actual program? Consider a program that determines whether people are tall enough to ride a roller coaster:</p>
<p class="CodeLabel"><b>rollercoaster.py</b></p>
<pre><code>height = input("How tall are you, in inches? ")
height = int(height)

if height &gt;= 48:
    print("\nYou're tall enough to ride!")
else:
    print("\nYou'll be able to ride when you're a little older.")</code></pre>
<p>The program can compare <code>height</code> to <code>48</code> because <code>height = int(height)</code> converts the input value to a numerical representation before the comparison is made. If the number entered is greater than or equal to 48, we tell the user that they’re tall enough:</p>
<pre><code>How tall are you, in inches? <b>71</b>

You're tall enough to ride!</code></pre>
<p>When you use numerical input to do calculations and comparisons, be sure to convert the input value to a numerical representation first.</p>
<h3 id="h2-502703c07-0003">The Modulo Operator</h3>
<p class="BodyFirst">A useful tool for working with numerical information is the <em>modulo operator </em>(<code>%</code>), which divides one number by another number and returns the remainder:</p>
<pre><code>&gt;&gt;&gt; <b>4 % 3</b>
1
&gt;&gt;&gt; <b>5 % 3</b>
2
&gt;&gt;&gt; <b>6 % 3</b>
0
&gt;&gt;&gt; <b>7 % 3</b>
1</code></pre>
<p><span epub:type="pagebreak" title="117" id="Page_117"/>The modulo operator doesn’t tell you how many times one number fits into another; it only tells you what the remainder is.</p>
<p>When one number is divisible by another number, the remainder is 0, so the modulo operator always returns 0. You can use this fact to determine if a number is even or odd:</p>
<p class="CodeLabel"><b>even_or_odd.py</b></p>
<pre><code>number = input("Enter a number, and I'll tell you if it's even or odd: ")
number = int(number)

if number % 2 == 0:
    print(f"\nThe number {number} is even.")
else:
    print(f"\nThe number {number} is odd.")</code></pre>
<p>Even numbers are always divisible by two, so if the modulo of a number and two is zero (here, <code>if number % 2 == 0</code>) the number is even. Otherwise, it’s odd.</p>
<pre><code>Enter a number, and I'll tell you if it's even or odd: <b>42</b>

The number 42 is even.</code></pre>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c07-04" class="BoxNumber">7-1. Rental Car:</span> Write a program that asks the user what kind of rental car they would like. Print a message about that car, such as “Let me see if I can find you a Subaru.”</p>
<p class="BoxBodyCustom"><span id="h2-502703c07-05" class="BoxNumber">7-2. Restaurant Seating:</span> Write a program that asks the user how many people are in their dinner group. If the answer is more than eight, print a message saying they’ll have to wait for a table. Otherwise, report that their table is ready.</p>
<p class="BoxBodyCustom"><span id="h2-502703c07-06" class="BoxNumber">7-3. Multiples of Ten:</span> Ask the user for a number, and then report whether the number is a multiple of 10 or not.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c07-0002">Introducing while Loops</h2>
<p class="BodyFirst">The <code>for</code> loop takes a collection of items and executes a block of code once for each item in the collection. In contrast, the <code>while</code> loop runs as long as, or <em>while</em>, a certain condition is true.</p>
<h3 id="h2-502703c07-0004">The while Loop in Action</h3>
<p class="BodyFirst">You can use a <code>while</code> loop to count up through a series of numbers. For example, the following <code>while</code> loop counts from 1 to 5:</p>
<p class="CodeLabel"><b>counting.py</b></p>
<pre><code>current_number = 1
while current_number &lt;= 5:
<span epub:type="pagebreak" title="118" id="Page_118"/>    print(current_number)
    current_number += 1</code></pre>
<p>In the first line, we start counting from 1 by assigning <code>current_number</code> the value 1. The <code>while</code> loop is then set to keep running as long as the value of <code>current_number</code> is less than or equal to 5. The code inside the loop prints the value of <code>current_number</code> and then adds 1 to that value with <code>current_number += 1</code>. (The <code>+=</code> operator is shorthand for <code>current_number = current_number + 1</code>.)</p>
<p>Python repeats the loop as long as the condition <code>current_number &lt;= 5</code> is true. Because 1 is less than 5, Python prints <code>1</code> and then adds 1, making the current number <code>2</code>. Because 2 is less than 5, Python prints <code>2</code> and adds 1 again, making the current number <code>3</code>, and so on. Once the value of <code>current_number</code> is greater than 5, the loop stops running and the program ends:</p>
<pre><code>1
2
3
4
5</code></pre>
<p>The programs you use every day most likely contain <code>while</code> loops. For example, a game needs a <code>while</code> loop to keep running as long as you want to keep playing, and so it can stop running as soon as you ask it to quit. Programs wouldn’t be fun to use if they stopped running before we told them to or kept running even after we wanted to quit, so <code>while</code> loops are quite useful.</p>
<h3 id="h2-502703c07-0005">Letting the User Choose When to Quit</h3>
<p class="BodyFirst">We can make the <em>parrot.py</em> program run as long as the user wants by putting most of the program inside a <code>while</code> loop. We’ll define a <em>quit value</em> and then keep the program running as long as the user has not entered the quit value:</p>
<p class="CodeLabel"><b>parrot.py</b></p>
<pre><code>prompt = "\nTell me something, and I will repeat it back to you:"
prompt += "\nEnter 'quit' to end the program. "

message = ""
while message != 'quit':
    message = input(prompt)
    print(message)</code></pre>
<p>We first define a prompt that tells the user their two options: entering a message or entering the quit value (in this case, <code>'quit'</code>). Then we set up a variable <code>message</code> to keep track of whatever value the user enters. We define <code>message</code> as an empty string, <code>""</code>, so Python has something to check the first time it reaches the <code>while</code> line. The first time the program runs and Python reaches the <code>while</code> statement, it needs to compare the value of <code>message</code> to <code>'quit'</code>, but no user input has been entered yet. If Python has nothing to compare, it won’t be able to continue running the program. To solve this <span epub:type="pagebreak" title="119" id="Page_119"/>problem, we make sure to give <code>message</code> an initial value. Although it’s just an empty string, it will make sense to Python and allow it to perform the comparison that makes the <code>while</code> loop work. This <code>while</code> loop runs as long as the value of <code>message</code> is not <code>'quit'</code>.</p>
<p>The first time through the loop, <code>message</code> is just an empty string, so Python enters the loop. At <code>message = input(prompt)</code>, Python displays the prompt and waits for the user to enter their input. Whatever they enter is assigned to <code>message</code> and printed; then, Python reevaluates the condition in the <code>while</code> statement. As long as the user has not entered the word <code>'quit'</code>, the prompt is displayed again and Python waits for more input. When the user finally enters <code>'quit'</code>, Python stops executing the <code>while</code> loop and the program ends:</p>
<pre><code>Tell me something, and I will repeat it back to you:
Enter 'quit' to end the program. <b>Hello everyone!</b>
Hello everyone!

Tell me something, and I will repeat it back to you:
Enter 'quit' to end the program. <b>Hello again.</b>
Hello again.

Tell me something, and I will repeat it back to you:
Enter 'quit' to end the program. <b>quit</b>
quit</code></pre>
<p>This program works well, except that it prints the word <code>'quit'</code> as if it were an actual message. A simple <code>if</code> test fixes this:</p>
<pre><code><span class="LiteralGray">prompt = "\nTell me something, and I will repeat it back to you:"</span>
<span class="LiteralGray">prompt += "\nEnter 'quit' to end the program. "</span>

<span class="LiteralGray">message = ""</span>
<span class="LiteralGray">while message != 'quit':</span>
<span class="LiteralGray">    message = input(prompt)</span>

    if message != 'quit':
        <span class="LiteralGray">print(message)</span></code></pre>
<p>Now the program makes a quick check before displaying the message and only prints the message if it does not match the quit value:</p>
<pre><code>Tell me something, and I will repeat it back to you:
Enter 'quit' to end the program. <b>Hello everyone!</b>
Hello everyone!

Tell me something, and I will repeat it back to you:
Enter 'quit' to end the program. <b>Hello again.</b>
Hello again.

Tell me something, and I will repeat it back to you:
Enter 'quit' to end the program. <b>quit</b></code></pre>
<h3 id="h2-502703c07-0006"><span epub:type="pagebreak" title="120" id="Page_120"/>Using a Flag</h3>
<p class="BodyFirst">In the previous example, we had the program perform certain tasks while a given condition was true. But what about more complicated programs in which many different events could cause the program to stop running?</p>
<p>For example, in a game, several different events can end the game. When the player runs out of ships, their time runs out, or the cities they were supposed to protect are all destroyed, the game should end. It needs to end if any one of these events happens. If many possible events might occur to stop the program, trying to test all these conditions in one <code>while</code> statement becomes complicated and difficult.</p>
<p>For a program that should run only as long as many conditions are true, you can define one variable that determines whether or not the entire program is active. This variable, called a <em>flag</em>, acts as a signal to the program. We can write our programs so they run while the flag is set to <code>True</code> and stop running when any of several events sets the value of the flag to <code>False</code>. As a result, our overall <code>while</code> statement needs to check only one condition: whether the flag is currently <code>True</code>. Then, all our other tests (to see if an event has occurred that should set the flag to <code>False</code>) can be neatly organized in the rest of the program.</p>
<p>Let’s add a flag to <em>parrot.py</em> from the previous section. This flag, which we’ll call <code>active</code> (though you can call it anything), will monitor whether or not the program should continue running:</p>
<pre><code><span class="LiteralGray">prompt = "\nTell me something, and I will repeat it back to you:"</span>
<span class="LiteralGray">prompt += "\nEnter 'quit' to end the program. "</span>

active = True
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> while active:
    message = input(prompt)

    if message == 'quit':
        active = False
    else:
        print(message)</code></pre>
<p>We set the variable <code>active</code> to <code>True</code> so the program starts in an active state. Doing so makes the <code>while</code> statement simpler because no comparison is made in the <code>while</code> statement itself; the logic is taken care of in other parts of the program. As long as the <code>active</code> variable remains <code>True</code>, the loop will continue running <span class="CodeAnnotation" aria-label="annotation1">❶</span>.</p>
<p>In the <code>if</code> statement inside the <code>while</code> loop, we check the value of <code>message</code> once the user enters their input. If the user enters <code>'quit'</code>, we set <code>active</code> to <code>False</code>, and the <code>while</code> loop stops. If the user enters anything other than <code>'quit'</code>, we print their input as a message.</p>
<p>This program has the same output as the previous example where we placed the conditional test directly in the <code>while</code> statement. But now that we <span epub:type="pagebreak" title="121" id="Page_121"/>have a flag to indicate whether the overall program is in an active state, it would be easy to add more tests (such as <code>elif</code> statements) for events that should cause <code>active</code> to become <code>False</code>. This is useful in complicated programs like games, in which there may be many events that should each make the program stop running. When any of these events causes the active flag to become <code>False</code>, the main game loop will exit, a <em>Game Over</em> message can be displayed, and the player can be given the option to play again.</p>
<h3 id="h2-502703c07-0007">Using break to Exit a Loop</h3>
<p class="BodyFirst">To exit a <code>while</code> loop immediately without running any remaining code in the loop, regardless of the results of any conditional test, use the <code>break</code> statement. The <code>break</code> statement directs the flow of your program; you can use it to control which lines of code are executed and which aren’t, so the program only executes code that you want it to, when you want it to.</p>
<p>For example, consider a program that asks the user about places they’ve visited. We can stop the <code>while</code> loop in this program by calling <code>break</code> as soon as the user enters the <code>'quit'</code> value:</p>
<p class="CodeLabel"><b>cities.py</b></p>
<pre><code>prompt = "\nPlease enter the name of a city you have visited:"
prompt += "\n(Enter 'quit' when you are finished.) "

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> while True:
    city = input(prompt)

    if city == 'quit':
        break
    else:
        print(f"I'd love to go to {city.title()}!")</code></pre>
<p>A loop that starts with <code>while True</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span> will run forever unless it reaches a <code>break</code> statement. The loop in this program continues asking the user to enter the names of cities they’ve been to until they enter <code>'quit'</code>. When they enter <code>'quit'</code>, the <code>break</code> statement runs, causing Python to exit the loop:</p>
<pre><code>Please enter the name of a city you have visited:
(Enter 'quit' when you are finished.) <b>New York</b>
I'd love to go to New York!

Please enter the name of a city you have visited:
(Enter 'quit' when you are finished.) <b>San Francisco</b>
I'd love to go to San Francisco!

Please enter the name of a city you have visited:
(Enter 'quit' when you are finished.) <b>quit</b></code></pre>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	You can use the <code>break</code> statement in any of Python’s loops. For example, you could use <code>break</code> to quit a <code>for</code> loop that’s working through a list or a dictionary.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c07-0008"><span epub:type="pagebreak" title="122" id="Page_122"/>Using continue in a Loop</h3>
<p class="BodyFirst">Rather than breaking out of a loop entirely without executing the rest of its code, you can use the <code>continue</code> statement to return to the beginning of the loop, based on the result of a conditional test. For example, consider a loop that counts from 1 to 10 but prints only the odd numbers in that range:</p>
<p class="CodeLabel"><b>counting.py</b></p>
<pre><code>current_number = 0
while current_number &lt; 10:
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     current_number += 1
    if current_number % 2 == 0:
        continue

    print(current_number)</code></pre>
<p>First, we set <code>current_number</code> to 0. Because it’s less than 10, Python enters the <code>while</code> loop. Once inside the loop, we increment the count by 1 <span class="CodeAnnotation" aria-label="annotation1">❶</span>, so <code>current_number</code> is 1. The <code>if</code> statement then checks the modulo of <code>current_number</code> and 2. If the modulo is 0 (which means <code>current_number</code> is divisible by 2), the <code>continue</code> statement tells Python to ignore the rest of the loop and return to the beginning. If the current number is not divisible by 2, the rest of the loop is executed and Python prints the current number:</p>
<pre><code>1
3
5
7
9</code></pre>
<h3 id="h2-502703c07-0009">Avoiding Infinite Loops</h3>
<p class="BodyFirst">Every <code>while</code> loop needs a way to stop running so it won’t continue to run forever. For example, this counting loop should count from 1 to 5:</p>
<p class="CodeLabel"><b>counting.py</b></p>
<pre><code>x = 1
while x &lt;= 5:
    print(x)
    x += 1</code></pre>
<p>However, if you accidentally omit the line <code>x += 1</code>, the loop will run forever:</p>
<pre><code># This loop runs forever!
x = 1
while x &lt;= 5:
    print(x)</code></pre>
<p><span epub:type="pagebreak" title="123" id="Page_123"/>Now the value of <code>x</code> will start at <code>1</code> but never change. As a result, the conditional test <code>x &lt;= 5</code> will always evaluate to <code>True</code> and the <code>while</code> loop will run forever, printing a series of 1s, like this:</p>
<pre><code>1
1
1
1
<var>--snip--</var></code></pre>
<p>Every programmer accidentally writes an infinite <code>while</code> loop from time to time, especially when a program’s loops have subtle exit conditions. If your program gets stuck in an infinite loop, press CTRL-C or just close the terminal window displaying your program’s output.</p>
<p>To avoid writing infinite loops, test every <code>while</code> loop and make sure the loop stops when you expect it to. If you want your program to end when the user enters a certain input value, run the program and enter that value. If the program doesn’t end, scrutinize the way your program handles the value that should cause the loop to exit. Make sure at least one part of the program can make the loop’s condition <code>False</code> or cause it to reach a <code>break</code> statement.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	VS Code, like many editors, displays output in an embedded terminal window. To cancel an infinite loop, make sure you click in the output area of the editor before pressing CTRL-C.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c07-13" class="BoxNumber">7-4. Pizza Toppings:</span> Write a loop that prompts the user to enter a series of pizza toppings until they enter a <code>'quit'</code> value. As they enter each topping, print a message saying you’ll add that topping to their pizza.</p>
<p class="BoxBodyCustom"><span id="h2-502703c07-14" class="BoxNumber">7-5. Movie Tickets:</span> A movie theater charges different ticket prices depending on a person’s age. If a person is under the age of 3, the ticket is free; if they are between 3 and 12, the ticket is $10; and if they are over age 12, the ticket is $15. Write a loop in which you ask users their age, and then tell them the cost of their movie ticket.</p>
<p class="BoxBodyCustom"><span id="h2-502703c07-15" class="BoxNumber">7-6. Three Exits:</span> Write different versions of either Exercise 7-4 or 7-5 that do each of the following at least once:</p>
<ul>
<li>Use a conditional test in the <code>while</code> statement to stop the loop.</li>
<li>Use an <code>active</code> variable to control how long the loop runs.</li>
<li>Use a <code>break</code> statement to exit the loop when the user enters a <code>'quit'</code> value.</li>
</ul>
<p class="BoxBodyCustom"><span id="h2-502703c07-16" class="BoxNumber">7-7. Infinity:</span> Write a loop that never ends, and run it. (To end the loop, press CTRL-C or close the window displaying the output.)</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c07-0003"><span epub:type="pagebreak" title="124" id="Page_124"/>Using a while Loop with Lists and Dictionaries</h2>
<p class="BodyFirst">So far, we’ve worked with only one piece of user information at a time. We received the user’s input and then printed the input or a response to it. The next time through the <code>while</code> loop, we’d receive another input value and respond to that. But to keep track of many users and pieces of information, we’ll need to use lists and dictionaries with our <code>while</code> loops.</p>
<p>A <code>for</code> loop is effective for looping through a list, but you shouldn’t modify a list inside a <code>for</code> loop because Python will have trouble keeping track of the items in the list. To modify a list as you work through it, use a <code>while</code> loop. Using <code>while</code> loops with lists and dictionaries allows you to collect, store, and organize lots of input to examine and report on later.</p>
<h3 id="h2-502703c07-0010">Moving Items from One List to Another</h3>
<p class="BodyFirst">Consider a list of newly registered but unverified users of a website. After we verify these users, how can we move them to a separate list of confirmed users? One way would be to use a <code>while</code> loop to pull users from the list of unconfirmed users as we verify them and then add them to a separate list of confirmed users. Here’s what that code might look like:</p>
<p class="CodeLabel"><b>confirmed_users.py</b></p>
<pre><code># Start with users that need to be verified,
#  and an empty list to hold confirmed users.
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> unconfirmed_users = ['alice', 'brian', 'candace']
confirmed_users = []

# Verify each user until there are no more unconfirmed users.
#  Move each verified user into the list of confirmed users.
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> while unconfirmed_users:
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span>     current_user = unconfirmed_users.pop()

    print(f"Verifying user: {current_user.title()}")
<span class="CodeAnnotationHang" aria-label="annotation4">❹</span>     confirmed_users.append(current_user)

# Display all confirmed users.
print("\nThe following users have been confirmed:")
for confirmed_user in confirmed_users:
    print(confirmed_user.title())</code></pre>
<p>We begin with a list of unconfirmed users <span class="CodeAnnotation" aria-label="annotation1">❶</span> (Alice, Brian, and Candace) and an empty list to hold confirmed users. The <code>while</code> loop runs as long as the list <code>unconfirmed_users</code> is not empty <span class="CodeAnnotation" aria-label="annotation2">❷</span>. Within this loop, the <code>pop()</code> method removes unverified users one at a time from the end of <code>unconfirmed_users</code> <span class="CodeAnnotation" aria-label="annotation3">❸</span>. Because Candace is last in the <code>unconfirmed_users</code> list, her name will be the first to be removed, assigned to <code>current_user</code>, and added to the <code>confirmed_users</code> list <span class="CodeAnnotation" aria-label="annotation4">❹</span>. Next is Brian, then Alice.</p>
<p>We simulate confirming each user by printing a verification message and then adding them to the list of confirmed users. As the list of unconfirmed users shrinks, the list of confirmed users grows. When the list of <span epub:type="pagebreak" title="125" id="Page_125"/>unconfirmed users is empty, the loop stops and the list of confirmed users is printed:</p>
<pre><code>Verifying user: Candace
Verifying user: Brian
Verifying user: Alice

The following users have been confirmed:
Candace
Brian
Alice</code></pre>
<h3 id="h2-502703c07-0011">Removing All Instances of Specific Values from a List</h3>
<p class="BodyFirst">In <span class="xref" itemid="xref_target_Chapter 3,">Chapter 3,</span> we used <code>remove()</code> to remove a specific value from a list. The <code>remove()</code> function worked because the value we were interested in appeared only once in the list. But what if you want to remove all instances of a value from a list?</p>
<p>Say you have a list of pets with the value <code>'cat'</code> repeated several times. To remove all instances of that value, you can run a <code>while</code> loop until <code>'cat'</code> is no longer in the list, as shown here:</p>
<p class="CodeLabel"><b>pets.py</b></p>
<pre><code>pets = ['dog', 'cat', 'dog', 'goldfish', 'cat', 'rabbit', 'cat']
print(pets)

while 'cat' in pets:
    pets.remove('cat')

print(pets)</code></pre>
<p>We start with a list containing multiple instances of <code>'cat'</code>. After printing the list, Python enters the <code>while</code> loop because it finds the value <code>'cat'</code> in the list at least once. Once inside the loop, Python removes the first instance of <code>'cat'</code>, returns to the <code>while</code> line, and then reenters the loop when it finds that <code>'cat'</code> is still in the list. It removes each instance of <code>'cat'</code> until the value is no longer in the list, at which point Python exits the loop and prints the list again:</p>
<pre><code>['dog', 'cat', 'dog', 'goldfish', 'cat', 'rabbit', 'cat']
['dog', 'dog', 'goldfish', 'rabbit']</code></pre>
<h3 id="h2-502703c07-0012">Filling a Dictionary with User Input</h3>
<p class="BodyFirst">You can prompt for as much input as you need in each pass through a <code>while</code> loop. Let’s make a polling program in which each pass through the loop prompts for the participant’s name and response. We’ll store the data we gather in a dictionary, because we want to connect each response with a particular user:</p>
<p class="CodeLabel"><b>mountain_poll.py</b></p>
<pre><code>responses = {}
# Set a flag to indicate that polling is active.
polling_active = True

<span epub:type="pagebreak" title="126" id="Page_126"/>while polling_active:
    # Prompt for the person's name and response.
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     name = input("\nWhat is your name? ")
    response = input("Which mountain would you like to climb someday? ")

    # Store the response in the dictionary.
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     responses[name] = response

    # Find out if anyone else is going to take the poll.
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span>     repeat = input("Would you like to let another person respond? (yes/ no) ")
    if repeat == 'no':
        polling_active = False

# Polling is complete. Show the results.
print("\n--- Poll Results ---")
<span class="CodeAnnotationHang" aria-label="annotation4">❹</span> for name, response in responses.items():
    print(f"{name} would like to climb {response}.")</code></pre>
<p>The program first defines an empty dictionary (<code>responses</code>) and sets a flag (<code>polling_active</code>) to indicate that polling is active. As long as <code>polling_active</code> is <code>True</code>, Python will run the code in the <code>while</code> loop.</p>
<p>Within the loop, the user is prompted to enter their name and a mountain they’d like to climb <span class="CodeAnnotation" aria-label="annotation1">❶</span>. That information is stored in the <code>responses</code> dictionary <span class="CodeAnnotation" aria-label="annotation2">❷</span>, and the user is asked whether or not to keep the poll running <span class="CodeAnnotation" aria-label="annotation3">❸</span>. If they enter <code>yes</code>, the program enters the <code>while</code> loop again. If they enter <code>no</code>, the <code>polling_active</code> flag is set to <code>False</code>, the <code>while</code> loop stops running, and the final code block <span class="CodeAnnotation" aria-label="annotation4">❹</span> displays the results of the poll.</p>
<p>If you run this program and enter sample responses, you should see output like this:</p>
<pre><code>What is your name? <b>Eric</b>
Which mountain would you like to climb someday? <b>Denali</b>
Would you like to let another person respond? (yes/ no) <b>yes</b>

What is your name? <b>Lynn</b>
Which mountain would you like to climb someday? <b>Devil's Thumb</b>
Would you like to let another person respond? (yes/ no) <b>no</b>

--- Poll Results ---
Eric would like to climb Denali.
Lynn would like to climb Devil's Thumb.</code></pre>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2><span epub:type="pagebreak" title="127" id="Page_127"/>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c07-20" class="BoxNumber">7-8. Deli:</span> Make a list called <code>sandwich_orders</code> and fill it with the names of various sandwiches. Then make an empty list called <code>finished_sandwiches</code>. Loop through the list of sandwich orders and print a message for each order, such as <code>I made your tuna sandwich</code>. As each sandwich is made, move it to the list of finished sandwiches. After all the sandwiches have been made, print a message listing each sandwich that was made.</p>
<p class="BoxBodyCustom"><span id="h2-502703c07-21" class="BoxNumber">7-9. No Pastrami:</span> Using the list <code>sandwich_orders</code> from Exercise 7-8, make sure the sandwich <code>'pastrami'</code> appears in the list at least three times. Add code near the beginning of your program to print a message saying the deli has run out of pastrami, and then use a <code>while</code> loop to remove all occurrences of <code>'pastrami'</code> from <code>sandwich_orders</code>. Make sure no pastrami sandwiches end up in <code>finished_sandwiches</code>.</p>
<p class="BoxBodyCustom"><span id="h2-502703c07-22" class="BoxNumber">7-10. Dream Vacation:</span> Write a program that polls users about their dream vacation. Write a prompt similar to <em>If you could visit one place in the world, where would you go?</em> Include a block of code that prints the results of the poll.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c07-0004">Summary</h2>
<p class="BodyFirst">In this chapter, you learned how to use <code>input()</code> to allow users to provide their own information in your programs. You learned to work with both text and numerical input and how to use <code>while</code> loops to make your programs run as long as your users want them to. You saw several ways to control the flow of a <code>while</code> loop by setting an <code>active</code> flag, using the <code>break</code> statement, and using the <code>continue</code> statement. You learned how to use a <code>while</code> loop to move items from one list to another and how to remove all instances of a value from a list. You also learned how <code>while</code> loops can be used with dictionaries.</p>
<p>In <span class="xref" itemid="xref_target_Chapter 8">Chapter 8</span> you’ll learn about functions. <em>Functions</em> allow you to break your programs into small parts, each of which does one specific job. You can call a function as many times as you want, and you can store your functions in separate files. By using functions, you’ll be able to write more efficient code that’s easier to troubleshoot and maintain and that can be reused in many different programs.</p>
</section>
</div>
<div id="sbo-rt-content"><section>
<header>
<h1 class="chapter">
<span class="ChapterNumber"><span epub:type="pagebreak" title="129" id="Page_129"/>8</span><br/>
<span class="ChapterTitle">Functions</span></h1>
</header>
<figure class="opener">
<img src="Images/chapterart.png" alt="" width="406" height="406"/>
</figure>
<p class="ChapterIntro">In this chapter you’ll learn to write <em>functions</em>, which are named blocks of code designed to do one specific job. When you want to perform a particular task that you’ve defined in a function, you <em>call</em> the function responsible for it. If you need to perform that task multiple times throughout your program, you don’t need to type all the code for the same task again and again; you just call the function dedicated to handling that task, and the call tells Python to run the code inside the function. You’ll find that using functions makes your programs easier to write, read, test, and fix.</p>
<p>In this chapter you’ll also learn a variety of ways to pass information to functions. You’ll learn how to write certain functions whose primary job is to display information and other functions designed to process data and return a value or set of values. Finally, you’ll learn to store functions in separate files called <em>modules</em> to help organize your main program files.</p>
<h2 id="h1-502703c08-0001"><span epub:type="pagebreak" title="130" id="Page_130"/>Defining a Function</h2>
<p class="BodyFirst">Here’s a simple function named <code>greet_user()</code> that prints a greeting:</p>
<p class="CodeLabel"><b>greeter.py</b></p>
<pre><code>def greet_user():
    """Display a simple greeting."""
    print("Hello!")

greet_user()</code></pre>
<p>This example shows the simplest structure of a function. The first line uses the keyword <code>def</code> to inform Python that you’re defining a function. This is the <em>function definition</em>, which tells Python the name of the function and, if applicable, what kind of information the function needs to do its job. The parentheses hold that information. In this case, the name of the function is <code>greet_user()</code>, and it needs no information to do its job, so its parentheses are empty. (Even so, the parentheses are required.) Finally, the definition ends in a colon.</p>
<p>Any indented lines that follow <code>def greet_user():</code> make up the <em>body</em> of the function. The text on the second line is a comment called a <em>docstring</em>, which describes what the function does. When Python generates documentation for the functions in your programs, it looks for a string immediately after the function's definition. These strings are usually enclosed in triple quotes, which lets you write multiple lines.</p>
<p>The line <code>print("Hello!")</code> is the only line of actual code in the body of this function, so <code>greet_user()</code> has just one job: <code>print("Hello!")</code>.</p>
<p>When you want to use this function, you have to call it. A <em>function call</em> tells Python to execute the code in the function. To <em>call</em> a function, you write the name of the function, followed by any necessary information in parentheses. Because no information is needed here, calling our function is as simple as entering <code>greet_user()</code>. As expected, it prints <code>Hello!</code>:</p>
<pre><code>Hello!</code></pre>
<h3 id="h2-502703c08-0001">Passing Information to a Function</h3>
<p class="BodyFirst">If you modify the function <code>greet_user()</code> slightly, it can greet the user by name. For the function to do this, you enter <code>username</code> in the parentheses of the function’s definition at <code>def greet_user()</code>. By adding <code>username</code> here, you allow the function to accept any value of <code>username</code> you specify. The function now expects you to provide a value for <code>username</code> each time you call it. When you call <code>greet_user()</code>, you can pass it a name, such as <code>'jesse'</code>, inside the parentheses:</p>
<pre><code>def greet_user(username):
    <span class="LiteralGray">"""Display a simple greeting."""</span>
    print(f"Hello, {username.title()}!")

greet_user('jesse')</code></pre>
<p><span epub:type="pagebreak" title="131" id="Page_131"/>Entering <code>greet_user('jesse')</code> calls <code>greet_user()</code> and gives the function the information it needs to execute the <code>print()</code> call. The function accepts the name you passed it and displays the greeting for that name:</p>
<pre><code>Hello, Jesse!</code></pre>
<p>Likewise, entering <code>greet_user('sarah')</code> calls <code>greet_user()</code>, passes it <code>'sarah'</code>, and prints <code>Hello, Sarah!</code> You can call <code>greet_user()</code> as often as you want and pass it any name you want to produce a predictable output every time.</p>
<h3 id="h2-502703c08-0002">Arguments and Parameters</h3>
<p class="BodyFirst">In the preceding <code>greet_user()</code> function, we defined <code>greet_user()</code> to require a value for the variable <code>username</code>. Once we called the function and gave it the information (a person’s name), it printed the right greeting.</p>
<p>The variable <code>username</code> in the definition of <code>greet_user()</code> is an example of a <em>parameter</em>, a piece of information the function needs to do its job. The value <code>'jesse'</code> in <code>greet_user('jesse')</code> is an example of an argument. An <em>argument</em> is a piece of information that’s passed from a function call to a function. When we call the function, we place the value we want the function to work with in parentheses. In this case the argument <code>'jesse'</code> was passed to the function <code>greet_user()</code>, and the value was assigned to the parameter <code>username</code>.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	People sometimes speak of arguments and parameters interchangeably. Don’t be surprised if you see the variables in a function definition referred to as arguments or the variables in a function call referred to as parameters.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c08-03" class="BoxNumber">8-1. Message:</span> Write a function called <code>display_message()</code> that prints one sentence telling everyone what you are learning about in this chapter. Call the function, and make sure the message displays correctly.</p>
<p class="BoxBodyCustom"><span id="h2-502703c08-04" class="BoxNumber">8-2. Favorite Book:</span> Write a function called <code>favorite_book()</code> that accepts one parameter, <code>title</code>. The function should print a message, such as <code>One of my favorite books is Alice in Wonderland</code>. Call the function, making sure to include a book title as an argument in the function call.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c08-0002">Passing Arguments</h2>
<p class="BodyFirst">Because a function definition can have multiple parameters, a function call may need multiple arguments. You can pass arguments to your functions in a number of ways. You can use <em>positional arguments</em>, which need to be in the same order the parameters were written; <em>keyword arguments</em>, where each argument consists of a variable name and a value; and lists and dictionaries of values. Let’s look at each of these in turn.</p>
<h3 id="h2-502703c08-0003"><span epub:type="pagebreak" title="132" id="Page_132"/>Positional Arguments</h3>
<p class="BodyFirst">When you call a function, Python must match each argument in the function call with a parameter in the function definition. The simplest way to do this is based on the order of the arguments provided. Values matched up this way are called <em>positional arguments</em>.</p>
<p>To see how this works, consider a function that displays information about pets. The function tells us what kind of animal each pet is and the pet’s name, as shown here:</p>
<p class="CodeLabel"><b>pets.py</b></p>
<pre><code><span class="CodeAnnotationHang" aria-label="annotation1">❶</span> def describe_pet(animal_type, pet_name):
    """Display information about a pet."""
    print(f"\nI have a {animal_type}.")
    print(f"My {animal_type}'s name is {pet_name.title()}.")

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> describe_pet('hamster', 'harry')</code></pre>
<p>The definition shows that this function needs a type of animal and the animal’s name <span class="CodeAnnotation" aria-label="annotation1">❶</span>. When we call <code>describe_pet()</code>, we need to provide an animal type and a name, in that order. For example, in the function call, the argument <code>'hamster'</code> is assigned to the parameter <code>animal_type</code> and the argument <code>'harry'</code> is assigned to the parameter <code>pet_name</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span>. In the function body, these two parameters are used to display information about the pet being described.</p>
<p>The output describes a hamster named Harry:</p>
<pre><code>I have a hamster.
My hamster's name is Harry.</code></pre>
<h4 id="h3-502703c08-0001">Multiple Function Calls</h4>
<p class="BodyFirst">You can call a function as many times as needed. Describing a second, different pet requires just one more call to <code>describe_pet()</code>:</p>
<pre><code><span class="LiteralGray">def describe_pet(animal_type, pet_name):</span>
<span class="LiteralGray">    """Display information about a pet."""</span>
<span class="LiteralGray">    print(f"\nI have a {animal_type}.")</span>
<span class="LiteralGray">    print(f"My {animal_type}'s name is {pet_name.title()}.")</span>

<span class="LiteralGray">describe_pet('hamster', 'harry')</span>
describe_pet('dog', 'willie')</code></pre>
<p>In this second function call, we pass <code>describe_pet()</code> the arguments <code>'dog'</code> and <code>'willie'</code>. As with the previous set of arguments we used, Python matches <code>'dog'</code> with the parameter <code>animal_type</code> and <code>'willie'</code> with the parameter <code>pet_name</code>. As before, the function does its job, but this time it prints values for a dog named Willie. Now we have a hamster named Harry and a dog named Willie:</p>
<pre><code>I have a hamster.
My hamster's name is Harry.

<span epub:type="pagebreak" title="133" id="Page_133"/>I have a dog.
My dog's name is Willie.</code></pre>
<p>Calling a function multiple times is a very efficient way to work. The code describing a pet is written once in the function. Then, anytime you want to describe a new pet, you call the function with the new pet’s information. Even if the code for describing a pet were to expand to 10 lines, you could still describe a new pet in just one line by calling the function again.</p>
<h4 id="h3-502703c08-0002">Order Matters in Positional Arguments</h4>
<p class="BodyFirst">You can get unexpected results if you mix up the order of the arguments in a function call when using positional arguments:</p>
<pre><code><span class="LiteralGray">def describe_pet(animal_type, pet_name):</span>
<span class="LiteralGray">    """Display information about a pet."""</span>
<span class="LiteralGray">    print(f"\nI have a {animal_type}.")</span>
<span class="LiteralGray">    print(f"My {animal_type}'s name is {pet_name.title()}.")</span>

describe_pet('harry', 'hamster')</code></pre>
<p>In this function call, we list the name first and the type of animal second. Because the argument <code>'harry'</code> is listed first this time, that value is assigned to the parameter <code>animal_type</code>. Likewise, <code>'hamster'</code> is assigned to <code>pet_name</code>. Now we have a “harry” named “Hamster”:</p>
<pre><code>I have a harry.
My harry's name is Hamster.</code></pre>
<p>If you get funny results like this, check to make sure the order of the arguments in your function call matches the order of the parameters in the function’s definition.</p>
<h3 id="h2-502703c08-0004">Keyword Arguments</h3>
<p class="BodyFirst">A <em>keyword argument</em> is a name-value pair that you pass to a function. You directly associate the name and the value within the argument, so when you pass the argument to the function, there’s no confusion (you won’t end up with a harry named Hamster). Keyword arguments free you from having to worry about correctly ordering your arguments in the function call, and they clarify the role of each value in the function call.</p>
<p>Let’s rewrite <em>pets.py</em> using keyword arguments to call <code>describe_pet()</code>:</p>
<pre><code><span class="LiteralGray">def describe_pet(animal_type, pet_name):</span>
<span class="LiteralGray">    """Display information about a pet."""</span>
<span class="LiteralGray">    print(f"\nI have a {animal_type}.")</span>
<span class="LiteralGray">    print(f"My {animal_type}'s name is {pet_name.title()}.")</span>

describe_pet(animal_type='hamster', pet_name='harry')</code></pre>
<p><span epub:type="pagebreak" title="134" id="Page_134"/>The function <code>describe_pet()</code> hasn’t changed. But when we call the function, we explicitly tell Python which parameter each argument should be matched with. When Python reads the function call, it knows to assign the argument <code>'hamster'</code> to the parameter <code>animal_type</code> and the argument <code>'harry'</code> to <code>pet_name</code>. The output correctly shows that we have a hamster named Harry.</p>
<p>The order of keyword arguments doesn’t matter because Python knows where each value should go. The following two function calls are equivalent:</p>
<pre><code>describe_pet(animal_type='hamster', pet_name='harry')
describe_pet(pet_name='harry', animal_type='hamster')</code></pre>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	When you use keyword arguments, be sure to use the exact names of the parameters in the function’s definition.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c08-0005">Default Values</h3>
<p class="BodyFirst">When writing a function, you can define a <em>default value</em> for each parameter. If an argument for a parameter is provided in the function call, Python uses the argument value. If not, it uses the parameter’s default value. So when you define a default value for a parameter, you can exclude the corresponding argument you’d usually write in the function call. Using default values can simplify your function calls and clarify the ways your functions are typically used.</p>
<p>For example, if you notice that most of the calls to <code>describe_pet()</code> are being used to describe dogs, you can set the default value of <code>animal_type</code> to <code>'dog'</code>. Now anyone calling <code>describe_pet()</code> for a dog can omit that information:</p>
<pre><code>def describe_pet(pet_name, animal_type='dog'):
    <span class="LiteralGray">"""Display information about a pet."""</span>
<span class="LiteralGray">    print(f"\nI have a {animal_type}.")</span>
<span class="LiteralGray">    print(f"My {animal_type}'s name is {pet_name.title()}.")</span>

describe_pet(pet_name='willie')</code></pre>
<p>We changed the definition of <code>describe_pet()</code> to include a default value, <code>'dog'</code>, for <code>animal_type</code>. Now when the function is called with no <code>animal_type</code> specified, Python knows to use the value <code>'dog'</code> for this parameter:</p>
<pre><code>I have a dog.
My dog's name is Willie.</code></pre>
<p>Note that the order of the parameters in the function definition had to be changed. Because the default value makes it unnecessary to specify a type of animal as an argument, the only argument left in the function call is the pet’s name. Python still interprets this as a positional argument, so if the function is called with just a pet’s name, that argument will match up with the first parameter listed in the function’s definition. This is the reason the first parameter needs to be <code>pet_name</code>.</p>
<p><span epub:type="pagebreak" title="135" id="Page_135"/>The simplest way to use this function now is to provide just a dog’s name in the function call:</p>
<pre><code>describe_pet('willie')</code></pre>
<p>This function call would have the same output as the previous example. The only argument provided is <code>'willie'</code>, so it is matched up with the first parameter in the definition, <code>pet_name</code>. Because no argument is provided for <code>animal_type</code>, Python uses the default value <code>'dog'</code>.</p>
<p>To describe an animal other than a dog, you could use a function call like this:</p>
<pre><code>describe_pet(pet_name='harry', animal_type='hamster')</code></pre>
<p>Because an explicit argument for <code>animal_type</code> is provided, Python will ignore the parameter’s default value.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	When you use default values, any parameter with a default value needs to be listed after all the parameters that don’t have default values. This allows Python to continue interpreting positional arguments correctly.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c08-0006">Equivalent Function Calls</h3>
<p class="BodyFirst">Because positional arguments, keyword arguments, and default values can all be used together, you’ll often have several equivalent ways to call a function. Consider the following definition for <code>describe_pet()</code> with one default value provided:</p>
<pre><code>def describe_pet(pet_name, animal_type='dog'):</code></pre>
<p>With this definition, an argument always needs to be provided for <code>pet_name</code>, and this value can be provided using the positional or keyword format. If the animal being described is not a dog, an argument for <code>animal_type</code> must be included in the call, and this argument can also be specified using the positional or keyword format.</p>
<p>All of the following calls would work for this function:</p>
<pre><code># A dog named Willie.
describe_pet('willie')
describe_pet(pet_name='willie')

# A hamster named Harry.
describe_pet('harry', 'hamster')
describe_pet(pet_name='harry', animal_type='hamster')
describe_pet(animal_type='hamster', pet_name='harry')</code></pre>
<p>Each of these function calls would have the same output as the previous examples.</p>
<p>It doesn’t really matter which calling style you use. As long as your function calls produce the output you want, just use the style you find easiest to understand.</p>
<h3 id="h2-502703c08-0007"><span epub:type="pagebreak" title="136" id="Page_136"/>Avoiding Argument Errors</h3>
<p class="BodyFirst">When you start to use functions, don’t be surprised if you encounter errors about unmatched arguments. Unmatched arguments occur when you provide fewer or more arguments than a function needs to do its work. For example, here’s what happens if we try to call <code>describe_pet()</code> with no arguments:</p>
<pre><code><span class="LiteralGray">def describe_pet(animal_type, pet_name):</span>
<span class="LiteralGray">    """Display information about a pet."""</span>
<span class="LiteralGray">    print(f"\nI have a {animal_type}.")</span>
<span class="LiteralGray">    print(f"My {animal_type}'s name is {pet_name.title()}.")</span>

describe_pet()</code></pre>
<p>Python recognizes that some information is missing from the function call, and the traceback tells us that:</p>
<pre><code>Traceback (most recent call last):
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>   File "pets.py", line 6, in &lt;module&gt;
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     describe_pet()
    ^^^^^^^^^^^^^^
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> TypeError: describe_pet() missing 2 required positional arguments: 
    'animal_type' and 'pet_name'</code></pre>
<p>The traceback first tells us the location of the problem <span class="CodeAnnotation" aria-label="annotation1">❶</span>, allowing us to look back and see that something went wrong in our function call. Next, the offending function call is written out for us to see <span class="CodeAnnotation" aria-label="annotation2">❷</span>. Last, the traceback tells us the call is missing two arguments and reports the names of the missing arguments <span class="CodeAnnotation" aria-label="annotation3">❸</span>. If this function were in a separate file, we could probably rewrite the call correctly without having to open that file and read the function code.</p>
<p>Python is helpful in that it reads the function’s code for us and tells us the names of the arguments we need to provide. This is another motivation for giving your variables and functions descriptive names. If you do, Python’s error messages will be more useful to you and anyone else who might use your code.</p>
<p>If you provide too many arguments, you should get a similar traceback that can help you correctly match your function call to the function definition.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c08-10" class="BoxNumber">8-3. T-Shirt:</span> Write a function called <code>make_shirt()</code> that accepts a size and the text of a message that should be printed on the shirt. The function should print a sentence summarizing the size of the shirt and the message printed on it.</p>
<p class="BoxBody">Call the function once using positional arguments to make a shirt. Call the function a second time using keyword arguments.</p>
<p class="BoxBodyCustom"><span id="h2-502703c08-11" class="BoxNumber">8-4. <span epub:type="pagebreak" title="137" id="Page_137"/>Large Shirts:</span> Modify the <code>make_shirt()</code> function so that shirts are large by default with a message that reads <em>I love Python</em>. Make a large shirt and a medium shirt with the default message, and a shirt of any size with a different message.</p>
<p class="BoxBodyCustom"><span id="h2-502703c08-12" class="BoxNumber">8-5. Cities:</span> Write a function called <code>describe_city()</code> that accepts the name of a city and its country. The function should print a simple sentence, such as <code>Reykjavik is in Iceland</code>. Give the parameter for the country a default value. Call your function for three different cities, at least one of which is not in the default country.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c08-0003">Return Values</h2>
<p class="BodyFirst">A function doesn’t always have to display its output directly. Instead, it can process some data and then return a value or set of values. The value the function returns is called a <em>return value</em>. The <code>return</code> statement takes a value from inside a function and sends it back to the line that called the function. Return values allow you to move much of your program’s grunt work into functions, which can simplify the body of your program.</p>
<h3 id="h2-502703c08-0008">Returning a Simple Value</h3>
<p class="BodyFirst">Let’s look at a function that takes a first and last name, and returns a neatly formatted full name:</p>
<p class="CodeLabel"><b>formatted_name.py</b></p>
<pre><code>def get_formatted_name(first_name, last_name):
    """Return a full name, neatly formatted."""
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     full_name = f"{first_name} {last_name}"
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     return full_name.title()

<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> musician = get_formatted_name('jimi', 'hendrix')
print(musician)</code></pre>
<p>The definition of <code>get_formatted_name()</code> takes as parameters a first and last name. The function combines these two names, adds a space between them, and assigns the result to <code>full_name</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>. The value of <code>full_name</code> is converted to title case, and then returned to the calling line <span class="CodeAnnotation" aria-label="annotation2">❷</span>.</p>
<p>When you call a function that returns a value, you need to provide a variable that the return value can be assigned to. In this case, the returned value is assigned to the variable <code>musician</code> <span class="CodeAnnotation" aria-label="annotation3">❸</span>. The output shows a neatly formatted name made up of the parts of a person’s name:</p>
<pre><code>Jimi Hendrix</code></pre>
<p>This might seem like a lot of work to get a neatly formatted name when we could have just written:</p>
<pre><code>print("Jimi Hendrix")</code></pre>
<p><span epub:type="pagebreak" title="138" id="Page_138"/>However, when you consider working with a large program that needs to store many first and last names separately, functions like <code>get_formatted_name()</code> become very useful. You store first and last names separately and then call this function whenever you want to display a full name.</p>
<h3 id="h2-502703c08-0009">Making an Argument Optional</h3>
<p class="BodyFirst">Sometimes it makes sense to make an argument optional, so that people using the function can choose to provide extra information only if they want to. You can use default values to make an argument optional.</p>
<p>For example, say we want to expand <code>get_formatted_name()</code> to handle middle names as well. A first attempt to include middle names might look like this:</p>
<pre><code>def get_formatted_name(first_name, middle_name, last_name):
    """Return a full name, neatly formatted."""
    full_name = f"{first_name} {middle_name} {last_name}"
    return full_name.title()

musician = get_formatted_name('john', 'lee', 'hooker')
print(musician)</code></pre>
<p>This function works when given a first, middle, and last name. The function takes in all three parts of a name and then builds a string out of them. The function adds spaces where appropriate and converts the full name to title case:</p>
<pre><code>John Lee Hooker</code></pre>
<p>But middle names aren’t always needed, and this function as written would not work if you tried to call it with only a first name and a last name. To make the middle name optional, we can give the <code>middle_name</code> argument an empty default value and ignore the argument unless the user provides a value. To make <code>get_formatted_name()</code> work without a middle name, we set the default value of <code>middle_name</code> to an empty string and move it to the end of the list of parameters:</p>
<pre><code>def get_formatted_name(first_name, last_name, middle_name=''):
    <span class="LiteralGray">"""Return a full name, neatly formatted."""</span>
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     if middle_name:
        full_name = f"{first_name} {middle_name} {last_name}"
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     else:
        full_name = f"{first_name} {last_name}"
    <span class="LiteralGray">return full_name.title()</span>

musician = get_formatted_name('jimi', 'hendrix')
print(musician)

<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> musician = get_formatted_name('john', 'hooker', 'lee')
<span class="LiteralGray">print(musician)</span></code></pre>
<p><span epub:type="pagebreak" title="139" id="Page_139"/>In this example, the name is built from three possible parts. Because there’s always a first and last name, these parameters are listed first in the function’s definition. The middle name is optional, so it’s listed last in the definition, and its default value is an empty string.</p>
<p>In the body of the function, we check to see if a middle name has been provided. Python interprets non-empty strings as <code>True</code>, so the conditional test <code>if middle_name</code> evaluates to <code>True</code> if a middle name argument is in the function call <span class="CodeAnnotation" aria-label="annotation1">❶</span>. If a middle name is provided, the first, middle, and last names are combined to form a full name. This name is then changed to title case and returned to the function call line, where it’s assigned to the variable <code>musician</code> and printed. If no middle name is provided, the empty string fails the <code>if</code> test and the <code>else</code> block runs <span class="CodeAnnotation" aria-label="annotation2">❷</span>. The full name is made with just a first and last name, and the formatted name is returned to the calling line where it’s assigned to <code>musician</code> and printed.</p>
<p>Calling this function with a first and last name is straightforward. If we’re using a middle name, however, we have to make sure the middle name is the last argument passed so Python will match up the positional arguments correctly <span class="CodeAnnotation" aria-label="annotation3">❸</span>.</p>
<p>This modified version of our function works for people with just a first and last name, and it works for people who have a middle name as well:</p>
<pre><code>Jimi Hendrix
John Lee Hooker</code></pre>
<p>Optional values allow functions to handle a wide range of use cases while letting function calls remain as simple as possible.</p>
<h3 id="h2-502703c08-0010">Returning a Dictionary</h3>
<p class="BodyFirst">A function can return any kind of value you need it to, including more complicated data structures like lists and dictionaries. For example, the following function takes in parts of a name and returns a dictionary representing a person:</p>
<p class="CodeLabel"><b>person.py</b></p>
<pre><code>def build_person(first_name, last_name):
    """Return a dictionary of information about a person."""
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     person = {'first': first_name, 'last': last_name}
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     return person

musician = build_person('jimi', 'hendrix')
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> print(musician)</code></pre>
<p>The function <code>build_person()</code> takes in a first and last name, and puts these values into a dictionary <span class="CodeAnnotation" aria-label="annotation1">❶</span>. The value of <code>first_name</code> is stored with the key <code>'first'</code>, and the value of <code>last_name</code> is stored with the key <code>'last'</code>. Then, the entire dictionary representing the person is returned <span class="CodeAnnotation" aria-label="annotation2">❷</span>. The return value is printed <span class="CodeAnnotation" aria-label="annotation3">❸</span> with the original two pieces of textual information now stored in a dictionary:</p>
<pre><code>{'first': 'jimi', 'last': 'hendrix'}</code></pre>
<p><span epub:type="pagebreak" title="140" id="Page_140"/>This function takes in simple textual information and puts it into a more meaningful data structure that lets you work with the information beyond just printing it. The strings <code>'jimi'</code> and <code>'hendrix'</code> are now labeled as a first name and last name. You can easily extend this function to accept optional values like a middle name, an age, an occupation, or any other information you want to store about a person. For example, the following change allows you to store a person’s age as well:</p>
<pre><code>def build_person(first_name, last_name, age=None):
<span class="LiteralGray">    """Return a dictionary of information about a person."""</span>
<span class="LiteralGray">    person = {'first': first_name, 'last': last_name}</span>
    if age:
        person['age'] = age
<span class="LiteralGray">    return person</span>

musician = build_person('jimi', 'hendrix', age=27)
<span class="LiteralGray">print(musician)</span></code></pre>
<p>We add a new optional parameter <code>age</code> to the function definition and assign the parameter the special value <code>None</code>, which is used when a variable has no specific value assigned to it. You can think of <code>None</code> as a placeholder value. In conditional tests, <code>None</code> evaluates to <code>False</code>. If the function call includes a value for <code>age</code>, that value is stored in the dictionary. This function always stores a person’s name, but it can also be modified to store any other information you want about a person.</p>
<h3 id="h2-502703c08-0011">Using a Function with a while Loop</h3>
<p class="BodyFirst">You can use functions with all the Python structures you’ve learned about so far. For example, let’s use the <code>get_formatted_name()</code> function with a <code>while</code> loop to greet users more formally. Here’s a first attempt at greeting people using their first and last names:</p>
<p class="CodeLabel"><b>greeter.py</b></p>
<pre><code><span class="LiteralGray">def get_formatted_name(first_name, last_name):</span>
<span class="LiteralGray">    """Return a full name, neatly formatted."""</span>
<span class="LiteralGray">    full_name = f"{first_name} {last_name}"</span>
<span class="LiteralGray">    return full_name.title()</span>

# This is an infinite loop!
while True:
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     print("\nPlease tell me your name:")
    f_name = input("First name: ")
    l_name = input("Last name: ")

    formatted_name = get_formatted_name(f_name, l_name)
    print(f"\nHello, {formatted_name}!")</code></pre>
<p>For this example, we use a simple version of <code>get_formatted_name()</code> that doesn’t involve middle names. The <code>while</code> loop asks the user to enter their name, and we prompt for their first and last name separately <span class="CodeAnnotation" aria-label="annotation1">❶</span>.</p>
<p>But there’s one problem with this <code>while</code> loop: We haven’t defined a quit condition. Where do you put a quit condition when you ask for a series of <span epub:type="pagebreak" title="141" id="Page_141"/>inputs? We want the user to be able to quit as easily as possible, so each prompt should offer a way to quit. The <code>break</code> statement offers a straightforward way to exit the loop at either prompt:</p>
<pre><code><span class="LiteralGray">def get_formatted_name(first_name, last_name):</span>
<span class="LiteralGray">    """Return a full name, neatly formatted."""</span>
<span class="LiteralGray">    full_name = f"{first_name} {last_name}"</span>
<span class="LiteralGray">    return full_name.title()</span>

<span class="LiteralGray">while True:</span>
<span class="LiteralGray">    print("\nPlease tell me your name:")</span>
<span class="LiteralGray">    </span>print("(enter 'q' at any time to quit)")

<span class="LiteralGray">    f_name = input("First name: ")</span>
<span class="LiteralGray">   </span> if f_name == 'q':
        break

<span class="LiteralGray">    l_name = input("Last name: ")</span>
<span class="LiteralGray">   </span> if l_name == 'q':
        break

<span class="LiteralGray">    formatted_name = get_formatted_name(f_name, l_name)</span>
<span class="LiteralGray">    print(f"\nHello, {formatted_name}!")</span></code></pre>
<p>We add a message that informs the user how to quit, and then we break out of the loop if the user enters the quit value at either prompt. Now the program will continue greeting people until someone enters <code>q</code> for either name:</p>
<pre><code>Please tell me your name:
(enter 'q' at any time to quit)
First name: <b>eric</b>
Last name: <b>matthes</b>

Hello, Eric Matthes!

Please tell me your name:
(enter 'q' at any time to quit)
First name: <b>q</b></code></pre>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c08-17" class="BoxNumber">8-6. City Names:</span> Write a function called <code>city_country()</code> that takes in the name of a city and its country. The function should return a string formatted like this:</p>
<pre><code>"Santiago, Chile"</code></pre>
<p class="BoxBody">Call your function with at least three city-country pairs, and print the values that are returned.</p>
<p class="BoxBodyCustom"><span id="h2-502703c08-18" class="BoxNumber">8-7. <span epub:type="pagebreak" title="142" id="Page_142"/>Album:</span> Write a function called <code>make_album()</code> that builds a dictionary describing a music album. The function should take in an artist name and an album title, and it should return a dictionary containing these two pieces of information. Use the function to make three dictionaries representing different albums. Print each return value to show that the dictionaries are storing the album information correctly.</p>
<p class="BoxBody">Use <code>None</code> to add an optional parameter to <code>make_album()</code> that allows you to store the number of songs on an album. If the calling line includes a value for the number of songs, add that value to the album’s dictionary. Make at least one new function call that includes the number of songs on an album.</p>
<p class="BoxBodyCustom"><span id="h2-502703c08-19" class="BoxNumber">8-8. User Albums:</span> Start with your program from Exercise 8-7. Write a <code>while</code> loop that allows users to enter an album’s artist and title. Once you have that information, call <code>make_album()</code> with the user’s input and print the dictionary that’s created. Be sure to include a quit value in the <code>while</code> loop.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c08-0004">Passing a List</h2>
<p class="BodyFirst">You’ll often find it useful to pass a list to a function, whether it’s a list of names, numbers, or more complex objects, such as dictionaries. When you pass a list to a function, the function gets direct access to the contents of the list. Let’s use functions to make working with lists more efficient.</p>
<p>Say we have a list of users and want to print a greeting to each. The following example sends a list of names to a function called <code>greet_users()</code>, which greets each person in the list individually:</p>
<p class="CodeLabel"><b>greet_users.py</b></p>
<pre><code>def greet_users(names):
    """Print a simple greeting to each user in the list."""
    for name in names:
        msg = f"Hello, {name.title()}!"
        print(msg)

usernames = ['hannah', 'ty', 'margot']
greet_users(usernames)</code></pre>
<p>We define <code>greet_users()</code> so it expects a list of names, which it assigns to the parameter <code>names</code>. The function loops through the list it receives and prints a greeting to each user. Outside of the function, we define a list of users and then pass the list <code>usernames</code> to <code>greet_users()</code> in the function call:</p>
<pre><code>Hello, Hannah!
Hello, Ty!
Hello, Margot!</code></pre>
<p>This is the output we wanted. Every user sees a personalized greeting, and you can call the function anytime you want to greet a specific set of users.</p>
<h3 id="h2-502703c08-0012"><span epub:type="pagebreak" title="143" id="Page_143"/>Modifying a List in a Function</h3>
<p class="BodyFirst">When you pass a list to a function, the function can modify the list. Any changes made to the list inside the function’s body are permanent, allowing you to work efficiently even when you’re dealing with large amounts of data.</p>
<p>Consider a company that creates 3D printed models of designs that users submit. Designs that need to be printed are stored in a list, and after being printed they’re moved to a separate list. The following code does this without using functions:</p>
<p class="CodeLabel"><b>printing_models.py</b></p>
<pre><code># Start with some designs that need to be printed.
unprinted_designs = ['phone case', 'robot pendant', 'dodecahedron']
completed_models = []

# Simulate printing each design, until none are left.
#  Move each design to completed_models after printing.
while unprinted_designs:
    current_design = unprinted_designs.pop()
    print(f"Printing model: {current_design}")
    completed_models.append(current_design)

# Display all completed models.
print("\nThe following models have been printed:")
for completed_model in completed_models:
    print(completed_model)</code></pre>
<p>This program starts with a list of designs that need to be printed and an empty list called <code>completed_models</code> that each design will be moved to after it has been printed. As long as designs remain in <code>unprinted_designs</code>, the <code>while</code> loop simulates printing each design by removing a design from the end of the list, storing it in <code>current_design</code>, and displaying a message that the current design is being printed. It then adds the design to the list of completed models. When the loop is finished running, a list of the designs that have been printed is displayed:</p>
<pre><code>Printing model: dodecahedron
Printing model: robot pendant
Printing model: phone case

The following models have been printed:
dodecahedron
robot pendant
phone case</code></pre>
<p>We can reorganize this code by writing two functions, each of which does one specific job. Most of the code won’t change; we’re just structuring it more carefully. The first function will handle printing the designs, and the second will summarize the prints that have been made:</p>
<pre><code><span class="CodeAnnotationHang" aria-label="annotation1">❶</span> def print_models(unprinted_designs, completed_models):
    """
    Simulate printing each design, until none are left.
<span epub:type="pagebreak" title="144" id="Page_144"/>    Move each design to completed_models after printing.
    """
    <span class="LiteralGray">while unprinted_designs:</span>
        <span class="LiteralGray">current_design = unprinted_designs.pop()</span>
        <span class="LiteralGray">print(f"Printing model: {current_design}")</span>
        <span class="LiteralGray">completed_models.append(current_design)</span>

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> def show_completed_models(completed_models):
    """Show all the models that were printed."""
    <span class="LiteralGray">print("\nThe following models have been printed:")</span>
    <span class="LiteralGray">for completed_model in completed_models:</span>
        <span class="LiteralGray">print(completed_model)</span>

<span class="LiteralGray">unprinted_designs = ['phone case', 'robot pendant', 'dodecahedron']</span>
<span class="LiteralGray">completed_models = []</span>

print_models(unprinted_designs, completed_models)
show_completed_models(completed_models)</code></pre>
<p>We define the function <code>print_models()</code> with two parameters: a list of designs that need to be printed and a list of completed models <span class="CodeAnnotation" aria-label="annotation1">❶</span>. Given these two lists, the function simulates printing each design by emptying the list of unprinted designs and filling up the list of completed models. We then define the function <code>show_completed_models()</code> with one parameter: the list of completed models <span class="CodeAnnotation" aria-label="annotation2">❷</span>. Given this list, <code>show_completed_models()</code> displays the name of each model that was printed.</p>
<p>This program has the same output as the version without functions, but the code is much more organized. The code that does most of the work has been moved to two separate functions, which makes the main part of the program easier to understand. Look at the body of the program and notice how easily you can follow what’s happening:</p>
<pre><code>unprinted_designs = ['phone case', 'robot pendant', 'dodecahedron']
completed_models = []

print_models(unprinted_designs, completed_models)
show_completed_models(completed_models)</code></pre>
<p>We set up a list of unprinted designs and an empty list that will hold the completed models. Then, because we’ve already defined our two functions, all we have to do is call them and pass them the right arguments. We call <code>print_models()</code> and pass it the two lists it needs; as expected, <code>print_models()</code> simulates printing the designs. Then we call <code>show_completed_models()</code> and pass it the list of completed models so it can report the models that have been printed. The descriptive function names allow others to read this code and understand it, even without comments.</p>
<p>This program is easier to extend and maintain than the version without functions. If we need to print more designs later on, we can simply call <code/><span epub:type="pagebreak" title="145" id="Page_145"/>print_models() again. If we realize the printing code needs to be modified, we can change the code once, and our changes will take place everywhere the function is called. This technique is more efficient than having to update code separately in several places in the program.</p>
<p>This example also demonstrates the idea that every function should have one specific job. The first function prints each design, and the second displays the completed models. This is more beneficial than using one function to do both jobs. If you’re writing a function and notice the function is doing too many different tasks, try to split the code into two functions. Remember that you can always call a function from another function, which can be helpful when splitting a complex task into a series of steps.</p>
<h3 id="h2-502703c08-0013">Preventing a Function from Modifying a List</h3>
<p class="BodyFirst">Sometimes you’ll want to prevent a function from modifying a list. For example, say that you start with a list of unprinted designs and write a function to move them to a list of completed models, as in the previous example. You may decide that even though you’ve printed all the designs, you want to keep the original list of unprinted designs for your records. But because you moved all the design names out of <code>unprinted_designs</code>, the list is now empty, and the empty list is the only version you have; the original is gone. In this case, you can address this issue by passing the function a copy of the list, not the original. Any changes the function makes to the list will affect only the copy, leaving the original list intact.</p>
<p>You can send a copy of a list to a function like this:</p>
<pre><code><var>function_name</var>(<var>list_name</var>[:])</code></pre>
<p>The slice notation <code>[:]</code> makes a copy of the list to send to the function. If we didn’t want to empty the list of unprinted designs in <em>printing_models.py</em>, we could call <code>print_models()</code> like this:</p>
<pre><code>print_models(unprinted_designs[:], completed_models)</code></pre>
<p>The function <code>print_models()</code> can do its work because it still receives the names of all unprinted designs. But this time it uses a copy of the original unprinted designs list, not the actual <code>unprinted_designs</code> list. The list <code>completed_models</code> will fill up with the names of printed models like it did before, but the original list of unprinted designs will be unaffected by the function.</p>
<p>Even though you can preserve the contents of a list by passing a copy of it to your functions, you should pass the original list to functions unless you have a specific reason to pass a copy. It’s more efficient for a function to work with an existing list, because this avoids using the time and memory needed to make a separate copy. This is especially true when working with large lists.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2><span epub:type="pagebreak" title="146" id="Page_146"/>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c08-22" class="BoxNumber">8-9. Messages:</span> Make a list containing a series of short text messages. Pass the list to a function called <code>show_messages()</code>, which prints each text message.</p>
<p class="BoxBodyCustom"><span id="h2-502703c08-23" class="BoxNumber">8-10. Sending Messages:</span> Start with a copy of your program from Exercise 8-9. Write a function called <code>send_messages()</code> that prints each text message and moves each message to a new list called <code>sent_messages</code> as it’s printed. After calling the function, print both of your lists to make sure the messages were moved correctly.</p>
<p class="BoxBodyCustom"><span id="h2-502703c08-24" class="BoxNumber">8-11. Archived Messages: </span>Start with your work from Exercise 8-10. Call the function <code>send_messages()</code> with a copy of the list of messages. After calling the function, print both of your lists to show that the original list has retained its messages.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c08-0005">Passing an Arbitrary Number of Arguments</h2>
<p class="BodyFirst">Sometimes you won’t know ahead of time how many arguments a function needs to accept. Fortunately, Python allows a function to collect an arbitrary number of arguments from the calling statement.</p>
<p>For example, consider a function that builds a pizza. It needs to accept a number of toppings, but you can’t know ahead of time how many toppings a person will want. The function in the following example has one parameter, <code>*toppings</code>, but this parameter collects as many arguments as the calling line provides:</p>
<p class="CodeLabel"><b>pizza.py</b></p>
<pre><code>def make_pizza(*toppings):
    """Print the list of toppings that have been requested."""
    print(toppings)

make_pizza('pepperoni')
make_pizza('mushrooms', 'green peppers', 'extra cheese')</code></pre>
<p>The asterisk in the parameter name <code>*toppings</code> tells Python to make a tuple called <code>toppings</code>, containing all the values this function receives. The <code>print()</code> call in the function body produces output showing that Python can handle a function call with one value and a call with three values. It treats the different calls similarly. Note that Python packs the arguments into a tuple, even if the function receives only one value:</p>
<pre><code>('pepperoni',)
('mushrooms', 'green peppers', 'extra cheese')</code></pre>
<p>Now we can replace the <code>print()</code> call with a loop that runs through the list of toppings and describes the pizza being ordered:</p>
<pre><code><span class="LiteralGray">def make_pizza(*toppings):</span>
<span class="LiteralGray">    </span>"""Summarize the pizza we are about to make."""
<span epub:type="pagebreak" title="147" id="Page_147"/>    print("\nMaking a pizza with the following toppings:")
    for topping in toppings:
        print(f"- {topping}")

<span class="LiteralGray">make_pizza('pepperoni')</span>
<span class="LiteralGray">make_pizza('mushrooms', 'green peppers', 'extra cheese')</span></code></pre>
<p>The function responds appropriately, whether it receives one value or three values:</p>
<pre><code>Making a pizza with the following toppings:
- pepperoni

Making a pizza with the following toppings:
- mushrooms
- green peppers
- extra cheese</code></pre>
<p>This syntax works no matter how many arguments the function receives.</p>
<h3 id="h2-502703c08-0014">Mixing Positional and Arbitrary Arguments</h3>
<p class="BodyFirst">If you want a function to accept several different kinds of arguments, the parameter that accepts an arbitrary number of arguments must be placed last in the function definition. Python matches positional and keyword arguments first and then collects any remaining arguments in the final parameter.</p>
<p>For example, if the function needs to take in a size for the pizza, that parameter must come before the parameter <code>*toppings</code>:</p>
<pre><code>def make_pizza(size, *toppings):
    <span class="LiteralGray">"""Summarize the pizza we are about to make."""</span>
    print(f"\nMaking a {size}-inch pizza with the following toppings:")
    <span class="LiteralGray">for topping in toppings:</span>
<span class="LiteralGray">        print(f"- {topping}")</span>

make_pizza(16, 'pepperoni')
make_pizza(12, 'mushrooms', 'green peppers', 'extra cheese')</code></pre>
<p>In the function definition, Python assigns the first value it receives to the parameter <code>size</code>. All other values that come after are stored in the tuple <code>toppings</code>. The function calls include an argument for the size first, followed by as many toppings as needed.</p>
<p>Now each pizza has a size and a number of toppings, and each piece of information is printed in the proper place, showing size first and toppings after:</p>
<pre><code>Making a 16-inch pizza with the following toppings:
- pepperoni

<span epub:type="pagebreak" title="148" id="Page_148"/>Making a 12-inch pizza with the following toppings:
- mushrooms
- green peppers
- extra cheese</code></pre>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	You’ll often see the generic parameter name <code>*args</code>, which collects arbitrary positional arguments like this.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c08-0015">Using Arbitrary Keyword Arguments</h3>
<p class="BodyFirst">Sometimes you’ll want to accept an arbitrary number of arguments, but you won’t know ahead of time what kind of information will be passed to the function. In this case, you can write functions that accept as many key-value pairs as the calling statement provides. One example involves building user profiles: you know you’ll get information about a user, but you’re not sure what kind of information you’ll receive. The function <code>build_profile()</code> in the following example always takes in a first and last name, but it accepts an arbitrary number of keyword arguments as well:</p>
<p class="CodeLabel"><b>user_profile.py</b></p>
<pre><code>def build_profile(first, last, **user_info):
    """Build a dictionary containing everything we know about a user."""
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     user_info['first_name'] = first
    user_info['last_name'] = last
    return user_info

user_profile = build_profile('albert', 'einstein',
                             location='princeton',
                             field='physics')
print(user_profile)</code></pre>
<p>The definition of <code>build_profile()</code> expects a first and last name, and then it allows the user to pass in as many name-value pairs as they want. The double asterisks before the parameter <code>**user_info</code> cause Python to create a dictionary called <code>user_info</code> containing all the extra name-value pairs the function receives. Within the function, you can access the key-value pairs in <code>user_info</code> just as you would for any dictionary.</p>
<p>In the body of <code>build_profile()</code>, we add the first and last names to the <code>user_info</code> dictionary because we’ll always receive these two pieces of information from the user <span class="CodeAnnotation" aria-label="annotation1">❶</span>, and they haven’t been placed into the dictionary yet. Then we return the <code>user_info</code> dictionary to the function call line.</p>
<p>We call <code>build_profile()</code>, passing it the first name <code>'albert'</code>, the last name <code>'einstein'</code>, and the two key-value pairs <code>location='princeton'</code> and <code>field='physics'</code>. We assign the returned <code>profile</code> to <code>user_profile</code> and print <code>user_profile</code>:</p>
<pre><code>{'location': 'princeton', 'field': 'physics',
'first_name': 'albert', 'last_name': 'einstein'}</code></pre>
<p>The returned dictionary contains the user’s first and last names and, in this case, the location and field of study as well. The function will work no matter how many additional key-value pairs are provided in the function call.</p>
<p><span epub:type="pagebreak" title="149" id="Page_149"/>You can mix positional, keyword, and arbitrary values in many different ways when writing your own functions. It’s useful to know that all these argument types exist because you’ll see them often when you start reading other people’s code. It takes practice to use the different types correctly and to know when to use each type. For now, remember to use the simplest approach that gets the job done. As you progress, you’ll learn to use the most efficient approach each time.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	You’ll often see the parameter name <code>**kwargs</code> used to collect nonspecific keyword arguments.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c08-27" class="BoxNumber">8-12. Sandwiches:</span> Write a function that accepts a list of items a person wants on a sandwich. The function should have one parameter that collects as many items as the function call provides, and it should print a summary of the sandwich that’s being ordered. Call the function three times, using a different number of arguments each time.</p>
<p class="BoxBodyCustom"><span id="h2-502703c08-28" class="BoxNumber">8-13. User Profile:</span> Start with a copy of <em>user_profile.py</em> from <span class="xref" itemid="xref_target_page 148">page 148</span>. Build a profile of yourself by calling <code>build_profile()</code>, using your first and last names and three other key-value pairs that describe you.</p>
<p class="BoxBodyCustom"><span id="h2-502703c08-29" class="BoxNumber">8-14. Cars:</span> Write a function that stores information about a car in a dictionary. The function should always receive a manufacturer and a model name. It should then accept an arbitrary number of keyword arguments. Call the function with the required information and two other name-value pairs, such as a color or an optional feature. Your function should work for a call like this one:</p>
<pre><code>car = make_car('subaru', 'outback', color='blue', tow_package=True)</code></pre>
<p class="BoxBody">Print the dictionary that’s returned to make sure all the information was stored correctly.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c08-0006">Storing Your Functions in Modules</h2>
<p class="BodyFirst">One advantage of functions is the way they separate blocks of code from your main program. When you use descriptive names for your functions, your programs become much easier to follow. You can go a step further by storing your functions in a separate file called a <em>module</em> and then <em>importing</em> that module into your main program. An <code>import</code> statement tells Python to make the code in a module available in the currently running program file.</p>
<p>Storing your functions in a separate file allows you to hide the details of your program’s code and focus on its higher-level logic. It also allows you to reuse functions in many different programs. When you store your functions in separate files, you can share those files with other programmers without <span epub:type="pagebreak" title="150" id="Page_150"/>having to share your entire program. Knowing how to import functions also allows you to use libraries of functions that other programmers have written.</p>
<p>There are several ways to import a module, and I’ll show you each of these briefly.</p>
<h3 id="h2-502703c08-0016">Importing an Entire Module</h3>
<p class="BodyFirst">To start importing functions, we first need to create a module. A <em>module</em> is a file ending in <em>.py</em> that contains the code you want to import into your program. Let’s make a module that contains the function <code>make_pizza()</code>. To make this module, we’ll remove everything from the file <em>pizza.py</em> except the function <code>make_pizza()</code>:</p>
<p class="CodeLabel"><b>pizza.py</b></p>
<pre><code>def make_pizza(size, *toppings):
    """Summarize the pizza we are about to make."""
    print(f"\nMaking a {size}-inch pizza with the following toppings:")
    for topping in toppings:
        print(f"- {topping}")</code></pre>
<p>Now we’ll make a separate file called <em>making_pizzas.py</em> in the same directory as <em>pizza.py</em>. This file imports the module we just created and then makes two calls to <code>make_pizza()</code>:</p>
<p class="CodeLabel"><b>making_pizzas.py</b></p>
<pre><code>import pizza

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> pizza.make_pizza(16, 'pepperoni')
pizza.make_pizza(12, 'mushrooms', 'green peppers', 'extra cheese')</code></pre>
<p>When Python reads this file, the line <code>import pizza</code> tells Python to open the file <em>pizza.py</em> and copy all the functions from it into this program. You don’t actually see code being copied between files because Python copies the code behind the scenes, just before the program runs. All you need to know is that any function defined in <em>pizza.py</em> will now be available in <em>making_pizzas.py</em>.</p>
<p>To call a function from an imported module, enter the name of the module you imported, <code>pizza</code>, followed by the name of the function, <code>make_pizza()</code>, separated by a dot <span class="CodeAnnotation" aria-label="annotation1">❶</span>. This code produces the same output as the original program that didn’t import a module:</p>
<pre><code>Making a 16-inch pizza with the following toppings:
- pepperoni

Making a 12-inch pizza with the following toppings:
- mushrooms
- green peppers
- extra cheese</code></pre>
<p>This first approach to importing, in which you simply write <code>import</code> followed by the name of the module, makes every function from the module <span epub:type="pagebreak" title="151" id="Page_151"/>available in your program. If you use this kind of <code>import</code> statement to import an entire module named <em>module_name.py</em>, each function in the module is available through the following syntax:</p>
<pre><code><var>module_name</var>.<var>function_name</var>()</code></pre>
<h3 id="h2-502703c08-0017">Importing Specific Functions</h3>
<p class="BodyFirst">You can also import a specific function from a module. Here’s the general syntax for this approach:</p>
<pre><code>from <var>module_name</var> import <var>function_name</var></code></pre>
<p>You can import as many functions as you want from a module by separating each function’s name with a comma:</p>
<pre><code>from <var>module_name</var> import <var>function_0</var>, <var>function_1</var>, <var>function_2</var></code></pre>
<p>The <em>making_pizzas.py</em> example would look like this if we want to import just the function we’re going to use:</p>
<pre><code>from pizza import make_pizza

make_pizza(16, 'pepperoni')
make_pizza(12, 'mushrooms', 'green peppers', 'extra cheese')</code></pre>
<p>With this syntax, you don’t need to use the dot notation when you call a function. Because we’ve explicitly imported the function <code>make_pizza()</code> in the <code>import</code> statement, we can call it by name when we use the function.</p>
<h3 id="h2-502703c08-0018">Using as to Give a Function an Alias</h3>
<p class="BodyFirst">If the name of a function you’re importing might conflict with an existing name in your program, or if the function name is long, you can use a short, unique <em>alias</em>—an alternate name similar to a nickname for the function. You’ll give the function this special nickname when you import the function.</p>
<p>Here we give the function <code>make_pizza()</code> an alias, <code>mp()</code>, by importing <code>make_pizza as mp</code>. The <code>as</code> keyword renames a function using the alias you provide:</p>
<pre><code>from pizza import make_pizza as mp

mp(16, 'pepperoni')
mp(12, 'mushrooms', 'green peppers', 'extra cheese')</code></pre>
<p>The <code>import</code> statement shown here renames the function <code>make_pizza()</code> to <code>mp()</code> in this program. Anytime we want to call <code>make_pizza()</code> we can simply write <code>mp()</code> instead, and Python will run the code in <code>make_pizza()</code> while avoiding any confusion with another <code>make_pizza()</code> function you might have written in this program file.</p>
<p><span epub:type="pagebreak" title="152" id="Page_152"/>The general syntax for providing an alias is:</p>
<pre><code>from <var>module_name</var> import <var>function_name</var> as <var>fn</var></code></pre>
<h3 id="h2-502703c08-0019">Using as to Give a Module an Alias</h3>
<p class="BodyFirst">You can also provide an alias for a module name. Giving a module a short alias, like <code>p</code> for <code>pizza</code>, allows you to call the module’s functions more quickly. Calling <code>p.make_pizza()</code> is more concise than calling <code>pizza.make_pizza()</code>:</p>
<pre><code>import pizza as p

p.make_pizza(16, 'pepperoni')
p.make_pizza(12, 'mushrooms', 'green peppers', 'extra cheese')</code></pre>
<p>The module <code>pizza</code> is given the alias <code>p</code> in the <code>import</code> statement, but all of the module’s functions retain their original names. Calling the functions by writing <code>p.make_pizza()</code> is not only more concise than <code>pizza.make_pizza()</code>, but it also redirects your attention from the module name and allows you to focus on the descriptive names of its functions. These function names, which clearly tell you what each function does, are more important to the readability of your code than using the full module name.</p>
<p>The general syntax for this approach is:</p>
<pre><code>import <var>module_name</var> as <var>mn</var></code></pre>
<h3 id="h2-502703c08-0020">Importing All Functions in a Module</h3>
<p class="BodyFirst">You can tell Python to import every function in a module by using the asterisk (<code>*</code>) operator:</p>
<pre><code>from pizza import *

make_pizza(16, 'pepperoni')
make_pizza(12, 'mushrooms', 'green peppers', 'extra cheese')</code></pre>
<p>The asterisk in the <code>import</code> statement tells Python to copy every function from the module <code>pizza</code> into this program file. Because every function is imported, you can call each function by name without using the dot notation. However, it’s best not to use this approach when you’re working with larger modules that you didn’t write: if the module has a function name that matches an existing name in your project, you can get unexpected results. Python may see several functions or variables with the same name, and instead of importing all the functions separately, it will overwrite the functions.</p>
<p>The best approach is to import the function or functions you want, or import the entire module and use the dot notation. This leads to clear code that’s easy to read and understand. I include this section so you’ll recognize <code>import</code> statements like the following when you see them in other people’s code:</p>
<pre><code>from <var>module_name</var> import *</code></pre>
<h2 id="h1-502703c08-0007"><span epub:type="pagebreak" title="153" id="Page_153"/>Styling Functions</h2>
<p class="BodyFirst">You need to keep a few details in mind when you’re styling functions. Functions should have descriptive names, and these names should use lowercase letters and underscores. Descriptive names help you and others understand what your code is trying to do. Module names should use these conventions as well.</p>
<p>Every function should have a comment that explains concisely what the function does. This comment should appear immediately after the function definition and use the docstring format. In a well-documented function, other programmers can use the function by reading only the description in the docstring. They should be able to trust that the code works as described, and as long as they know the name of the function, the arguments it needs, and the kind of value it returns, they should be able to use it in their programs.</p>
<p>If you specify a default value for a parameter, no spaces should be used on either side of the equal sign:</p>
<pre><code>def <var>function_name</var>(<var>parameter_0</var>, <var>parameter_1</var>='<var>default value</var>')</code></pre>
<p>The same convention should be used for keyword arguments in function calls:</p>
<pre><code><var>function_name</var>(<var>value_0</var>, <var>parameter_1</var>='<var>value</var>')</code></pre>
<p>PEP 8 (<a href="https://www.python.org/dev/peps/pep-0008" class="LinkURL">https://www.python.org/dev/peps/pep-0008</a>) recommends that you limit lines of code to 79 characters so every line is visible in a reasonably sized editor window. If a set of parameters causes a function’s definition to be longer than 79 characters, press ENTER after the opening parenthesis on the definition line. On the next line, press the TAB key twice to separate the list of arguments from the body of the function, which will only be indented one level.</p>
<p>Most editors automatically line up any additional lines of arguments to match the indentation you have established on the first line:</p>
<pre><code>def <var>function_name</var>(
        <var>parameter_0</var>, <var>parameter_1</var>, <var>parameter_2</var>,
        <var>parameter_3</var>, <var>parameter_4</var>, <var>parameter_5</var>):
    <var>function body...</var></code></pre>
<p>If your program or module has more than one function, you can separate each by two blank lines to make it easier to see where one function ends and the next one begins.</p>
<p>All <code>import</code> statements should be written at the beginning of a file. The only exception is if you use comments at the beginning of your file to describe the overall program.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2><span epub:type="pagebreak" title="154" id="Page_154"/>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c08-35" class="BoxNumber">8-15. Printing Models:</span> Put the functions for the example <em>printing_models.py</em> in a separate file called <em>printing_functions.py</em>. Write an import statement at the top of <em>printing_models.py</em>, and modify the file to use the imported functions.</p>
<p class="BoxBodyCustom"><span id="h2-502703c08-36" class="BoxNumber">8-16. Imports:</span> Using a program you wrote that has one function in it, store that function in a separate file. Import the function into your main program file, and call the function using each of these approaches:</p>
<pre><code>import <var>module_name</var>
from <var>module_name</var> import <var>function_name</var>
from <var>module_name</var> import <var>function_name</var> as <var>fn</var>
import <var>module_name</var> as <var>mn</var>
from <var>module_name</var> import *</code></pre>
<p class="BoxBodyCustom"><span id="h2-502703c08-37" class="BoxNumber">8-17. Styling Functions:</span> Choose any three programs you wrote for this chapter, and make sure they follow the styling guidelines described in this section.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c08-0008">Summary</h2>
<p class="BodyFirst">In this chapter, you learned how to write functions and to pass arguments so that your functions have access to the information they need to do their work. You learned how to use positional and keyword arguments, and also how to accept an arbitrary number of arguments. You saw functions that display output and functions that return values. You learned how to use functions with lists, dictionaries, <code>if</code> statements, and <code>while</code> loops. You also saw how to store your functions in separate files called <em>modules</em>, so your program files will be simpler and easier to understand. Finally, you learned to style your functions so your programs will continue to be well-structured and as easy as possible for you and others to read.</p>
<p>One of your goals as a programmer should be to write simple code that does what you want it to, and functions help you do this. They allow you to write blocks of code and leave them alone once you know they work. When you know a function does its job correctly, you can trust that it will continue to work and move on to your next coding task.</p>
<p>Functions allow you to write code once and then reuse that code as many times as you want. When you need to run the code in a function, all you need to do is write a one-line call and the function does its job. When you need to modify a function’s behavior, you only have to modify one block of code, and your change takes effect everywhere you’ve made a call to that function.</p>
<p>Using functions makes your programs easier to read, and good function names summarize what each part of a program does. Reading a series of function calls gives you a much quicker sense of what a program does than reading a long series of code blocks.</p>
<p><span epub:type="pagebreak" title="155" id="Page_155"/>Functions also make your code easier to test and debug. When the bulk of your program’s work is done by a set of functions, each of which has a specific job, it’s much easier to test and maintain the code you’ve written. You can write a separate program that calls each function and tests whether each function works in all the situations it may encounter. When you do this, you can be confident that your functions will work properly each time you call them.</p>
<p>In <span class="xref" itemid="xref_target_Chapter 9,">Chapter 9,</span> you’ll learn to write classes. <em>Classes</em> combine functions and data into one neat package that can be used in flexible and efficient ways.</p>
</section>
</div>
<div id="sbo-rt-content"><section>
<header>
<h1 class="chapter">
<span class="ChapterNumber"><span epub:type="pagebreak" title="157" id="Page_157"/>9</span><br/>
<span class="ChapterTitle">Classes</span></h1>
</header>
<figure class="opener">
<img src="Images/chapterart.png" alt="" width="406" height="406"/>
</figure>
<p class="ChapterIntro"><em>Object-oriented programming (OOP</em><em>)</em> is one of the most effective approaches to writing software. In object-oriented programming, you write <em>classes</em> that represent real-world things and situations, and you create <em>objects</em> based on these classes. When you write a class, you define the general behavior that a whole category of objects can have.</p>
<p>When you create individual objects from the class, each object is automatically equipped with the general behavior; you can then give each object whatever unique traits you desire. You’ll be amazed how well real-world situations can be modeled with object-oriented programming.</p>
<p>Making an object from a class is called <em>instantiation</em>, and you work with <em>instances</em> of a class. In this chapter you’ll write classes and create instances of those classes. You’ll specify the kind of information that can be stored in instances, and you’ll define actions that can be taken with these instances. You’ll also write classes that extend the functionality of existing classes, so similar classes can share common functionality, and you can do more with <span epub:type="pagebreak" title="158" id="Page_158"/>less code. You’ll store your classes in modules and import classes written by other programmers into your own program files.</p>
<p>Learning about object-oriented programming will help you see the world as a programmer does. It’ll help you understand your code—not just what’s happening line by line, but also the bigger concepts behind it. Knowing the logic behind classes will train you to think logically, so you can write programs that effectively address almost any problem you encounter.</p>
<p>Classes also make life easier for you and the other programmers you’ll work with as you take on increasingly complex challenges. When you and other programmers write code based on the same kind of logic, you’ll be able to understand each other’s work. Your programs will make sense to the people you work with, allowing everyone to accomplish more.</p>
<h2 id="h1-502703c09-0001">Creating and Using a Class</h2>
<p class="BodyFirst">You can model almost anything using classes. Let’s start by writing a simple class, <code>Dog</code>, that represents a dog—not one dog in particular, but any dog. What do we know about most pet dogs? Well, they all have a name and an age. We also know that most dogs sit and roll over. Those two pieces of information (name and age) and those two behaviors (sit and roll over) will go in our <code>Dog</code> class because they’re common to most dogs. This class will tell Python how to make an object representing a dog. After our class is written, we’ll use it to make individual instances, each of which represents one specific dog.</p>
<h3 id="h2-502703c09-0001">Creating the Dog Class</h3>
<p class="BodyFirst">Each instance created from the <code>Dog</code> class will store a <code>name</code> and an <code>age</code>, and we’ll give each dog the ability to <code>sit()</code> and <code>roll_over()</code>:</p>
<p class="CodeLabel"><b>dog.py</b></p>
<pre><code><span class="CodeAnnotationHang" aria-label="annotation1">❶</span> class Dog:
    """A simple attempt to model a dog."""

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     def __init__(self, name, age):
        """Initialize name and age attributes."""
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span>         self.name = name
        self.age = age

<span class="CodeAnnotationHang" aria-label="annotation4">❹</span>     def sit(self):
        """Simulate a dog sitting in response to a command."""
        print(f"{self.name} is now sitting.")

    def roll_over(self):
        """Simulate rolling over in response to a command."""
        print(f"{self.name} rolled over!")</code></pre>
<p>There’s a lot to notice here, but don’t worry. You’ll see this structure throughout this chapter and have lots of time to get used to it. We first define a class called <code>Dog</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>. By convention, capitalized names refer to classes in Python. There are no parentheses in the class definition because we’re creating this class from scratch. We then write a docstring describing what this class does.</p>
<h3 id="h2-502703c09-0002"><span epub:type="pagebreak" title="159" id="Page_159"/>The __init__() Method</h3>
<p class="BodyFirst">A function that’s part of a class is a <em>method</em>. Everything you learned about functions applies to methods as well; the only practical difference for now is the way we’ll call methods. The <code>__init__()</code> method <span class="CodeAnnotation" aria-label="annotation2">❷</span> is a special method that Python runs automatically whenever we create a new instance based on the <code>Dog</code> class. This method has two leading underscores and two trailing underscores, a convention that helps prevent Python’s default method names from conflicting with your method names. Make sure to use two underscores on each side of <code>__init__()</code>. If you use just one on each side, the method won’t be called automatically when you use your class, which can result in errors that are difficult to identify.</p>
<p>We define the <code>__init__()</code> method to have three parameters: <code>self</code>, <code>name</code>, and <code>age</code>. The <code>self</code> parameter is required in the method definition, and it must come first, before the other parameters. It must be included in the definition because when Python calls this method later (to create an instance of <code>Dog</code>), the method call will automatically pass the <code>self</code> argument. Every method call associated with an instance automatically passes <code>self</code>, which is a reference to the instance itself; it gives the individual instance access to the attributes and methods in the class. When we make an instance of <code>Dog</code>, Python will call the <code>__init__()</code> method from the <code>Dog</code> class. We’ll pass <code>Dog()</code> a name and an age as arguments; <code>self</code> is passed automatically, so we don’t need to pass it. Whenever we want to make an instance from the <code>Dog</code> class, we’ll provide values for only the last two parameters, <code>name</code> and <code>age</code>.</p>
<p>The two variables defined in the body of the <code>__init__()</code> method each have the prefix <code>self</code> <span class="CodeAnnotation" aria-label="annotation3">❸</span>. Any variable prefixed with <code>self</code> is available to every method in the class, and we’ll also be able to access these variables through any instance created from the class. The line <code>self.name = name</code> takes the value associated with the parameter <code>name</code> and assigns it to the variable <code>name</code>, which is then attached to the instance being created. The same process happens with <code>self.age = age</code>. Variables that are accessible through instances like this are called <em>attributes</em>.</p>
<p>The <code>Dog</code> class has two other methods defined: <code>sit()</code> and <code>roll_over()</code> <span class="CodeAnnotation" aria-label="annotation4">❹</span>. Because these methods don’t need additional information to run, we just define them to have one parameter, <code>self</code>. The instances we create later will have access to these methods. In other words, they’ll be able to sit and roll over. For now, <code>sit()</code> and <code>roll_over()</code> don’t do much. They simply print a message saying the dog is sitting or rolling over. But the concept can be extended to realistic situations: if this class were part of a computer game, these methods would contain code to make an animated dog sit and roll over. If this class was written to control a robot, these methods would direct movements that cause a robotic dog to sit and roll over.</p>
<h3 id="h2-502703c09-0003">Making an Instance from a Class</h3>
<p class="BodyFirst">Think of a class as a set of instructions for how to make an instance. The <code>Dog</code> class is a set of instructions that tells Python how to make individual instances representing specific dogs.</p>
<p><span epub:type="pagebreak" title="160" id="Page_160"/>Let’s make an instance representing a specific dog:</p>
<pre><code><span class="LiteralGray">class Dog:</span>
<em class="LiteralGrayItalic">    --snip--</em>

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> my_dog = Dog('Willie', 6)

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> print(f"My dog's name is {my_dog.name}.")
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> print(f"My dog is {my_dog.age} years old.")</code></pre>
<p>The <code>Dog</code> class we’re using here is the one we just wrote in the previous example. Here, we tell Python to create a dog whose name is <code>'Willie'</code> and whose age is <code>6</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>. When Python reads this line, it calls the <code>__init__()</code> method in <code>Dog</code> with the arguments <code>'Willie'</code> and <code>6</code>. The <code>__init__()</code> method creates an instance representing this particular dog and sets the <code>name</code> and <code>age</code> attributes using the values we provided. Python then returns an instance representing this dog. We assign that instance to the variable <code>my_dog</code>. The naming convention is helpful here; we can usually assume that a capitalized name like <code>Dog</code> refers to a class, and a lowercase name like <code>my_dog</code> refers to a single instance created from a class.</p>
<h4 id="h3-502703c09-0001">Accessing Attributes</h4>
<p class="BodyFirst">To access the attributes of an instance, you use dot notation. We access the value of <code>my_dog</code>’s attribute <code>name</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span> by writing:</p>
<pre><code>my_dog.name</code></pre>
<p>Dot notation is used often in Python. This syntax demonstrates how Python finds an attribute’s value. Here, Python looks at the instance <code>my_dog</code> and then finds the attribute <code>name</code> associated with <code>my_dog</code>. This is the same attribute referred to as <code>self.name</code> in the class <code>Dog</code>. We use the same approach to work with the attribute <code>age</code> <span class="CodeAnnotation" aria-label="annotation3">❸</span>.</p>
<p>The output is a summary of what we know about <code>my_dog</code>:</p>
<pre><code>My dog's name is Willie.
My dog is 6 years old.</code></pre>
<h4 id="h3-502703c09-0002">Calling Methods</h4>
<p class="BodyFirst">After we create an instance from the class <code>Dog</code>, we can use dot notation to call any method defined in <code>Dog</code>. Let’s make our dog sit and roll over:</p>
<pre><code><span class="LiteralGray">class Dog:</span>
<em class="LiteralGrayItalic">    --snip--</em>

<span class="LiteralGray">my_dog = Dog('Willie', 6)</span>
my_dog.sit()
my_dog.roll_over()</code></pre>
<p><span epub:type="pagebreak" title="161" id="Page_161"/>To call a method, give the name of the instance (in this case, <code>my_dog</code>) and the method you want to call, separated by a dot. When Python reads <code>my_dog.sit()</code>, it looks for the method <code>sit()</code> in the class <code>Dog</code> and runs that code. Python interprets the line <code>my_dog.roll_over()</code> in the same way.</p>
<p>Now Willie does what we tell him to:</p>
<pre><code>Willie is now sitting.
Willie rolled over!</code></pre>
<p>This syntax is quite useful. When attributes and methods have been given appropriately descriptive names like <code>name</code>, <code>age</code>, <code>sit()</code>, and <code>roll_over()</code>, we can easily infer what a block of code, even one we’ve never seen before, is supposed to do.</p>
<h4 id="h3-502703c09-0003">Creating Multiple Instances</h4>
<p class="BodyFirst">You can create as many instances from a class as you need. Let’s create a second dog called <code>your_dog</code>:</p>
<pre><code><span class="LiteralGray">class Dog:</span>
<em class="LiteralGrayItalic">    --snip--</em>

<span class="LiteralGray">my_dog = Dog('Willie', 6)</span>
your_dog = Dog('Lucy', 3)

print(f"My dog's name is {my_dog.name}.")
print(f"My dog is {my_dog.age} years old.")
my_dog.sit()

print(f"\nYour dog's name is {your_dog.name}.")
print(f"Your dog is {your_dog.age} years old.")
your_dog.sit()</code></pre>
<p>In this example we create a dog named Willie and a dog named Lucy. Each dog is a separate instance with its own set of attributes, capable of the same set of actions:</p>
<pre><code>My dog's name is Willie.
My dog is 6 years old.
Willie is now sitting.

Your dog's name is Lucy.
Your dog is 3 years old.
Lucy is now sitting.</code></pre>
<p>Even if we used the same name and age for the second dog, Python would still create a separate instance from the <code>Dog</code> class. You can make as many instances from one class as you need, as long as you give each instance a unique variable name or it occupies a unique spot in a list or dictionary.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2><span epub:type="pagebreak" title="162" id="Page_162"/>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c09-04" class="BoxNumber">9-1. Restaurant:</span> Make a class called <code>Restaurant</code>. The <code>__init__()</code> method for <code>Restaurant</code> should store two attributes: a <code>restaurant_name</code> and a <code>cuisine_type</code>. Make a method called <code>describe_restaurant()</code> that prints these two pieces of information, and a method called <code>open_restaurant()</code> that prints a message indicating that the restaurant is open.</p>
<p class="BoxBody">Make an instance called <code>restaurant</code> from your class. Print the two attributes individually, and then call both methods.</p>
<p class="BoxBodyCustom"><span id="h2-502703c09-05" class="BoxNumber">9-2. Three Restaurants:</span> Start with your class from Exercise 9-1. Create three different instances from the class, and call <code>describe_restaurant()</code> for each instance.</p>
<p class="BoxBodyCustom"><span id="h2-502703c09-06" class="BoxNumber">9-3. Users:</span> Make a class called <code>User</code>. Create two attributes called <code>first_name</code> and <code>last_name</code>, and then create several other attributes that are typically stored in a user profile. Make a method called <code>describe_user()</code> that prints a summary of the user’s information. Make another method called <code>greet_user()</code> that prints a personalized greeting to the user.</p>
<p class="BoxBody">Create several instances representing different users, and call both methods for each user.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c09-0002">Working with Classes and Instances</h2>
<p class="BodyFirst">You can use classes to represent many real-world situations. Once you write a class, you’ll spend most of your time working with instances created from that class. One of the first tasks you’ll want to do is modify the attributes associated with a particular instance. You can modify the attributes of an instance directly or write methods that update attributes in specific ways.</p>
<h3 id="h2-502703c09-0004">The Car Class</h3>
<p class="BodyFirst">Let’s write a new class representing a car. Our class will store information about the kind of car we’re working with, and it will have a method that summarizes this information:</p>
<p class="CodeLabel"><b>car.py</b></p>
<pre><code>class Car:
    """A simple attempt to represent a car."""

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     def __init__(self, make, model, year):
        """Initialize attributes to describe a car."""
        self.make = make
        self.model = model
        self.year = year

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     def get_descriptive_name(self):
        """Return a neatly formatted descriptive name."""
        long_name = f"{self.year} {self.make} {self.model}"
<span epub:type="pagebreak" title="163" id="Page_163"/>        return long_name.title()

<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> my_new_car = Car('audi', 'a4', 2024)
print(my_new_car.get_descriptive_name())</code></pre>
<p>In the <code>Car</code> class, we define the <code>__init__()</code> method with the <code>self</code> parameter first <span class="CodeAnnotation" aria-label="annotation1">❶</span>, just like we did with the <code>Dog</code> class. We also give it three other parameters: <code>make</code>, <code>model</code>, and <code>year</code>. The <code>__init__()</code> method takes in these parameters and assigns them to the attributes that will be associated with instances made from this class. When we make a new <code>Car</code> instance, we’ll need to specify a make, model, and year for our instance.</p>
<p>We define a method called <code>get_descriptive_name()</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span> that puts a car’s <code>year</code>, <code>make</code>, and <code>model</code> into one string neatly describing the car. This will spare us from having to print each attribute’s value individually. To work with the attribute values in this method, we use <code>self.make</code>, <code>self.model</code>, and <code>self.year</code>. Outside of the class, we make an instance from the <code>Car</code> class and assign it to the variable <code>my_new_car</code> <span class="CodeAnnotation" aria-label="annotation3">❸</span>. Then we call <code>get_descriptive_name()</code> to show what kind of car we have:</p>
<pre><code>2024 Audi A4</code></pre>
<p>To make the class more interesting, let’s add an attribute that changes over time. We’ll add an attribute that stores the car’s overall mileage.</p>
<h3 id="h2-502703c09-0005">Setting a Default Value for an Attribute</h3>
<p class="BodyFirst">When an instance is created, attributes can be defined without being passed in as parameters. These attributes can be defined in the <code>__init__()</code> method, where they are assigned a default value.</p>
<p>Let’s add an attribute called <code>odometer_reading</code> that always starts with a value of 0. We’ll also add a method <code>read_odometer()</code> that helps us read each car’s odometer:</p>
<pre><code><span class="LiteralGray">class Car:</span>

<span class="LiteralGray">    def __init__(self, make, model, year):</span>
<span class="LiteralGray">        """Initialize attributes to describe a car."""</span>
<span class="LiteralGray">        self.make = make</span>
<span class="LiteralGray">        self.model = model</span>
<span class="LiteralGray">        self.year = year</span>
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>         self.odometer_reading = 0

    <span class="LiteralGray">def get_descriptive_name(self):</span>
<em class="LiteralGrayItalic">        --snip--</em>

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     def read_odometer(self):
        """Print a statement showing the car's mileage."""
        print(f"This car has {self.odometer_reading} miles on it.")

<span class="LiteralGray">my_new_car = Car('audi', 'a4', 2024)</span>
<span class="LiteralGray">print(my_new_car.get_descriptive_name())</span>
my_new_car.read_odometer()</code></pre>
<p><span epub:type="pagebreak" title="164" id="Page_164"/>This time, when Python calls the <code>__init__()</code> method to create a new instance, it stores the make, model, and year values as attributes, like it did in the previous example. Then Python creates a new attribute called <code>odometer_reading</code> and sets its initial value to 0 <span class="CodeAnnotation" aria-label="annotation1">❶</span>. We also have a new method called <code>read_odometer()</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span> that makes it easy to read a car’s mileage.</p>
<p>Our car starts with a mileage of 0:</p>
<pre><code>2024 Audi A4
This car has 0 miles on it.</code></pre>
<p>Not many cars are sold with exactly 0 miles on the odometer, so we need a way to change the value of this attribute.</p>
<h3 id="h2-502703c09-0006">Modifying Attribute Values</h3>
<p class="BodyFirst">You can change an attribute’s value in three ways: you can change the value directly through an instance, set the value through a method, or increment the value (add a certain amount to it) through a method. Let’s look at each of these approaches.</p>
<h4 id="h3-502703c09-0004">Modifying an Attribute’s Value Directly</h4>
<p class="BodyFirst">The simplest way to modify the value of an attribute is to access the attribute directly through an instance. Here we set the odometer reading to 23 directly:</p>
<pre><code><span class="LiteralGray">class Car:</span>
<em class="LiteralGrayItalic">    --snip--</em>

<span class="LiteralGray">my_new_car = Car('audi', 'a4', 2024)</span>
<span class="LiteralGray">print(my_new_car.get_descriptive_name())</span>

my_new_car.odometer_reading = 23
<span class="LiteralGray">my_new_car.read_odometer()</span></code></pre>
<p>We use dot notation to access the car’s <code>odometer_reading</code> attribute, and set its value directly. This line tells Python to take the instance <code>my_new_car</code>, find the attribute <code>odometer_reading</code> associated with it, and set the value of that attribute to 23:</p>
<pre><code>2024 Audi A4
This car has 23 miles on it.</code></pre>
<p>Sometimes you’ll want to access attributes directly like this, but other times you’ll want to write a method that updates the value for you.</p>
<h4 id="h3-502703c09-0005">Modifying an Attribute’s Value Through a Method</h4>
<p class="BodyFirst">It can be helpful to have methods that update certain attributes for you. Instead of accessing the attribute directly, you pass the new value to a method that handles the updating internally.</p>
<p><span epub:type="pagebreak" title="165" id="Page_165"/>Here’s an example showing a method called <code>update_odometer()</code>:</p>
<pre><code><span class="LiteralGray">class Car:</span>
<em class="LiteralGrayItalic">    --snip--</em>

    def update_odometer(self, mileage):
        """Set the odometer reading to the given value."""
        self.odometer_reading = mileage

<span class="LiteralGray">my_new_car = Car('audi', 'a4', 2024)</span>
<span class="LiteralGray">print(my_new_car.get_descriptive_name())</span>

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> my_new_car.update_odometer(23)
<span class="LiteralGray">my_new_car.read_odometer()</span></code></pre>
<p>The only modification to <code>Car</code> is the addition of <code>update_odometer()</code>. This method takes in a mileage value and assigns it to <code>self.odometer_reading</code>. Using the <code>my_new_car</code> instance, we call <code>update_odometer()</code> with <code>23</code> as an argument <span class="CodeAnnotation" aria-label="annotation1">❶</span>. This sets the odometer reading to 23, and <code>read_odometer()</code> prints the reading:</p>
<pre><code>2024 Audi A4
This car has 23 miles on it.</code></pre>
<p>We can extend the method <code>update_odometer()</code> to do additional work every time the odometer reading is modified. Let’s add a little logic to make sure no one tries to roll back the odometer reading:</p>
<pre><code><span class="LiteralGray">class Car:</span>
<em class="LiteralGrayItalic">    --snip--</em>

<span class="LiteralGray">    def update_odometer(self, mileage):</span>
        """
        Set the odometer reading to the given value.
        Reject the change if it attempts to roll the odometer back.
        """
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>         if mileage &gt;= self.odometer_reading:
<span class="LiteralGray">            self.odometer_reading = mileage</span>
        else:
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>             print("You can't roll back an odometer!")</code></pre>
<p>Now <code>update_odometer()</code> checks that the new reading makes sense before modifying the attribute. If the value provided for <code>mileage</code> is greater than or equal to the existing mileage, <code>self.odometer_reading</code>, you can update the odometer reading to the new mileage <span class="CodeAnnotation" aria-label="annotation1">❶</span>. If the new mileage is less than the existing mileage, you’ll get a warning that you can’t roll back an odometer <span class="CodeAnnotation" aria-label="annotation2">❷</span>.</p>
<h4 id="h3-502703c09-0006">Incrementing an Attribute’s Value Through a Method</h4>
<p class="BodyFirst">Sometimes you’ll want to increment an attribute’s value by a certain amount, rather than set an entirely new value. Say we buy a used car and put 100 miles <span epub:type="pagebreak" title="166" id="Page_166"/>on it between the time we buy it and the time we register it. Here’s a method that allows us to pass this incremental amount and add that value to the odometer reading:</p>
<pre><code><span class="LiteralGray">class Car:</span>
    <em class="LiteralGrayItalic">--snip--</em>

<span class="LiteralGray">    def update_odometer(self, mileage):</span>
<em class="LiteralGrayItalic">        --snip--</em>

    def increment_odometer(self, miles):
        """Add the given amount to the odometer reading."""
        self.odometer_reading += miles

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> my_used_car = Car('subaru', 'outback', 2019)
print(my_used_car.get_descriptive_name())

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> my_used_car.update_odometer(23_500)
my_used_car.read_odometer()

my_used_car.increment_odometer(100)
my_used_car.read_odometer()</code></pre>
<p>The new method <code>increment_odometer()</code> takes in a number of miles, and adds this value to <code>self.odometer_reading</code>. First, we create a used car, <code>my_used_car</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>. We set its odometer to 23,500 by calling <code>update_odometer()</code> and passing it <code>23_500</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span>. Finally, we call <code>increment_odometer()</code> and pass it <code>100</code> to add the 100 miles that we drove between buying the car and registering it:</p>
<pre><code>2019 Subaru Outback
This car has 23500 miles on it.
This car has 23600 miles on it.</code></pre>
<p>You can modify this method to reject negative increments so no one uses this function to roll back an odometer as well.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	You can use methods like this to control how users of your program update values such as an odometer reading, but anyone with access to the program can set the odometer reading to any value by accessing the attribute directly. Effective security takes extreme attention to detail in addition to basic checks like those shown here.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c09-10" class="BoxNumber">9-4. Number Served:</span> Start with your program from Exercise 9-1 (<span class="xref" itemid="xref_target_page 162">page 162</span>). Add an attribute called <code>number_served</code> with a default value of 0. Create an instance called <code>restaurant</code> from this class. Print the number of customers the restaurant has served, and then change this value and print it again.</p>
<p class="BoxBody"><span epub:type="pagebreak" title="167" id="Page_167"/>Add a method called <code>set_number_served()</code> that lets you set the number of customers that have been served. Call this method with a new number and print the value again.</p>
<p class="BoxBody">Add a method called <code>increment_number_served()</code> that lets you increment the number of customers who’ve been served. Call this method with any number you like that could represent how many customers were served in, say, a day of business.</p>
<p class="BoxBodyCustom"><span id="h2-502703c09-11" class="BoxNumber">9-5. Login Attempts:</span> Add an attribute called <code>login_attempts</code> to your <code>User</code> class from Exercise 9-3 (<span class="xref" itemid="xref_target_page 162">page 162</span>). Write a method called <code>increment_login_attempts()</code> that increments the value of <code>login_attempts</code> by 1. Write another method called <code>reset_login_attempts()</code> that resets the value of <code>login_attempts</code> to 0.</p>
<p class="BoxBody">Make an instance of the <code>User</code> class and call <code>increment_login_attempts()</code> several times. Print the value of <code>login_attempts</code> to make sure it was incremented properly, and then call <code>reset_login_attempts()</code>. Print <code>login_attempts</code> again to make sure it was reset to 0.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c09-0003">Inheritance</h2>
<p class="BodyFirst">You don’t always have to start from scratch when writing a class. If the class you’re writing is a specialized version of another class you wrote, you can use <em>inheritance</em>. When one class <em>inherits</em> from another, it takes on the attributes and methods of the first class. The original class is called the <em>parent class</em>, and the new class is the <em>child class</em>. The child class can inherit any or all of the attributes and methods of its parent class, but it’s also free to define new attributes and methods of its own.</p>
<h3 id="h2-502703c09-0007">The __init__() Method for a Child Class</h3>
<p class="BodyFirst">When you’re writing a new class based on an existing class, you’ll often want to call the <code>__init__()</code> method from the parent class. This will initialize any attributes that were defined in the parent <code>__init__()</code> method and make them available in the child class.</p>
<p>As an example, let’s model an electric car. An electric car is just a specific kind of car, so we can base our new <code>ElectricCar</code> class on the <code>Car</code> class we wrote earlier. Then we’ll only have to write code for the attributes and behaviors specific to electric cars.</p>
<p>Let’s start by making a simple version of the <code>ElectricCar</code> class, which does everything the <code>Car</code> class does:</p>
<p class="CodeLabel"><b>electric_car.py</b></p>
<pre><code><span class="CodeAnnotationHang" aria-label="annotation1">❶</span> <span class="LiteralGray">class Car:</span>
<span class="LiteralGray">    """A simple attempt to represent a car."""</span>

<span class="LiteralGray">    def __init__(self, make, model, year):</span>
<span class="LiteralGray">        """Initialize attributes to describe a car.""</span>
<span class="LiteralGray">        self.make = make</span>
<span class="LiteralGray">        self.model = model</span>
<span epub:type="pagebreak" title="168" id="Page_168"/><span class="LiteralGray">        self.year = year</span>
<span class="LiteralGray">        self.odometer_reading = 0</span>

<span class="LiteralGray">    def get_descriptive_name(self):</span>
<span class="LiteralGray">        """Return a neatly formatted descriptive name."""</span>
<span class="LiteralGray">        long_name = f"{self.year} {self.make} {self.model}"</span>
<span class="LiteralGray">        return long_name.title()</span>

<span class="LiteralGray">    def read_odometer(self):</span>
<span class="LiteralGray">        """Print a statement showing the car's mileage."""</span>
<span class="LiteralGray">        print(f"This car has {self.odometer_reading} miles on it.")</span>

<span class="LiteralGray">    def update_odometer(self, mileage):</span>
<span class="LiteralGray">        """Set the odometer reading to the given value."""</span>
<span class="LiteralGray">        if mileage &gt;= self.odometer_reading:</span>
<span class="LiteralGray">            self.odometer_reading = mileage</span>
<span class="LiteralGray">        else:</span>
<span class="LiteralGray">            print("You can't roll back an odometer!")</span>

<span class="LiteralGray">    def increment_odometer(self, miles):</span>
<span class="LiteralGray">        """Add the given amount to the odometer reading."""</span>
<span class="LiteralGray">        self.odometer_reading += miles</span>

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> class ElectricCar(Car):
    """Represent aspects of a car, specific to electric vehicles."""

<span class="CodeAnnotationHang" aria-label="annotation3">❸</span>     def __init__(self, make, model, year):
        """Initialize attributes of the parent class."""
<span class="CodeAnnotationHang" aria-label="annotation4">❹</span>         super().__init__(make, model, year)


<span class="CodeAnnotationHang" aria-label="annotation5">❺</span> my_leaf = ElectricCar('nissan', 'leaf', 2024)
print(my_leaf.get_descriptive_name())</code></pre>
<p>We start with <code>Car</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>. When you create a child class, the parent class must be part of the current file and must appear before the child class in the file. We then define the child class, <code>ElectricCar</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span>. The name of the parent class must be included in parentheses in the definition of a child class. The <code>__init__()</code> method takes in the information required to make a <code>Car</code> instance <span class="CodeAnnotation" aria-label="annotation3">❸</span>.</p>
<p>The <code>super()</code> function <span class="CodeAnnotation" aria-label="annotation4">❹</span> is a special function that allows you to call a method from the parent class. This line tells Python to call the <code>__init__()</code> method from <code>Car</code>, which gives an <code>ElectricCar</code> instance all the attributes defined in that method. The name <em>super</em> comes from a convention of calling the parent class a <em>superclass</em> and the child class a <em>subclass</em>.</p>
<p>We test whether inheritance is working properly by trying to create an electric car with the same kind of information we’d provide when making a regular car. We make an instance of the <code>ElectricCar</code> class and assign it to <code>my_leaf</code> <span class="CodeAnnotation" aria-label="annotation5">❺</span>. This line calls the <code>__init__()</code> method defined in <code>ElectricCar</code>, which in turn tells Python to call the <code>__init__()</code> method defined in the parent class <code>Car</code>. We provide the arguments <code>'nissan'</code>, <code>'leaf'</code>, and <code>2024</code>.</p>
<p><span epub:type="pagebreak" title="169" id="Page_169"/>Aside from <code>__init__()</code>, there are no attributes or methods yet that are particular to an electric car. At this point we’re just making sure the electric car has the appropriate <code>Car</code> behaviors:</p>
<pre><code>2024 Nissan Leaf</code></pre>
<p>The <code>ElectricCar</code> instance works just like an instance of <code>Car</code>, so now we can begin defining attributes and methods specific to electric cars.</p>
<h3 id="h2-502703c09-0008">Defining Attributes and Methods for the Child Class</h3>
<p class="BodyFirst">Once you have a child class that inherits from a parent class, you can add any new attributes and methods necessary to differentiate the child class from the parent class.</p>
<p>Let’s add an attribute that’s specific to electric cars (a battery, for example) and a method to report on this attribute. We’ll store the battery size and write a method that prints a description of the battery:</p>
<pre><code><span class="LiteralGray">class Car:</span>
<em class="LiteralGrayItalic">    --snip--</em>

<span class="LiteralGray">class ElectricCar(Car):</span>
<span class="LiteralGray">    """Represent aspects of a car, specific to electric vehicles."""</span>

<span class="LiteralGray">    def __init__(self, make, model, year):</span>
<span class="LiteralGray">        </span>"""
        Initialize attributes of the parent class.
        Then initialize attributes specific to an electric car.
        """
<span class="LiteralGray">        super().__init__(make, model, year)</span>
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>         self.battery_size = 40

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     def describe_battery(self):
        """Print a statement describing the battery size."""
        print(f"This car has a {self.battery_size}-kWh battery.")

<span class="LiteralGray">my_leaf = ElectricCar('nissan', 'leaf', 2024)</span>
<span class="LiteralGray">print(my_leaf.get_descriptive_name())</span>
my_leaf.describe_battery()</code></pre>
<p>We add a new attribute <code>self.battery_size</code> and set its initial value to <code>40</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>. This attribute will be associated with all instances created from the <code>ElectricCar</code> class but won’t be associated with any instances of <code>Car</code>. We also add a method called <code>describe_battery()</code> that prints information about the battery <span class="CodeAnnotation" aria-label="annotation2">❷</span>. When we call this method, we get a description that is clearly specific to an electric car:</p>
<pre><code>2024 Nissan Leaf
This car has a 40-kWh battery.</code></pre>
<p>There’s no limit to how much you can specialize the <code>ElectricCar</code> class. You can add as many attributes and methods as you need to model an <span epub:type="pagebreak" title="170" id="Page_170"/>electric car to whatever degree of accuracy you need. An attribute or method that could belong to any car, rather than one that’s specific to an electric car, should be added to the <code>Car</code> class instead of the <code>ElectricCar</code> class. Then anyone who uses the <code>Car</code> class will have that functionality available as well, and the <code>ElectricCar</code> class will only contain code for the information and behavior specific to electric vehicles.</p>
<h3 id="h2-502703c09-0009">Overriding Methods from the Parent Class</h3>
<p class="BodyFirst">You can override any method from the parent class that doesn’t fit what you’re trying to model with the child class. To do this, you define a method in the child class with the same name as the method you want to override in the parent class. Python will disregard the parent class method and only pay attention to the method you define in the child class.</p>
<p>Say the class <code>Car</code> had a method called <code>fill_gas_tank()</code>. This method is meaningless for an all-electric vehicle, so you might want to override this method. Here’s one way to do that:</p>
<pre><code>class ElectricCar(Car):
<em class="LiteralGrayItalic">    --snip--</em>

    def fill_gas_tank(self):
        """Electric cars don't have gas tanks."""
        print("This car doesn't have a gas tank!")</code></pre>
<p>Now if someone tries to call <code>fill_gas_tank()</code> with an electric car, Python will ignore the method <code>fill_gas_tank()</code> in <code>Car</code> and run this code instead. When you use inheritance, you can make your child classes retain what you need and override anything you don’t need from the parent class.</p>
<h3 id="h2-502703c09-0010">Instances as Attributes</h3>
<p class="BodyFirst">When modeling something from the real world in code, you may find that you’re adding more and more detail to a class. You’ll find that you have a growing list of attributes and methods and that your files are becoming lengthy. In these situations, you might recognize that part of one class can be written as a separate class. You can break your large class into smaller classes that work together; this approach is called <em>composition</em>.</p>
<p>For example, if we continue adding detail to the <code>ElectricCar</code> class, we might notice that we’re adding many attributes and methods specific to the car’s battery. When we see this happening, we can stop and move those attributes and methods to a separate class called <code>Battery</code>. Then we can use a <code>Battery</code> instance as an attribute in the <code>ElectricCar</code> class:</p>
<pre><code><span class="LiteralGray">class Car:</span>
<em class="LiteralGrayItalic">    --snip--</em>

class Battery:
    """A simple attempt to model a battery for an electric car."""

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     def __init__(self, battery_size=40):
<span epub:type="pagebreak" title="171" id="Page_171"/>        """Initialize the battery's attributes."""
        self.battery_size = battery_size

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     def describe_battery(self):
        """Print a statement describing the battery size."""
        print(f"This car has a {self.battery_size}-kWh battery.")


<span class="LiteralGray">class ElectricCar(Car):</span>
<span class="LiteralGray">    """Represent aspects of a car, specific to electric vehicles."""</span>

<span class="LiteralGray">    def __init__(self, make, model, year):</span>
<span class="LiteralGray">        """</span>
<span class="LiteralGray">        Initialize attributes of the parent class.</span>
<span class="LiteralGray">        Then initialize attributes specific to an electric car.</span>
<span class="LiteralGray">        """</span>
<span class="LiteralGray">        super().__init__(make, model, year)</span>
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span>         self.battery = Battery()

<span class="LiteralGray">my_leaf = ElectricCar('nissan', 'leaf', 2024)</span>
<span class="LiteralGray">print(my_leaf.get_descriptive_name())</span>
my_leaf.battery.describe_battery()</code></pre>
<p>We define a new class called <code>Battery</code> that doesn’t inherit from any other class. The <code>__init__()</code> method <span class="CodeAnnotation" aria-label="annotation1">❶</span> has one parameter, <code>battery_size</code>, in addition to <code>self</code>. This is an optional parameter that sets the battery’s size to 40 if no value is provided. The method <code>describe_battery()</code> has been moved to this class as well <span class="CodeAnnotation" aria-label="annotation2">❷</span>.</p>
<p>In the <code>ElectricCar</code> class, we now add an attribute called <code>self.battery</code> <span class="CodeAnnotation" aria-label="annotation3">❸</span>. This line tells Python to create a new instance of <code>Battery</code> (with a default size of 40, because we’re not specifying a value) and assign that instance to the attribute <code>self.battery</code>. This will happen every time the <code>__init__()</code> method is called; any <code>ElectricCar</code> instance will now have a <code>Battery</code> instance created automatically.</p>
<p>We create an electric car and assign it to the variable <code>my_leaf</code>. When we want to describe the battery, we need to work through the car’s <code>battery</code> attribute:</p>
<pre><code>my_leaf.battery.describe_battery()</code></pre>
<p>This line tells Python to look at the instance <code>my_leaf</code>, find its <code>battery</code> attribute, and call the method <code>describe_battery()</code> that’s associated with the <code>Battery</code> instance assigned to the attribute.</p>
<p>The output is identical to what we saw previously:</p>
<pre><code>2024 Nissan Leaf
This car has a 40-kWh battery.</code></pre>
<p>This looks like a lot of extra work, but now we can describe the battery in as much detail as we want without cluttering the <code>ElectricCar</code> class. Let’s <span epub:type="pagebreak" title="172" id="Page_172"/>add another method to <code>Battery</code> that reports the range of the car based on the battery size:</p>
<pre><code><span class="LiteralGray">class Car:</span>
<em class="LiteralGrayItalic">    --snip--</em>

<span class="LiteralGray">class Battery:</span>
<em class="LiteralGrayItalic">    --snip--</em>

    def get_range(self):
        """Print a statement about the range this battery provides."""
        if self.battery_size == 40:
            range = 150
        elif self.battery_size == 65:
            range = 225

        print(f"This car can go about {range} miles on a full charge.")

<span class="LiteralGray">class ElectricCar(Car):</span>
<em class="LiteralGrayItalic">    --snip--</em>

<span class="LiteralGray">my_leaf = ElectricCar('nissan', 'leaf', 2024)</span>
<span class="LiteralGray">print(my_leaf.get_descriptive_name())</span>
<span class="LiteralGray">my_leaf.battery.describe_battery()</span>
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> my_leaf.battery.get_range()</code></pre>
<p>The new method <code>get_range()</code> performs some simple analysis. If the battery’s capacity is 40 kWh, <code>get_range()</code> sets the range to 150 miles, and if the capacity is 65 kWh, it sets the range to 225 miles. It then reports this value. When we want to use this method, we again have to call it through the car’s <code>battery</code> attribute <span class="CodeAnnotation" aria-label="annotation1">❶</span>.</p>
<p>The output tells us the range of the car based on its battery size:</p>
<pre><code>2024 Nissan Leaf
This car has a 40-kWh battery.
This car can go about 150 miles on a full charge.</code></pre>
<h3 id="h2-502703c09-0011">Modeling Real-World Objects</h3>
<p class="BodyFirst">As you begin to model more complicated things like electric cars, you’ll wrestle with interesting questions. Is the range of an electric car a property of the battery or of the car? If we’re only describing one car, it’s probably fine to maintain the association of the method <code>get_range()</code> with the <code>Battery</code> class. But if we’re describing a manufacturer’s entire line of cars, we probably want to move <code>get_range()</code> to the <code>ElectricCar</code> class. The <code>get_range()</code> method would still check the battery size before determining the range, but it would report a range specific to the kind of car it’s associated with. Alternatively, we could maintain the association of the <code>get_range()</code> method with the battery but pass it a parameter such as <code>car_model</code>. The <code>get_range()</code> method would then report a range based on the battery size and car model.</p>
<p>This brings you to an interesting point in your growth as a programmer. When you wrestle with questions like these, you’re thinking at a higher <span epub:type="pagebreak" title="173" id="Page_173"/>logical level rather than a syntax-focused level. You’re thinking not about Python, but about how to represent the real world in code. When you reach this point, you’ll realize there are often no right or wrong approaches to modeling real-world situations. Some approaches are more efficient than others, but it takes practice to find the most efficient representations. If your code is working as you want it to, you’re doing well! Don’t be discouraged if you find you’re ripping apart your classes and rewriting them several times using different approaches. In the quest to write accurate, efficient code, everyone goes through this process.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c09-17" class="BoxNumber">9-6. Ice Cream Stand:</span> An ice cream stand is a specific kind of restaurant. Write a class called <code>IceCreamStand</code> that inherits from the <code>Restaurant</code> class you wrote in Exercise 9-1 (<span class="xref" itemid="xref_target_page 162">page 162</span>) or Exercise 9-4 (<span class="xref" itemid="xref_target_page 166">page 166</span>). Either version of the class will work; just pick the one you like better. Add an attribute called <code>flavors</code> that stores a list of ice cream flavors. Write a method that displays these flavors. Create an instance of <code>IceCreamStand</code>, and call this method.</p>
<p class="BoxBodyCustom"><span id="h2-502703c09-18" class="BoxNumber">9-7. Admin:</span> An administrator is a special kind of user. Write a class called <code>Admin</code> that inherits from the <code>User</code> class you wrote in Exercise 9-3 (<span class="xref" itemid="xref_target_page 162">page 162</span>) or Exercise 9-5 (<span class="xref" itemid="xref_target_page 167">page 167</span>). Add an attribute, <code>privileges</code>, that stores a list of strings like <code>"can add post"</code>, <code>"can delete post"</code>, <code>"can ban user"</code>, and so on. Write a method called <code>show_privileges()</code> that lists the administrator’s set of privileges. Create an instance of <code>Admin</code>, and call your method.</p>
<p class="BoxBodyCustom"><span id="h2-502703c09-19" class="BoxNumber">9-8. Privileges:</span> Write a separate <code>Privileges</code> class. The class should have one attribute, <code>privileges</code>, that stores a list of strings as described in Exercise 9-7. Move the <code>show_privileges()</code> method to this class. Make a <code>Privileges</code> instance as an attribute in the <code>Admin</code> class. Create a new instance of <code>Admin</code> and use your method to show its privileges.</p>
<p class="BoxBodyCustom"><span id="h2-502703c09-20" class="BoxNumber">9-9. Battery Upgrade:</span> Use the final version of <em>electric_car.py</em> from this section. Add a method to the <code>Battery</code> class called <code>upgrade_battery()</code>. This method should check the battery size and set the capacity to 65 if it isn’t already. Make an electric car with a default battery size, call <code>get_range()</code> once, and then call <code>get_range()</code> a second time after upgrading the battery. You should see an increase in the car’s range.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c09-0004">Importing Classes</h2>
<p class="BodyFirst">As you add more functionality to your classes, your files can get long, even when you use inheritance and composition properly. In keeping with the overall philosophy of Python, you’ll want to keep your files as uncluttered as possible. To help, Python lets you store classes in modules and then import the classes you need into your main program.</p>
<h3 id="h2-502703c09-0012"><span epub:type="pagebreak" title="174" id="Page_174"/>Importing a Single Class</h3>
<p class="BodyFirst">Let’s create a module containing just the <code>Car</code> class. This brings up a subtle naming issue: we already have a file named <em>car.py</em> in this chapter, but this module should be named <em>car.py</em> because it contains code representing a car. We’ll resolve this naming issue by storing the <code>Car</code> class in a module named <em>car.py</em>, replacing the <em>car.py</em> file we were previously using. From now on, any program that uses this module will need a more specific filename, such as <em>my_car.py</em>. Here’s <em>car.py</em> with just the code from the class <code>Car</code>:</p>
<p class="CodeLabel"><b>car.py</b></p>
<pre><code><span class="CodeAnnotationHang" aria-label="annotation1">❶</span> """A class that can be used to represent a car."""

<span class="LiteralGray">class Car:</span>
<span class="LiteralGray">    """A simple attempt to represent a car."""</span>

<span class="LiteralGray">    def __init__(self, make, model, year):</span>
<span class="LiteralGray">        """Initialize attributes to describe a car."""</span>
<span class="LiteralGray">        self.make = make</span>
<span class="LiteralGray">        self.model = model</span>
<span class="LiteralGray">        self.year = year</span>
<span class="LiteralGray">        self.odometer_reading = 0</span>

<span class="LiteralGray">    def get_descriptive_name(self):</span>
<span class="LiteralGray">        """Return a neatly formatted descriptive name."""</span>
<span class="LiteralGray">        long_name = f"{self.year} {self.make} {self.model}"</span>
<span class="LiteralGray">        return long_name.title()</span>

<span class="LiteralGray">    def read_odometer(self):</span>
<span class="LiteralGray">        """Print a statement showing the car's mileage."""</span>
<span class="LiteralGray">        print(f"This car has {self.odometer_reading} miles on it.")</span>

<span class="LiteralGray">    def update_odometer(self, mileage):</span>
<span class="LiteralGray">        """</span>
<span class="LiteralGray">        Set the odometer reading to the given value.</span>
<span class="LiteralGray">        Reject the change if it attempts to roll the odometer back.</span>
<span class="LiteralGray">        """</span>
<span class="LiteralGray">        if mileage &gt;= self.odometer_reading:</span>
<span class="LiteralGray">            self.odometer_reading = mileage</span>
<span class="LiteralGray">        else:</span>
<span class="LiteralGray">            print("You can't roll back an odometer!")</span>

<span class="LiteralGray">    def increment_odometer(self, miles):</span>
<span class="LiteralGray">        """Add the given amount to the odometer reading."""</span>
<span class="LiteralGray">        self.odometer_reading += miles</span></code></pre>
<p>We include a module-level docstring that briefly describes the contents of this module <span class="CodeAnnotation" aria-label="annotation1">❶</span>. You should write a docstring for each module you create.</p>
<p>Now we make a separate file called <em>my_car.py</em>. This file will import the <code>Car</code> class and then create an instance from that class:</p>
<p class="CodeLabel"><b>my_car.py</b></p>
<pre><code><span class="CodeAnnotationHang" aria-label="annotation1">❶</span> from car import Car

my_new_car = Car('audi', 'a4', 2024)
print(my_new_car.get_descriptive_name())

<span epub:type="pagebreak" title="175" id="Page_175"/>my_new_car.odometer_reading = 23
my_new_car.read_odometer()</code></pre>
<p>The <code>import</code> statement <span class="CodeAnnotation" aria-label="annotation1">❶</span> tells Python to open the <code>car</code> module and import the class <code>Car</code>. Now we can use the <code>Car</code> class as if it were defined in this file. The output is the same as we saw earlier:</p>
<pre><code>2024 Audi A4
This car has 23 miles on it.</code></pre>
<p>Importing classes is an effective way to program. Picture how long this program file would be if the entire <code>Car</code> class were included. When you instead move the class to a module and import the module, you still get all the same functionality, but you keep your main program file clean and easy to read. You also store most of the logic in separate files; once your classes work as you want them to, you can leave those files alone and focus on the higher-level logic of your main program.</p>
<h3 id="h2-502703c09-0013">Storing Multiple Classes in a Module</h3>
<p class="BodyFirst">You can store as many classes as you need in a single module, although each class in a module should be related somehow. The classes <code>Battery</code> and <code>ElectricCar</code> both help represent cars, so let’s add them to the module <em>car.py</em>.</p>
<p class="CodeLabel"><b>car.py</b></p>
<pre><code>"""A set of classes used to represent gas and electric cars."""

<span class="LiteralGray">class Car:</span>
<em class="LiteralGrayItalic">    --snip--</em>

<span class="LiteralGray">class Battery:</span>
<span class="LiteralGray">    """A simple attempt to model a battery for an electric car."""</span>

<span class="LiteralGray">    def __init__(self, battery_size=40):</span>
<span class="LiteralGray">        """Initialize the battery's attributes."""</span>
<span class="LiteralGray">        self.battery_size = battery_size</span>

<span class="LiteralGray">    def describe_battery(self):</span>
<span class="LiteralGray">        """Print a statement describing the battery size."""</span>
<span class="LiteralGray">        print(f"This car has a {self.battery_size}-kWh battery.")</span>

<span class="LiteralGray">    def get_range(self):</span>
<span class="LiteralGray">        """Print a statement about the range this battery provides."""</span>
<span class="LiteralGray">        if self.battery_size == 40:</span>
<span class="LiteralGray">            range = 150</span>
<span class="LiteralGray">        elif self.battery_size == 65:</span>
<span class="LiteralGray">            range = 225</span>

<span class="LiteralGray">        print(f"This car can go about {range} miles on a full charge.")</span>

<span class="LiteralGray">class ElectricCar(Car):</span>
<span class="LiteralGray">    """Models aspects of a car, specific to electric vehicles."""</span>

<span class="LiteralGray">    def __init__(self, make, model, year):</span>
<span class="LiteralGray">        """</span>
<span epub:type="pagebreak" title="176" id="Page_176"/><span class="LiteralGray">        Initialize attributes of the parent class.</span>
<span class="LiteralGray">        Then initialize attributes specific to an electric car.</span>
<span class="LiteralGray">        """</span>
<span class="LiteralGray">        super().__init__(make, model, year)</span>
<span class="LiteralGray">        self.battery = Battery()</span></code></pre>
<p>Now we can make a new file called <em>my_electric_car.py</em>, import the <code>ElectricCar</code> class, and make an electric car:</p>
<p class="CodeLabel"><b>my_electric_car.py</b></p>
<pre><code>from car import ElectricCar

my_leaf = ElectricCar('nissan', 'leaf', 2024)
print(my_leaf.get_descriptive_name())
my_leaf.battery.describe_battery()
my_leaf.battery.get_range()</code></pre>
<p>This has the same output we saw earlier, even though most of the logic is hidden away in a module:</p>
<pre><code>2024 Nissan Leaf
This car has a 40-kWh battery.
This car can go about 150 miles on a full charge.</code></pre>
<h3 id="h2-502703c09-0014">Importing Multiple Classes from a Module</h3>
<p class="BodyFirst">You can import as many classes as you need into a program file. If we want to make a regular car and an electric car in the same file, we need to import both classes, <code>Car</code> and <code>ElectricCar</code>:</p>
<p class="CodeLabel"><b>my_cars.py</b></p>
<pre><code><span class="CodeAnnotationHang" aria-label="annotation1">❶</span> from car import Car, ElectricCar

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> my_mustang = Car('ford', 'mustang', 2024)
print(my_mustang.get_descriptive_name())
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> my_leaf = ElectricCar('nissan', 'leaf', 2024)
print(my_leaf.get_descriptive_name())</code></pre>
<p>You import multiple classes from a module by separating each class with a comma <span class="CodeAnnotation" aria-label="annotation1">❶</span>. Once you’ve imported the necessary classes, you’re free to make as many instances of each class as you need.</p>
<p>In this example we make a gas-powered Ford Mustang <span class="CodeAnnotation" aria-label="annotation2">❷</span> and then an electric Nissan Leaf <span class="CodeAnnotation" aria-label="annotation3">❸</span>:</p>
<pre><code>2024 Ford Mustang
2024 Nissan Leaf</code></pre>
<h3 id="h2-502703c09-0015">Importing an Entire Module</h3>
<p class="BodyFirst">You can also import an entire module and then access the classes you need using dot notation. This approach is simple and results in code that is easy to read. Because every call that creates an instance of a class includes the module name, you won’t have naming conflicts with any names used in the current file.</p>
<p><span epub:type="pagebreak" title="177" id="Page_177"/>Here’s what it looks like to import the entire <code>car</code> module and then create a regular car and an electric car:</p>
<p class="CodeLabel"><b>my_cars.py</b></p>
<pre><code><span class="CodeAnnotationHang" aria-label="annotation1">❶</span> import car

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> my_mustang = car.Car('ford', 'mustang', 2024)
<span class="LiteralGray">print(my_mustang.get_descriptive_name())</span>

<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> my_leaf = car.ElectricCar('nissan', 'leaf', 2024)
<span class="LiteralGray">print(my_leaf.get_descriptive_name())</span></code></pre>
<p>First we import the entire <code>car</code> module <span class="CodeAnnotation" aria-label="annotation1">❶</span>. We then access the classes we need through the <var>module_name</var>.<var>ClassName</var> syntax. We again create a Ford Mustang <span class="CodeAnnotation" aria-label="annotation2">❷</span>, and a Nissan Leaf <span class="CodeAnnotation" aria-label="annotation3">❸</span>.</p>
<h3 id="h2-502703c09-0016">Importing All Classes from a Module</h3>
<p class="BodyFirst">You can import every class from a module using the following syntax:</p>
<pre><code>from <var>module_name</var> import *</code></pre>
<p>This method is not recommended for two reasons. First, it’s helpful to be able to read the <code>import</code> statements at the top of a file and get a clear sense of which classes a program uses. With this approach it’s unclear which classes you’re using from the module. This approach can also lead to confusion with names in the file. If you accidentally import a class with the same name as something else in your program file, you can create errors that are hard to diagnose. I show this here because even though it’s not a recommended approach, you’re likely to see it in other people’s code at some point.</p>
<p>If you need to import many classes from a module, you’re better off importing the entire module and using the <var>module_name.ClassName</var> syntax. You won’t see all the classes used at the top of the file, but you’ll see clearly where the module is used in the program. You’ll also avoid the potential naming conflicts that can arise when you import every class in a module.</p>
<h3 id="h2-502703c09-0017">Importing a Module into a Module</h3>
<p class="BodyFirst">Sometimes you’ll want to spread out your classes over several modules to keep any one file from growing too large and avoid storing unrelated classes in the same module. When you store your classes in several modules, you may find that a class in one module depends on a class in another module. When this happens, you can import the required class into the first module.</p>
<p>For example, let’s store the <code>Car</code> class in one module and the <code>ElectricCar</code> and <code>Battery</code> classes in a separate module. We’ll make a new module called <em>electric_car.py</em>—replacing the <em>electric_car.py</em> file we created earlier—and copy just the <code>Battery</code> and <code>ElectricCar</code> classes into this file:</p>
<p class="CodeLabel"><b>electric_car.py</b></p>
<pre><code>"""A set of classes that can be used to represent electric cars."""

from car import Car

<span epub:type="pagebreak" title="178" id="Page_178"/><span class="LiteralGray">class Battery:</span>
<em class="LiteralGrayItalic">    --snip--</em>

<span class="LiteralGray">class ElectricCar(Car):</span>
<em class="LiteralGrayItalic">    --snip--</em></code></pre>
<p>The class <code>ElectricCar</code> needs access to its parent class <code>Car</code>, so we import <code>Car</code> directly into the module. If we forget this line, Python will raise an error when we try to import the <code>electric_car</code> module. We also need to update the <code>Car</code> module so it contains only the <code>Car</code> class:</p>
<p class="CodeLabel"><b>car.py</b></p>
<pre><code>"""A class that can be used to represent a car."""

<span class="LiteralGray">class Car:</span>
<em class="LiteralGrayItalic">    --snip--</em></code></pre>
<p>Now we can import from each module separately and create whatever kind of car we need:</p>
<p class="CodeLabel"><b>my_cars.py</b></p>
<pre><code>from car import Car
from electric_car import ElectricCar

my_mustang = Car('ford', 'mustang', 2024)
print(my_mustang.get_descriptive_name())

my_leaf = ElectricCar('nissan', 'leaf', 2024)
print(my_leaf.get_descriptive_name())</code></pre>
<p>We import <code>Car</code> from its module, and <code>ElectricCar</code> from its module. We then create one regular car and one electric car. Both cars are created correctly:</p>
<pre><code>2024 Ford Mustang
2024 Nissan Leaf</code></pre>
<h3 id="h2-502703c09-0018">Using Aliases</h3>
<p class="BodyFirst">As you saw in <span class="xref" itemid="xref_target_Chapter 8">Chapter 8</span>, aliases can be quite helpful when using modules to organize your projects’ code. You can use aliases when importing classes as well.</p>
<p>As an example, consider a program where you want to make a bunch of electric cars. It might get tedious to type (and read) <code>ElectricCar</code> over and over again. You can give <code>ElectricCar</code> an alias in the import statement:</p>
<pre><code>from electric_car import ElectricCar as EC</code></pre>
<p>Now you can use this alias whenever you want to make an electric car:</p>
<pre><code>my_leaf = EC('nissan', 'leaf', 2024)</code></pre>
<p><span epub:type="pagebreak" title="179" id="Page_179"/>You can also give a module an alias. Here’s how to import the entire <code>electric_car</code> module using an alias:</p>
<pre><code>import electric_car as ec</code></pre>
<p>Now you can use this module alias with the full class name:</p>
<pre><code>my_leaf = ec.ElectricCar('nissan', 'leaf', 2024)</code></pre>
<h3 id="h2-502703c09-0019">Finding Your Own Workflow</h3>
<p class="BodyFirst">As you can see, Python gives you many options for how to structure code in a large project. It’s important to know all these possibilities so you can determine the best ways to organize your projects as well as understand other people’s projects.</p>
<p>When you’re starting out, keep your code structure simple. Try doing everything in one file and moving your classes to separate modules once everything is working. If you like how modules and files interact, try storing your classes in modules when you start a project. Find an approach that lets you write code that works, and go from there.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c09-29" class="BoxNumber">9-10. Imported Restaurant:</span> Using your latest <code>Restaurant</code> class, store it in a module. Make a separate file that imports <code>Restaurant</code>. Make a <code>Restaurant</code> instance, and call one of <code>Restaurant</code>’s methods to show that the <code>import</code> statement is working properly.</p>
<p class="BoxBodyCustom"><span id="h2-502703c09-30" class="BoxNumber">9-11. Imported Admin:</span> Start with your work from Exercise 9-8 (<span class="xref" itemid="xref_target_page 173">page 173</span>). Store the classes <code>User</code>, <code>Privileges</code>, and <code>Admin</code> in one module. Create a separate file, make an <code>Admin</code> instance, and call <code>show_privileges()</code> to show that everything is working correctly.</p>
<p class="BoxBodyCustom"><span id="h2-502703c09-31" class="BoxNumber">9-12. Multiple Modules:</span> Store the <code>User</code> class in one module, and store the <code>Privileges</code> and <code>Admin</code> classes in a separate module. In a separate file, create an <code>Admin</code> instance and call <code>show_privileges()</code> to show that everything is still working correctly.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c09-0005">The Python Standard Library</h2>
<p class="BodyFirst">The <em>Python standard library</em> is a set of modules included with every Python installation. Now that you have a basic understanding of how functions and classes work, you can start to use modules like these that other programmers have written. You can use any function or class in the standard library by including a simple <code>import</code> statement at the top of your file. Let’s look at one module, <code>random</code>, which can be useful in modeling many real-world situations.</p>
<p><span epub:type="pagebreak" title="180" id="Page_180"/>One interesting function from the random module is <code>randint()</code>. This function takes two integer arguments and returns a randomly selected integer between (and including) those numbers.</p>
<p>Here’s how to generate a random number between 1 and 6:</p>
<pre><code>&gt;&gt;&gt; <b>from random import randint</b>
&gt;&gt;&gt; <b>randint(1, 6)</b>
3</code></pre>
<p>Another useful function is <code>choice()</code>. This function takes in a list or tuple and returns a randomly chosen element:</p>
<pre><code>&gt;&gt;&gt; <b>from random import choice</b>
&gt;&gt;&gt; <b>players = ['charles', 'martina', 'michael', 'florence', 'eli']</b>
&gt;&gt;&gt; <b>first_up = choice(players)</b>
&gt;&gt;&gt; <b>first_up</b>
'florence'</code></pre>
<p>The <code>random</code> module shouldn’t be used when building security-related applications, but it works well for many fun and interesting projects.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	You can also download modules from external sources. You’ll see a number of these examples in Part II, where we’ll need external modules to complete each project.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2> Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c09-32" class="BoxNumber">9-13. Dice:</span> Make a class <code>Die</code> with one attribute called <code>sides</code>, which has a default value of 6. Write a method called <code>roll_die()</code> that prints a random number between 1 and the number of sides the die has. Make a 6-sided die and roll it 10 times.</p>
<p class="BoxBody">Make a 10-sided die and a 20-sided die. Roll each die 10 times.</p>
<p class="BoxBodyCustom"><span id="h2-502703c09-33" class="BoxNumber">9-14. Lottery:</span> Make a list or tuple containing a series of 10 numbers and 5 letters. Randomly select 4 numbers or letters from the list and print a message saying that any ticket matching these 4 numbers or letters wins a prize.</p>
<p class="BoxBodyCustom"><span id="h2-502703c09-34" class="BoxNumber">9-15. Lottery Analysis:</span> You can use a loop to see how hard it might be to win the kind of lottery you just modeled. Make a list or tuple called <code>my_ticket</code>. Write a loop that keeps pulling numbers until your ticket wins. Print a message reporting how many times the loop had to run to give you a winning ticket.</p>
<p class="BoxBodyCustom"><span id="h2-502703c09-35" class="BoxNumber">9-16. Python Module of the Week:</span> One excellent resource for exploring the Python standard library is a site called <em>Python Module of the Week</em>. Go to <a href="https://pymotw.com" class="LinkURL">https://pymotw.com</a> and look at the table of contents. Find a module that looks interesting to you and read about it, perhaps starting with the <code>random</code> module.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c09-0006"><span epub:type="pagebreak" title="181" id="Page_181"/>Styling Classes</h2>
<p class="BodyFirst">A few styling issues related to classes are worth clarifying, especially as your programs become more complicated.</p>
<p>Class names should be written in <em>CamelCase</em>. To do this, capitalize the first letter of each word in the name, and don’t use underscores. Instance and module names should be written in lowercase, with underscores between words.</p>
<p>Every class should have a docstring immediately following the class definition. The docstring should be a brief description of what the class does, and you should follow the same formatting conventions you used for writing docstrings in functions. Each module should also have a docstring describing what the classes in a module can be used for.</p>
<p>You can use blank lines to organize code, but don’t use them excessively. Within a class you can use one blank line between methods, and within a module you can use two blank lines to separate classes.</p>
<p>If you need to import a module from the standard library and a module that you wrote, place the import statement for the standard library module first. Then add a blank line and the import statement for the module you wrote. In programs with multiple import statements, this convention makes it easier to see where the different modules used in the program come from.</p>
<h2 id="h1-502703c09-0007">Summary</h2>
<p class="BodyFirst">In this chapter, you learned how to write your own classes. You learned how to store information in a class using attributes and how to write methods that give your classes the behavior they need. You learned to write <code>__init__()</code> methods that create instances from your classes with exactly the attributes you want. You saw how to modify the attributes of an instance directly and through methods. You learned that inheritance can simplify the creation of classes that are related to each other, and you learned to use instances of one class as attributes in another class to keep each class simple.</p>
<p>You saw how storing classes in modules and importing classes you need into the files where they’ll be used can keep your projects organized. You started learning about the Python standard library, and you saw an example based on the <code>random</code> module. Finally, you learned to style your classes using Python conventions.</p>
<p>In <span class="xref" itemid="xref_target_Chapter 10">Chapter 10</span>, you’ll learn to work with files so you can save the work you’ve done in a program and the work you’ve allowed users to do. You’ll also learn about <em>exceptions</em>, a special Python class designed to help you respond to errors when they arise.</p>
</section>
</div>
<div id="sbo-rt-content"><section>
<header>
<h1 class="chapter">
<span class="ChapterNumber"><span epub:type="pagebreak" title="183" id="Page_183"/>10</span><br/>
<span class="ChapterTitle">Files and Exceptions</span></h1>
</header>
<figure class="opener">
<img src="Images/chapterart.png" alt="" width="406" height="406"/>
</figure>
<p class="ChapterIntro">Now that you’ve mastered the basic skills you need to write organized programs that are easy to use, it’s time to think about making your programs even more relevant and usable. In this chapter, you’ll learn to work with files so your programs can quickly analyze lots of data.</p>
<p>You’ll learn to handle errors so your programs don’t crash when they encounter unexpected situations. You’ll learn about <em>exceptions</em>, which are special objects Python creates to manage errors that arise while a program is running. You’ll also learn about the <code>json</code> module, which allows you to save user data so it isn’t lost when your program stops running.</p>
<p>Learning to work with files and save data will make your programs easier for people to use. Users will be able to choose what data to enter and when to enter it. People will be able to run your program, do some work, and then close the program and pick up where they left off. Learning to handle exceptions will help you deal with situations in which files don’t exist and deal with other problems that can cause your programs to crash. This will make your programs more robust when they encounter bad data, whether it comes from <span epub:type="pagebreak" title="184" id="Page_184"/>innocent mistakes or from malicious attempts to break your programs. With the skills you’ll learn in this chapter, you’ll make your programs more applicable, usable, and stable.</p>
<h2 id="h1-502703c10-0001">Reading from a File</h2>
<p class="BodyFirst">An incredible amount of data is available in text files. Text files can contain weather data, traffic data, socioeconomic data, literary works, and more. Reading from a file is particularly useful in data analysis applications, but it’s also applicable to any situation in which you want to analyze or modify information stored in a file. For example, you can write a program that reads in the contents of a text file and rewrites the file with formatting that allows a browser to display it.</p>
<p>When you want to work with the information in a text file, the first step is to read the file into memory. You can then work through all of the file’s contents at once or work through the contents line by line.</p>
<h3 id="h2-502703c10-0001">Reading the Contents of a File</h3>
<p class="BodyFirst">To begin, we need a file with a few lines of text in it. Let’s start with a file that contains <em>pi</em> to 30 decimal places, with 10 decimal places per line:</p>
<p class="CodeLabel"><b>pi_digits.txt</b></p>
<pre><code>3.1415926535
  8979323846
  2643383279</code></pre>
<p>To try the following examples yourself, you can enter these lines in an editor and save the file as <em>pi_digits.txt</em>, or you can download the file from the book’s resources through <a href="https://ehmatthes.github.io/pcc_3e" class="LinkURL">https://ehmatthes.github.io/pcc_3e</a>. Save the file in the same directory where you’ll store this chapter’s programs.</p>
<p>Here’s a program that opens this file, reads it, and prints the contents of the file to the screen:</p>
<p class="CodeLabel"><b>file_reader.py</b></p>
<pre><code>from pathlib import Path

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> path = Path('pi_digits.txt')
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> contents = path.read_text()
print(contents)</code></pre>
<p>To work with the contents of a file, we need to tell Python the path to the file. A <em>path</em> is the exact location of a file or folder on a system. Python provides a module called <code>pathlib</code> that makes it easier to work with files and directories, no matter which operating system you or your program’s users are working with. A module that provides specific functionality like this is often called a <em>library</em>, hence the name <code>pathlib</code>.</p>
<p>We start by importing the <code>Path</code> class from <code>pathlib</code>. There’s a lot you can do with a <code>Path</code> object that points to a file. For example, you can check that the file exists before working with it, read the file’s contents, or write new data to the file. Here, we build a <code>Path</code> object representing the file <em>pi_digits.txt</em>, which we assign to the variable <code>path</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>. Since this file is saved in the same <span epub:type="pagebreak" title="185" id="Page_185"/>directory as the <em>.py</em> file we’re writing, the filename is all that <code>Path</code> needs to access the file.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	VS Code looks for files in the folder that was most recently opened. If you’re using VS Code, start by opening the folder where you’re storing this chapter’s programs. For example, if you’re saving your program files in a folder called <em>chapter_10</em>, press CTRL-O (⌘-O on macOS), and open that folder.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<p>Once we have a <code>Path</code> object representing <em>pi_digits.txt</em>, we use the <code>read_text()</code> method to read the entire contents of the file <span class="CodeAnnotation" aria-label="annotation2">❷</span>. The contents of the file are returned as a single string, which we assign to the variable <code>contents</code>. When we print the value of <code>contents</code>, we see the entire contents of the text file:</p>
<pre><code>3.1415926535
  8979323846
  2643383279

</code></pre>
<p>The only difference between this output and the original file is the extra blank line at the end of the output. The blank line appears because <code>read_text()</code> returns an empty string when it reaches the end of the file; this empty string shows up as a blank line.</p>
<p>We can remove the extra blank line by using <code>rstrip()</code> on the <code>contents</code> string:</p>
<pre><code><span class="LiteralGray">from pathlib import Path</span>

<span class="LiteralGray">path = Path('pi_digits.txt')</span>
<span class="LiteralGray">contents = path.read_text()</span>
contents = contents.rstrip()
<span class="LiteralGray">print(contents)</span></code></pre>
<p>Recall from <span class="xref" itemid="xref_target_Chapter 2">Chapter 2</span> that Python’s <code>rstrip()</code> method removes, or strips, any whitespace characters from the right side of a string. Now the output matches the contents of the original file exactly:</p>
<pre><code>3.1415926535
  8979323846
  2643383279</code></pre>
<p>We can strip the trailing newline character when we read the contents of the file, by applying the <code>rstrip()</code> method immediately after calling <code>read_text()</code>:</p>
<pre><code>contents = path.read_text().rstrip()</code></pre>
<p>This line tells Python to call the <code>read_text()</code> method on the file we’re working with. Then it applies the <code>rstrip()</code> method to the string that <code>read_text()</code> returns. The cleaned-up string is then assigned to the variable <code>contents</code>. This approach is called <em>method chaining</em>, and you’ll see it used often in programming.</p>
<h3 id="h2-502703c10-0002"><span epub:type="pagebreak" title="186" id="Page_186"/>Relative and Absolute File Paths</h3>
<p class="BodyFirst">When you pass a simple filename like <em>pi_digits.txt</em> to <code>Path</code>, Python looks in the directory where the file that’s currently being executed (that is, your <em>.py</em> program file) is stored.</p>
<p>Sometimes, depending on how you organize your work, the file you want to open won’t be in the same directory as your program file. For example, you might store your program files in a folder called <em>python_work</em>; inside <em>python_work</em>, you might have another folder called <em>text_files</em> to distinguish your program files from the text files they’re manipulating. Even though <em>text_files</em> is in <em>python_work</em>, just passing <code>Path</code> the name of a file in <em>text_files</em> won’t work, because Python will only look in <em>python_work </em>and stop there; it won’t go on and look in <em>text_files.</em> To get Python to open files from a directory other than the one where your program file is stored, you need to provide the correct path.</p>
<p>There are two main ways to specify paths in programming. A <em>relative file path</em> tells Python to look for a given location relative to the directory where the currently running program file is stored. Since <em>text_files</em> is inside <em>python_work</em>, we need to build a path that starts with the directory <em>text_files</em>, and ends with the filename. Here’s how to build this path:</p>
<pre><code>path = Path('text_files/<var>filename</var>.txt')</code></pre>
<p>You can also tell Python exactly where the file is on your computer, regardless of where the program that’s being executed is stored. This is called an <em>absolute file path</em>. You can use an absolute path if a relative path doesn’t work. For instance, if you’ve put <em>text_files</em> in some folder other than <em>python_work</em>, then just passing <code>Path</code> the path <code>'text_files/</code><var>filename</var><code>.txt'</code> won’t work because Python will only look for that location inside <em>python_work</em>. You’ll need to write out an absolute path to clarify where you want Python to look.</p>
<p>Absolute paths are usually longer than relative paths, because they start at your system’s root folder:</p>
<pre><code>path = Path('/home/eric/data_files/text_files/<var>filename</var>.txt')</code></pre>
<p>Using absolute paths, you can read files from any location on your system. For now it’s easiest to store files in the same directory as your program files, or in a folder such as <em>text_files</em> within the directory that stores your program files.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	Windows systems use a backslash (<code>\</code>) instead of a forward slash (<code>/</code>) when displaying file paths, but you should use forward slashes in your code, even on Windows. The <code>pathlib</code> library will automatically use the correct representation of the path when it interacts with your system, or any user’s system.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c10-0003">Accessing a File’s Lines</h3>
<p class="BodyFirst">When you’re working with a file, you’ll often want to examine each line of the file. You might be looking for certain information in the file, or <span epub:type="pagebreak" title="187" id="Page_187"/>you might want to modify the text in the file in some way. For example, you might want to read through a file of weather data and work with any line that includes the word <em>sunny</em> in the description of that day’s weather. In a news report, you might look for any line with the tag <code>&lt;headline&gt;</code> and rewrite that line with a specific kind of formatting.</p>
<p>You can use the <code>splitlines()</code> method to turn a long string into a set of lines, and then use a <code>for</code> loop to examine each line from a file, one at a time:</p>
<p class="CodeLabel"><b> file_reader.py</b></p>
<pre><code><span class="LiteralGray">from pathlib import Path</span>

<span class="LiteralGray">path = Path('pi_digits.txt')</span>
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> contents = path.read_text()

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> lines = contents.splitlines()
for line in lines:
    print(line)</code></pre>
<p>We start out by reading the entire contents of the file, as we did earlier <span class="CodeAnnotation" aria-label="annotation1">❶</span>. If you’re planning to work with the individual lines in a file, you don’t need to strip any whitespace when reading the file. The <code>splitlines()</code> method returns a list of all lines in the file, and we assign this list to the variable <code>lines</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span>. We then loop over these lines and print each one:</p>
<pre><code>3.1415926535
  8979323846
  2643383279</code></pre>
<p>Since we haven’t modified any of the lines, the output matches the original text file exactly.</p>
<h3 id="h2-502703c10-0004">Working with a File’s Contents</h3>
<p class="BodyFirst">After you’ve read the contents of a file into memory, you can do whatever you want with that data, so let’s briefly explore the digits of <em>pi</em>. First, we’ll attempt to build a single string containing all the digits in the file with no whitespace in it:</p>
<p class="CodeLabel"><b>pi_string.py</b></p>
<pre><code><span class="LiteralGray">from pathlib import Path</span>

<span class="LiteralGray">path = Path('pi_digits.txt')</span>
<span class="LiteralGray">contents = path.read_text()</span>

<span class="LiteralGray">lines = contents.splitlines()</span>
pi_string = ''
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> for line in lines:
    pi_string += line

print(pi_string)
print(len(pi_string))</code></pre>
<p>We start by reading the file and storing each line of digits in a list, just as we did in the previous example. We then create a variable, <code>pi_string</code>, <span epub:type="pagebreak" title="188" id="Page_188"/>to hold the digits of <em>pi</em>. We write a loop that adds each line of digits to <code>pi_string</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>. We print this string, and also show how long the string is:</p>
<pre><code>3.1415926535  8979323846  2643383279
36</code></pre>
<p>The variable <code>pi_string</code> contains the whitespace that was on the left side of the digits in each line, but we can get rid of that by using <code>lstrip()</code> on each line:</p>
<pre><code><em class="LiteralGrayItalic">--snip--</em>
<span class="LiteralGray">for line in lines:</span>
<span class="LiteralGray">    </span>pi_string += line.lstrip()

<span class="LiteralGray">print(pi_string)</span>
<span class="LiteralGray">print(len(pi_string))</span></code></pre>
<p>Now we have a string containing <em>pi</em> to 30 decimal places. The string is 32 characters long because it also includes the leading <code>3</code> and a decimal point:</p>
<pre><code>3.141592653589793238462643383279
32</code></pre>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	When Python reads from a text file, it interprets all text in the file as a string. If you read in a number and want to work with that value in a numerical context, you’ll have to convert it to an integer using the <code>int()</code> function or a float using the <code>float()</code> function.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c10-0005">Large Files: One Million Digits</h3>
<p class="BodyFirst">So far, we’ve focused on analyzing a text file that contains only three lines, but the code in these examples would work just as well on much larger files. If we start with a text file that contains <em>pi</em> to 1,000,000 decimal places, instead of just 30, we can create a single string containing all these digits. We don’t need to change our program at all, except to pass it a different file. We’ll also print just the first 50 decimal places, so we don’t have to watch a million digits scroll by in the terminal:</p>
<p class="CodeLabel"><b>pi_string.py</b></p>
<pre><code><span class="LiteralGray">from pathlib import Path</span>

path = Path('pi_million_digits.txt')
<span class="LiteralGray">contents = path.read_text()</span>

<span class="LiteralGray">lines = contents.splitlines()</span>
<span class="LiteralGray">pi_string = ''</span>
<span class="LiteralGray">for line in lines:</span>
<span class="LiteralGray">    pi_string += line.lstrip()</span>

print(f"{pi_string[:52]}...")
<span class="LiteralGray">print(len(pi_string))</span></code></pre>
<p><span epub:type="pagebreak" title="189" id="Page_189"/>The output shows that we do indeed have a string containing <em>pi</em> to 1,000,000 decimal places:</p>
<pre><code>3.14159265358979323846264338327950288419716939937510...
1000002</code></pre>
<p>Python has no inherent limit to how much data you can work with; you can work with as much data as your system’s memory can handle.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	To run this program (and many of the examples that follow), you’ll need to download the resources available at <a href="https://ehmatthes.github.io/pcc_3e" class="LinkURL">https://ehmatthes.github.io/pcc_3e</a>.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c10-0006">Is Your Birthday Contained in Pi?</h3>
<p class="BodyFirst">I’ve always been curious to know if my birthday appears anywhere in the digits of <em>pi</em>. Let’s use the program we just wrote to find out if someone’s birthday appears anywhere in the first million digits of <em>pi</em>. We can do this by expressing each birthday as a string of digits and seeing if that string appears anywhere in <code>pi_string</code>:</p>
<p class="CodeLabel"><b>pi_birthday.py</b></p>
<pre><code><em class="LiteralGrayItalic">--snip--</em>
<span class="LiteralGray">for line in lines:</span>
<span class="LiteralGray">    pi_string += line.strip()</span>

birthday = input("Enter your birthday, in the form mmddyy: ")
if birthday in pi_string:
    print("Your birthday appears in the first million digits of pi!")
else:
    print("Your birthday does not appear in the first million digits of pi.")</code></pre>
<p>We first prompt for the user’s birthday, and then check if that string is in <code>pi_string</code>. Let’s try it:</p>
<pre><code>Enter your birthdate, in the form mmddyy: <b>120372</b>
Your birthday appears in the first million digits of pi!</code></pre>
<p>My birthday does appear in the digits of <em>pi</em>! Once you’ve read from a file, you can analyze its contents in just about any way you can imagine.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c10-07" class="BoxNumber">10-1. Learning Python:</span> Open a blank file in your text editor and write a few lines summarizing what you’ve learned about Python so far. Start each line with the phrase <em>In Python you can. . . </em>. Save the file as <em>learning_python.txt</em> in the same directory as your exercises from this chapter. Write a program that reads the file and prints what you wrote two times: print the contents once by reading in the entire file, and once by storing the lines in a list and then looping over each line.</p>
<p class="BoxBodyCustom"><span id="h2-502703c10-08" class="BoxNumber">10-2.	<span epub:type="pagebreak" title="190" id="Page_190"/>Learning C:</span> You can use the <code>replace()</code> method to replace any word in a string with a different word. Here’s a quick example showing how to replace <code>'dog'</code> with <code>'cat'</code> in a sentence:</p>
<pre><code>&gt;&gt;&gt; <code class="bold">message = "I really like dogs."</code>
&gt;&gt;&gt; <code class="bold">message.replace('dog', 'cat')</code>
'I really like cats.'</code></pre>
<p class="BoxBody">Read in each line from the file you just created, <em>learning_python.txt</em>, and replace the word <em>Python</em> with the name of another language, such as <em>C</em>. Print each modified line to the screen.</p>
<p class="BoxBodyCustom"><span id="h2-502703c10-09" class="BoxNumber">10-3.	Simpler Code</span>: The program <em>file_reader.py</em> in this section uses a temporary variable, <code>lines</code>, to show how <code>splitlines()</code> works. You can skip the temporary variable and loop directly over the list that <code>splitlines()</code> returns:</p>
<pre><code>for line in contents.splitlines():</code></pre>
<p class="BoxBody">Remove the temporary variable from each of the programs in this section, to make them more concise.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c10-0002">Writing to a File</h2>
<p class="BodyFirst">One of the simplest ways to save data is to write it to a file. When you write text to a file, the output will still be available after you close the terminal containing your program’s output. You can examine output after a program finishes running, and you can share the output files with others as well. You can also write programs that read the text back into memory and work with it again later.</p>
<h3 id="h2-502703c10-0007">Writing a Single Line</h3>
<p class="BodyFirst">Once you have a path defined, you can write to a file using the <code>write_text()</code> method. To see how this works, let’s write a simple message and store it in a file instead of printing it to the screen:</p>
<p class="CodeLabel"><b>write_message.py</b></p>
<pre><code>from pathlib import Path

path = Path('programming.txt')
path.write_text("I love programming.")</code></pre>
<p>The <code>write_text()</code> method takes a single argument: the string that you want to write to the file. This program has no terminal output, but if you open the file <em>programming.txt</em>, you’ll see one line:</p>
<p class="CodeLabel"><b>programming.txt</b></p>
<pre><code>I love programming.</code></pre>
<p><span epub:type="pagebreak" title="191" id="Page_191"/>This file behaves like any other file on your computer. You can open it, write new text in it, copy from it, paste to it, and so forth.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	Python can only write strings to a text file. If you want to store numerical data in a text file, you’ll have to convert the data to string format first using the <code>str()</code> function.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c10-0008">Writing Multiple Lines</h3>
<p class="BodyFirst">The <code>write_text()</code> method does a few things behind the scenes. If the file that <code>path</code> points to doesn’t exist, it creates that file. Also, after writing the string to the file, it makes sure the file is closed properly. Files that aren’t closed properly can lead to missing or corrupted data.</p>
<p>To write more than one line to a file, you need to build a string containing the entire contents of the file, and then call <code>write_text()</code> with that string. Let’s write several lines to the <em>programming.txt</em> file:</p>
<pre><code><span class="LiteralGray">from pathlib import Path</span>

contents = "I love programming.\n"
contents += "I love creating new games.\n"
contents += "I also love working with data.\n"

<span class="LiteralGray">path = Path('programming.txt')</span>
path.write_text(contents)</code></pre>
<p>We define a variable called <code>contents</code> that will hold the entire contents of the file. On the next line, we use the <code>+=</code> operator to add to this string. You can do this as many times as you need, to build strings of any length. In this case we include newline characters at the end of each line, to make sure each statement appears on its own line.</p>
<p>If you run this and then open <em>programming.txt</em>, you’ll see each of these lines in the text file:</p>
<pre><code>I love programming.
I love creating new games.
I also love working with data.</code></pre>
<p>You can also use spaces, tab characters, and blank lines to format your output, just as you’ve been doing with terminal-based output. There’s no limit to the length of your strings, and this is how many computer-generated documents are created.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	Be careful when calling <code>write_text()</code> on a path object. If the file already exists, <code>write_text()</code> will erase the current contents of the file and write new contents to the file. Later in this chapter, you’ll learn to check whether a file exists using <code>pathlib</code>.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2><span epub:type="pagebreak" title="192" id="Page_192"/>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c10-12" class="BoxNumber">10-4.	Guest:</span> Write a program that prompts the user for their name. When they respond, write their name to a file called <em>guest.txt</em>.</p>
<p class="BoxBodyCustom"><span id="h2-502703c10-13" class="BoxNumber">10-5.	Guest Book:</span> Write a <code>while</code> loop that prompts users for their name. Collect all the names that are entered, and then write these names to a file called <em>guest_book.txt</em>. Make sure each entry appears on a new line in the file.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c10-0003">Exceptions</h2>
<p class="BodyFirst">Python uses special objects called <em>exceptions</em> to manage errors that arise during a program’s execution. Whenever an error occurs that makes Python unsure of what to do next, it creates an exception object. If you write code that handles the exception, the program will continue running. If you don’t handle the exception, the program will halt and show a <em>traceback</em>, which includes a report of the exception that was raised.</p>
<p>Exceptions are handled with <code>try</code>-<code>except</code> blocks. A <em>try</em>-<em>except</em> block asks Python to do something, but it also tells Python what to do if an exception is raised. When you use <code>try</code>-<code>except</code> blocks, your programs will continue running even if things start to go wrong. Instead of tracebacks, which can be confusing for users to read, users will see friendly error messages that you’ve written.</p>
<h3 id="h2-502703c10-0009">Handling the ZeroDivisionError Exception</h3>
<p class="BodyFirst">Let’s look at a simple error that causes Python to raise an exception. You probably know that it’s impossible to divide a number by zero, but let’s ask Python to do it anyway:</p>
<p class="CodeLabel"><b>division_calculator.py</b></p>
<pre><code>print(5/0)</code></pre>
<p>Python can’t do this, so we get a traceback:</p>
<pre><code>Traceback (most recent call last):
  File "division_calculator.py", line 1, in &lt;module&gt;
    print(5/0)
          ~^~
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> ZeroDivisionError: division by zero</code></pre>
<p>The error reported in the traceback, <code>ZeroDivisionError</code>, is an exception object <span class="CodeAnnotation" aria-label="annotation1">❶</span>. Python creates this kind of object in response to a situation where it can’t do what we ask it to. When this happens, Python stops the program and tells us the kind of exception that was raised. We can use this information to modify our program. We’ll tell Python what to do when this kind of exception occurs; that way, if it happens again, we’ll be prepared.</p>
<h3 id="h2-502703c10-0010"><span epub:type="pagebreak" title="193" id="Page_193"/>Using try-except Blocks</h3>
<p class="BodyFirst">When you think an error may occur, you can write a <code>try</code>-<code>except</code> block to handle the exception that might be raised. You tell Python to try running some code, and you tell it what to do if the code results in a particular kind of exception.</p>
<p>Here’s what a <code>try</code>-<code>except</code> block for handling the <code>ZeroDivisionError</code> exception looks like:</p>
<pre><code>try:
    <span class="LiteralGray">print(5/0)</span>
except ZeroDivisionError:
    print("You can't divide by zero!")</code></pre>
<p>We put <code>print(5/0)</code>, the line that caused the error, inside a <code>try</code> block. If the code in a <code>try</code> block works, Python skips over the <code>except</code> block. If the code in the <code>try</code> block causes an error, Python looks for an <code>except</code> block whose error matches the one that was raised, and runs the code in that block.</p>
<p>In this example, the code in the <code>try</code> block produces a <code>ZeroDivisionError</code>, so Python looks for an <code>except</code> block telling it how to respond. Python then runs the code in that block, and the user sees a friendly error message instead of a traceback:</p>
<pre><code>You can't divide by zero!</code></pre>
<p>If more code followed the <code>try</code>-<code>except</code> block, the program would continue running because we told Python how to handle the error. Let’s look at an example where catching an error can allow a program to continue running.</p>
<h3 id="h2-502703c10-0011">Using Exceptions to Prevent Crashes</h3>
<p class="BodyFirst">Handling errors correctly is especially important when the program has more work to do after the error occurs. This happens often in programs that prompt users for input. If the program responds to invalid input appropriately, it can prompt for more valid input instead of crashing.</p>
<p>Let’s create a simple calculator that does only division:</p>
<p class="CodeLabel"><b>division_calculator.py</b></p>
<pre><code>print("Give me two numbers, and I'll divide them.")
print("Enter 'q' to quit.")

while True:
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     first_number = input("\nFirst number: ")
    if first_number == 'q':
        break
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     second_number = input("Second number: ")
    if second_number == 'q':
        break
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span>     answer = int(first_number) / int(second_number)
    print(answer)</code></pre>
<p><span epub:type="pagebreak" title="194" id="Page_194"/>This program prompts the user to input a <code>first_number</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span> and, if the user does not enter <code>q</code> to quit, a <code>second_number</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span>. We then divide these two numbers to get an <code>answer</code> <span class="CodeAnnotation" aria-label="annotation3">❸</span>. This program does nothing to handle errors, so asking it to divide by zero causes it to crash:</p>
<pre><code>Give me two numbers, and I'll divide them.
Enter 'q' to quit.

First number: <b>5</b>
Second number: <b>0</b>
Traceback (most recent call last):
  File "division_calculator.py", line 11, in &lt;module&gt;
    answer = int(first_number) / int(second_number)
             ~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero</code></pre>
<p>It’s bad that the program crashed, but it’s also not a good idea to let users see tracebacks. Nontechnical users will be confused by them, and in a malicious setting, attackers will learn more than you want them to. For example, they’ll know the name of your program file, and they’ll see a part of your code that isn’t working properly. A skilled attacker can sometimes use this information to determine which kind of attacks to use against your code.</p>
<h3 id="h2-502703c10-0012">The else Block</h3>
<p class="BodyFirst">We can make this program more error resistant by wrapping the line that might produce errors in a <code>try</code>-<code>except</code> block. The error occurs on the line that performs the division, so that’s where we’ll put the <code>try</code>-<code>except</code> block. This example also includes an <code>else</code> block. Any code that depends on the <code>try</code> block executing successfully goes in the <code>else</code> block:</p>
<pre><code><em class="LiteralGrayItalic">--snip--</em>
<span class="LiteralGray">while True:</span>
<span class="LiteralGray">    </span><em class="LiteralGrayItalic">--snip--</em>
<span class="LiteralGray">    if second_number == 'q':</span>
<span class="LiteralGray">        break</span>
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     try:
        <span class="LiteralGray">answer = int(first_number) / int(second_number)</span>
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     except ZeroDivisionError:
        print("You can't divide by 0!")
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span>     else:
<span class="LiteralGray">        print(answer)</span></code></pre>
<p>We ask Python to try to complete the division operation in a <code>try</code> block <span class="CodeAnnotation" aria-label="annotation1">❶</span>, which includes only the code that might cause an error. Any code that depends on the <code>try</code> block succeeding is added to the <code>else</code> block. In this case, if the division operation is successful, we use the <code>else</code> block to print the result <span class="CodeAnnotation" aria-label="annotation3">❸</span>.</p>
<p>The <code>except</code> block tells Python how to respond when a <code>ZeroDivisionError</code> arises <span class="CodeAnnotation" aria-label="annotation2">❷</span>. If the <code>try</code> block doesn’t succeed because of a division-by-zero error, <span epub:type="pagebreak" title="195" id="Page_195"/>we print a friendly message telling the user how to avoid this kind of error. The program continues to run, and the user never sees a traceback:</p>
<pre><code>Give me two numbers, and I'll divide them.
Enter 'q' to quit.

First number: <b>5</b>
Second number: <b>0</b>
You can't divide by 0!

First number: <b>5</b>
Second number: <b>2</b>
2.5

First number: <b>q</b></code></pre>
<p>The only code that should go in a <code>try</code> block is code that might cause an exception to be raised. Sometimes you’ll have additional code that should run only if the <code>try</code> block was successful; this code goes in the <code>else</code> block. The <code>except</code> block tells Python what to do in case a certain exception arises when it tries to run the code in the <code>try</code> block.</p>
<p>By anticipating likely sources of errors, you can write robust programs that continue to run even when they encounter invalid data and missing resources. Your code will be resistant to innocent user mistakes and malicious attacks.</p>
<h3 id="h2-502703c10-0013">Handling the FileNotFoundError Exception</h3>
<p class="BodyFirst">One common issue when working with files is handling missing files. The file you’re looking for might be in a different location, the filename might be misspelled, or the file might not exist at all. You can handle all of these situations with a <code>try</code>-<code>except</code> block.</p>
<p>Let’s try to read a file that doesn’t exist. The following program tries to read in the contents of <em>Alice in Wonderland</em>, but I haven’t saved the file <em>alice.txt</em> in the same directory as <em>alice.py</em>:</p>
<p class="CodeLabel"><b>alice.py</b></p>
<pre><code>from pathlib import Path

path = Path('alice.txt')
contents = path.read_text(encoding='utf-8')</code></pre>
<p>Note that we’re using <code>read_text()</code> in a slightly different way here than what you saw earlier. The <code>encoding</code> argument is needed when your system’s default encoding doesn’t match the encoding of the file that’s being read. This is most likely to happen when reading from a file that wasn’t created on your system.</p>
<p>Python can’t read from a missing file, so it raises an exception:</p>
<pre><code>Traceback (most recent call last):
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>   File "alice.py", line 4, in &lt;module&gt;
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     contents = path.read_text(encoding='utf-8')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<span epub:type="pagebreak" title="196" id="Page_196"/>  File "/.../pathlib.py", line 1056, in read_text
    with self.open(mode='r', encoding=encoding, errors=errors) as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/.../pathlib.py", line 1042, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> FileNotFoundError: [Errno 2] No such file or directory: 'alice.txt'</code></pre>
<p>This is a longer traceback than the ones we’ve seen previously, so let’s look at how you can make sense of more complex tracebacks. It’s often best to start at the very end of the traceback. On the last line, we can see that a <code>FileNotFoundError</code> exception was raised <span class="CodeAnnotation" aria-label="annotation3">❸</span>. This is important because it tells us what kind of exception to use in the <code>except</code> block that we’ll write.</p>
<p>Looking back near the beginning of the traceback <span class="CodeAnnotation" aria-label="annotation1">❶</span>, we can see that the error occurred at line 4 in the file <em>alice.py</em>. The next line shows the line of code that caused the error <span class="CodeAnnotation" aria-label="annotation2">❷</span>. The rest of the traceback shows some code from the libraries that are involved in opening and reading from files. You don’t usually need to read through or understand all of these lines in a traceback.</p>
<p>To handle the error that’s being raised, the <code>try</code> block will begin with the line that was identified as problematic in the traceback. In our example, this is the line that contains <code>read_text()</code>:</p>
<pre><code><span class="LiteralGray">from pathlib import Path</span>

<span class="LiteralGray">path = Path('alice.txt')</span>
try:
    <span class="LiteralGray">contents = path.read_text(encoding='utf-8')</span>
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> except FileNotFoundError:
    print(f"Sorry, the file {path} does not exist.")</code></pre>
<p>In this example, the code in the <code>try</code> block produces a <code>FileNotFoundError</code>, so we write an <code>except</code> block that matches that error <span class="CodeAnnotation" aria-label="annotation1">❶</span>. Python then runs the code in that block when the file can’t be found, and the result is a friendly error message instead of a traceback:</p>
<pre><code>Sorry, the file alice.txt does not exist.</code></pre>
<p>The program has nothing more to do if the file doesn’t exist, so this is all the output we see. Let’s build on this example and see how exception handling can help when you’re working with more than one file.</p>
<h3 id="h2-502703c10-0014">Analyzing Text</h3>
<p class="BodyFirst">You can analyze text files containing entire books. Many classic works of literature are available as simple text files because they are in the public domain. The texts used in this section come from Project Gutenberg (<a href="https://gutenberg.org" class="LinkURL">https://gutenberg.org</a>). Project Gutenberg maintains a collection of literary works that are available in the public domain, and it’s a great resource if you’re interested in working with literary texts in your programming projects.</p>
<p><span epub:type="pagebreak" title="197" id="Page_197"/>Let’s pull in the text of <em>Alice in Wonderland</em> and try to count the number of words in the text. To do this, we’ll use the string method <code>split()</code>, which by default splits a string wherever it finds any whitespace:</p>
<pre><code><span class="LiteralGray">from pathlib import Path</span>

<span class="LiteralGray">path = Path('alice.txt')</span>
<span class="LiteralGray">try:</span>
<span class="LiteralGray">    contents = path.read_text(encoding='utf-8')</span>
<span class="LiteralGray">except FileNotFoundError:</span>
<span class="LiteralGray">    print(f"Sorry, the file {path} does not exist.")</span>
else:
    # Count the approximate number of words in the file:
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     words = contents.split()
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     num_words = len(words)
    print(f"The file {path} has about {num_words} words.")</code></pre>
<p>I moved the file <em>alice.txt</em> to the correct directory, so the <code>try</code> block will work this time. We take the string <code>contents</code>, which now contains the entire text of <em>Alice in Wonderland</em> as one long string, and use <code>split()</code> to produce a list of all the words in the book <span class="CodeAnnotation" aria-label="annotation1">❶</span>. Using <code>len()</code> on this list <span class="CodeAnnotation" aria-label="annotation2">❷</span> gives us a good approximation of the number of words in the original text. Lastly, we print a statement that reports how many words were found in the file. This code is placed in the <code>else</code> block because it only works if the code in the <code>try</code> block was executed successfully.</p>
<p>The output tells us how many words are in <em>alice.txt</em>:</p>
<pre><code>The file alice.txt has about 29594 words.</code></pre>
<p>The count is a little high because extra information is provided by the publisher in the text file used here, but it’s a good approximation of the length of <em>Alice in Wonderland</em>.</p>
<h3 id="h2-502703c10-0015">Working with Multiple Files</h3>
<p class="BodyFirst">Let’s add more books to analyze, but before we do, let’s move the bulk of this program to a function called <code>count_words()</code>. This will make it easier to run the analysis for multiple books:</p>
<p class="CodeLabel"><b>word_count.py</b></p>
<pre><code><span class="LiteralGray">from pathlib import Path</span>

def count_words(path):
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     """Count the approximate number of words in a file."""
    <span class="LiteralGray">try:</span>
<span class="LiteralGray">        contents = path.read_text(encoding='utf-8')</span>
<span class="LiteralGray">    except FileNotFoundError:</span>
<span class="LiteralGray">        print(f"Sorry, the file {path} does not exist.")</span>
<span class="LiteralGray">    else:</span>
<span class="LiteralGray">        # Count the approximate number of words in the file:</span>
<span class="LiteralGray">        words = contents.split()</span>
<span class="LiteralGray">        num_words = len(words)</span>
<span class="LiteralGray">        print(f"The file {path} has about {num_words} words.")</span>

<span epub:type="pagebreak" title="198" id="Page_198"/><span class="LiteralGray">path = Path('alice.txt')</span>
count_words(path)</code></pre>
<p>Most of this code is unchanged. It’s only been indented, and moved into the body of <code>count_words()</code>. It’s a good habit to keep comments up to date when you’re modifying a program, so the comment has also been changed to a docstring and reworded slightly <span class="CodeAnnotation" aria-label="annotation1">❶</span>.</p>
<p>Now we can write a short loop to count the words in any text we want to analyze. We do this by storing the names of the files we want to analyze in a list, and then we call <code>count_words()</code> for each file in the list. We’ll try to count the words for <em>Alice in Wonderland</em>, <em>Siddhartha</em>, <em>Moby Dick</em>, and <em>Little Women</em>, which are all available in the public domain. I’ve intentionally left <em>siddhartha.txt</em> out of the directory containing <em>word_count.py</em>, so we can see how well our program handles a missing file:</p>
<pre><code><span class="LiteralGray">from pathlib import Path</span>

<span class="LiteralGray">def count_words(filename):</span>
<span class="LiteralGray">    </span><em class="LiteralGrayItalic">--snip--</em>

filenames = ['alice.txt', 'siddhartha.txt', 'moby_dick.txt', 
        'little_women.txt']
for filename in filenames:
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     path = Path(filename)
    <span class="LiteralGray">count_words(path)</span></code></pre>
<p>The names of the files are stored as simple strings. Each string is then converted to a <code>Path</code> object <span class="CodeAnnotation" aria-label="annotation1">❶</span>, before the call to <code>count_words()</code>. The missing <em>siddhartha.txt</em> file has no effect on the rest of the program’s execution:</p>
<pre><code>The file alice.txt has about 29594 words.
Sorry, the file siddhartha.txt does not exist.
The file moby_dick.txt has about 215864 words.
The file little_women.txt has about 189142 words.</code></pre>
<p>Using the <code>try</code>-<code>except</code> block in this example provides two significant advantages. We prevent our users from seeing a traceback, and we let the program continue analyzing the texts it’s able to find. If we don’t catch the <code>FileNotFoundError</code> that <em>siddhartha.txt</em> raises, the user would see a full traceback, and the program would stop running after trying to analyze <em>Siddhartha</em>. It would never analyze <em>Moby Dick</em> or <em>Little Women</em>.</p>
<h3 id="h2-502703c10-0016">Failing Silently</h3>
<p class="BodyFirst">In the previous example, we informed our users that one of the files was unavailable. But you don’t need to report every exception you catch. Sometimes, you’ll want the program to fail silently when an exception occurs and continue on as if nothing happened. To make a program fail silently, you write a <code>try</code> block as usual, but you explicitly tell Python to do <span epub:type="pagebreak" title="199" id="Page_199"/>nothing in the <code>except</code> block. Python has a <code>pass</code> statement that tells it to do nothing in a block:</p>
<pre><code><span class="LiteralGray">def count_words(path):</span>
<span class="LiteralGray">    """Count the approximate number of words in a file."""</span>
<span class="LiteralGray">    try:</span>
<span class="LiteralGray">        </span><em class="LiteralGrayItalic">--snip--</em>
<span class="LiteralGray">    except FileNotFoundError:</span>
        pass
<span class="LiteralGray">    else:</span>
<span class="LiteralGray">        </span><em class="LiteralGrayItalic">--snip--</em></code></pre>
<p>The only difference between this listing and the previous one is the <code>pass</code> statement in the <code>except</code> block. Now when a <code>FileNotFoundError</code> is raised, the code in the <code>except</code> block runs, but nothing happens. No traceback is produced, and there’s no output in response to the error that was raised. Users see the word counts for each file that exists, but they don’t see any indication that a file wasn’t found:</p>
<pre><code>The file alice.txt has about 29594 words.
The file moby_dick.txt has about 215864 words.
The file little_women.txt has about 189142 words.</code></pre>
<p>The <code>pass</code> statement also acts as a placeholder. It’s a reminder that you’re choosing to do nothing at a specific point in your program’s execution and that you might want to do something there later. For example, in this program we might decide to write any missing filenames to a file called <em>missing_files.txt</em>. Our users wouldn’t see this file, but we’d be able to read the file and deal with any missing texts.</p>
<h3 id="h2-502703c10-0017">Deciding Which Errors to Report</h3>
<p class="BodyFirst">How do you know when to report an error to your users and when to let your program fail silently? If users know which texts are supposed to be analyzed, they might appreciate a message informing them why some texts were not analyzed. If users expect to see some results but don’t know which books are supposed to be analyzed, they might not need to know that some texts were unavailable. Giving users information they aren’t looking for can decrease the usability of your program. Python’s error-handling structures give you fine-grained control over how much to share with users when things go wrong; it’s up to you to decide how much information to share.</p>
<p>Well-written, properly tested code is not very prone to internal errors, such as syntax or logical errors. But every time your program depends on something external such as user input, the existence of a file, or the availability of a network connection, there is a possibility of an exception being raised. A little experience will help you know where to include exception-handling blocks in your program and how much to report to users about errors that arise.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2><span epub:type="pagebreak" title="200" id="Page_200"/>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c10-23" class="BoxNumber">10-6.	Addition:</span> One common problem when prompting for numerical input occurs when people provide text instead of numbers. When you try to convert the input to an <code>int</code>, you’ll get a <code>ValueError</code>. Write a program that prompts for two numbers. Add them together and print the result. Catch the <code>ValueError</code> if either input value is not a number, and print a friendly error message. Test your program by entering two numbers and then by entering some text instead of a number.</p>
<p class="BoxBodyCustom"><span id="h2-502703c10-24" class="BoxNumber">10-7.	Addition Calculator:</span> Wrap your code from Exercise 10-5 in a <code>while</code> loop so the user can continue entering numbers, even if they make a mistake and enter text instead of a number.</p>
<p class="BoxBodyCustom"><span id="h2-502703c10-25" class="BoxNumber">10-8.	Cats and Dogs:</span> Make two files, <em>cats.txt</em> and <em>dogs.txt</em>. Store at least three names of cats in the first file and three names of dogs in the second file. Write a program that tries to read these files and print the contents of the file to the screen. Wrap your code in a <code>try-except</code> block to catch the <code>FileNotFound</code> error, and print a friendly message if a file is missing. Move one of the files to a different location on your system, and make sure the code in the <code>except</code> block executes properly.</p>
<p class="BoxBodyCustom"><span id="h2-502703c10-26" class="BoxNumber">10-9.	Silent Cats and Dogs:</span> Modify your <code>except</code> block in Exercise 10-7 to fail silently if either file is missing.</p>
<p class="BoxBodyCustom"><span id="h2-502703c10-27" class="BoxNumber">10-10. Common Words:</span> Visit Project Gutenberg (<a href="https://gutenberg.org" class="LinkURL">https://gutenberg.org</a>) and find a few texts you’d like to analyze. Download the text files for these works, or copy the raw text from your browser into a text file on your computer.</p>
<p class="BoxBody">You can use the <code>count()</code> method to find out how many times a word or phrase appears in a string. For example, the following code counts the number of times <code>'row'</code> appears in a string:</p>
<pre><code>&gt;&gt;&gt; <code class="bold">line = "Row, row, row your boat"</code>
&gt;&gt;&gt; <code class="bold">line.count('row')</code>
2
&gt;&gt;&gt; <code class="bold">line.lower().count('row')</code>
3</code></pre>
<p class="BoxBody">Notice that converting the string to lowercase using <code>lower()</code> catches all appearances of the word you’re looking for, regardless of how it’s formatted.</p>
<p class="BoxBody">Write a program that reads the files you found at Project Gutenberg and determines how many times the word <code>'the'</code> appears in each text. This will be an approximation because it will also count words such as <code>'then'</code> and <code>'there'</code>. Try counting <code>'the '</code>, with a space in the string, and see how much lower your count is.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c10-0004"><span epub:type="pagebreak" title="201" id="Page_201"/>Storing Data</h2>
<p class="BodyFirst">Many of your programs will ask users to input certain kinds of information. You might allow users to store preferences in a game or provide data for a visualization. Whatever the focus of your program is, you’ll store the information users provide in data structures such as lists and dictionaries. When users close a program, you’ll almost always want to save the information they entered. A simple way to do this involves storing your data using the <code>json</code> module.</p>
<p>The <code>json</code> module allows you to convert simple Python data structures into JSON-formatted strings, and then load the data from that file the next time the program runs. You can also use <code>json</code> to share data between different Python programs. Even better, the JSON data format is not specific to Python, so you can share data you store in the JSON format with people who work in many other programming languages. It’s a useful and portable format, and it’s easy to learn.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	The <em>JSON</em> <em>(JavaScript Object Notation)</em> format was originally developed for JavaScript. However, it has since become a common format used by many languages, including Python.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c10-0018">Using json.dumps() and json.loads()</h3>
<p class="BodyFirst">Let’s write a short program that stores a set of numbers and another program that reads these numbers back into memory. The first program will use <code>json.dumps()</code> to store the set of numbers, and the second program will use <code>json.loads()</code>.</p>
<p>The <code>json.dumps()</code> function takes one argument: a piece of data that should be converted to the JSON format. The function returns a string, which we can then write to a data file:</p>
<p class="CodeLabel"><b>number_writer.py</b></p>
<pre><code>from pathlib import Path
import json

numbers = [2, 3, 5, 7, 11, 13]

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> path = Path('numbers.json')
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> contents = json.dumps(numbers)
path.write_text(contents)</code></pre>
<p>We first import the <code>json</code> module, and then create a list of numbers to work with. Then we choose a filename in which to store the list of numbers <span class="CodeAnnotation" aria-label="annotation1">❶</span>. It’s customary to use the file extension <em>.json</em> to indicate that the data in the file is stored in the JSON format. Next, we use the <code>json.dumps()</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span> function to generate a string containing the JSON representation of the data we’re working with. Once we have this string, we write it to the file using the same <code>write_text()</code> method we used earlier.</p>
<p>This program has no output, but let’s open the file <em>numbers.json</em> and look at it. The data is stored in a format that looks just like Python:</p>
<pre><code>[2, 3, 5, 7, 11, 13]</code></pre>
<p><span epub:type="pagebreak" title="202" id="Page_202"/>Now we’ll write a separate program that uses <code>json.loads()</code> to read the list back into memory:</p>
<p class="CodeLabel"><b>number_reader.py</b></p>
<pre><code>from pathlib import Path
import json

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> path = Path('numbers.json')
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> contents = path.read_text()
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> numbers = json.loads(contents)

print(numbers)</code></pre>
<p>We make sure to read from the same file we wrote to <span class="CodeAnnotation" aria-label="annotation1">❶</span>. Since the data file is just a text file with specific formatting, we can read it with the <code>read_text()</code> method <span class="CodeAnnotation" aria-label="annotation2">❷</span>. We then pass the contents of the file to <code>json.loads()</code> <span class="CodeAnnotation" aria-label="annotation3">❸</span>. This function takes in a JSON-formatted string and returns a Python object (in this case, a list), which we assign to <code>numbers</code>. Finally, we print the recovered list of numbers and see that it’s the same list created in <em>number_writer.py</em>:</p>
<pre><code>[2, 3, 5, 7, 11, 13]</code></pre>
<p>This is a simple way to share data between two programs.</p>
<h3 id="h2-502703c10-0019">Saving and Reading User-Generated Data</h3>
<p class="BodyFirst">Saving data with <code>json</code> is useful when you’re working with user-generated data, because if you don’t store your user’s information somehow, you’ll lose it when the program stops running. Let’s look at an example where we prompt the user for their name the first time they run a program and then remember their name when they run the program again.</p>
<p>Let’s start by storing the user’s name:</p>
<p class="CodeLabel"><b>remember_me.py</b></p>
<pre><code>from pathlib import Path
import json

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> username = input("What is your name? ")

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> path = Path('username.json')
contents = json.dumps(username)
path.write_text(contents)

<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> print(f"We'll remember you when you come back, {username}!")</code></pre>
<p>We first prompt for a username to store <span class="CodeAnnotation" aria-label="annotation1">❶</span>. Next, we write the data we just collected to a file called <em>username.json</em> <span class="CodeAnnotation" aria-label="annotation2">❷</span>. Then we print a message informing the user that we’ve stored their information <span class="CodeAnnotation" aria-label="annotation3">❸</span>:</p>
<pre><code>What is your name? <b>Eric</b>
We'll remember you when you come back, Eric!</code></pre>
<p><span epub:type="pagebreak" title="203" id="Page_203"/>Now let’s write a new program that greets a user whose name has already been stored:</p>
<p class="CodeLabel"><b>greet_user.py</b></p>
<pre><code>from pathlib import Path
import json

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> path = Path('username.json')
contents = path.read_text()
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> username = json.loads(contents)

print(f"Welcome back, {username}!")</code></pre>
<p>We read the contents of the data file <span class="CodeAnnotation" aria-label="annotation1">❶</span> and then use <code>json.loads()</code> to assign the recovered data to the variable <code>username</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span>. Since we’ve recovered the username, we can welcome the user back with a personalized greeting:</p>
<pre><code>Welcome back, Eric!</code></pre>
<p>We need to combine these two programs into one file. When someone runs <em>remember_me.py</em>, we want to retrieve their username from memory if possible; if not, we’ll prompt for a username and store it in <em>username.json</em> for next time. We could write a <code>try</code>-<code>except</code> block here to respond appropriately if <em>username.json</em> doesn’t exist, but instead we’ll use a handy method from the <code>pathlib</code> module:</p>
<p class="CodeLabel"><b>remember_me.py</b></p>
<pre><code>from pathlib import Path
import json

path = Path('username.json')
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> if path.exists():
    contents = path.read_text()
    username = json.loads(contents)
    print(f"Welcome back, {username}!")
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> else:
    username = input("What is your name? ")
    contents = json.dumps(username)
    path.write_text(contents)
    print(f"We'll remember you when you come back, {username}!")</code></pre>
<p>There are many helpful methods you can use with <code>Path</code> objects. The <code>exists()</code> method returns <code>True</code> if a file or folder exists and <code>False</code> if it doesn’t. Here we use <code>path.exists()</code> to find out if a username has already been stored <span class="CodeAnnotation" aria-label="annotation1">❶</span>. If <em>username.json</em> exists, we load the username and print a personalized greeting to the user.</p>
<p>If the file <em>username.json</em> doesn’t exist <span class="CodeAnnotation" aria-label="annotation2">❷</span>, we prompt for a username and store the value that the user enters. We also print the familiar message that we’ll remember them when they come back.</p>
<p>Whichever block executes, the result is a username and an appropriate greeting. If this is the first time the program runs, this is the output:</p>
<pre><code>What is your name? <b>Eric</b>
We'll remember you when you come back, Eric!</code></pre>
<p><span epub:type="pagebreak" title="204" id="Page_204"/>Otherwise:</p>
<pre><code>Welcome back, Eric!</code></pre>
<p>This is the output you see if the program was already run at least once. Even though the data in this section is just a single string, the program would work just as well with any data that can be converted to a JSON-formatted string. </p>
<h3 id="h2-502703c10-0020">Refactoring</h3>
<p class="BodyFirst">Often, you’ll come to a point where your code will work, but you’ll recognize that you could improve the code by breaking it up into a series of functions that have specific jobs. This process is called <em>refactoring</em>. Refactoring makes your code cleaner, easier to understand, and easier to extend.</p>
<p>We can refactor <em>remember_me.py</em> by moving the bulk of its logic into one or more functions. The focus of <em>remember_me.py</em> is on greeting the user, so let’s move all of our existing code into a function called <code>greet_user()</code>:</p>
<p class="CodeLabel"><b>remember_me.py</b></p>
<pre><code><span class="LiteralGray">from pathlib import Path</span>
<span class="LiteralGray">import json</span>

def greet_user():
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     """Greet the user by name."""
    <span class="LiteralGray">path = Path('username.json')</span>
<span class="LiteralGray">    if path.exists():</span>
<span class="LiteralGray">        contents = path.read_text()</span>
<span class="LiteralGray">        username = json.loads(contents)</span>
<span class="LiteralGray">        print(f"Welcome back, {username}!")</span>
<span class="LiteralGray">    else:</span>
<span class="LiteralGray">        username = input("What is your name? ")</span>
<span class="LiteralGray">        contents = json.dumps(username)</span>
<span class="LiteralGray">        path.write_text(contents)</span>
<span class="LiteralGray">        print(f"We'll remember you when you come back, {username}!")</span>

greet_user()</code></pre>
<p>Because we’re using a function now, we rewrite the comments as a docstring that reflects how the program currently works <span class="CodeAnnotation" aria-label="annotation1">❶</span>. This file is a little cleaner, but the function <code>greet_user()</code> is doing more than just greeting the user—it’s also retrieving a stored username if one exists and prompting for a new username if one doesn’t.</p>
<p>Let’s refactor <code>greet_user()</code> so it’s not doing so many different tasks. We’ll start by moving the code for retrieving a stored username to a separate function:</p>
<pre><code><span class="LiteralGray">from pathlib import Path</span>
<span class="LiteralGray">import json</span>

def get_stored_username(path):
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     """Get stored username if available."""
<span epub:type="pagebreak" title="205" id="Page_205"/>    <span class="LiteralGray">if path.exists():</span>
<span class="LiteralGray">        contents = path.read_text()</span>
<span class="LiteralGray">        username = json.loads(contents)</span>
        return username
    else:
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>         return None

<span class="LiteralGray">def greet_user():</span>
<span class="LiteralGray">    """Greet the user by name."""</span>
    <span class="LiteralGray">path = Path('username.json')</span>
    username = get_stored_username(path)
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span>     if username:
        <span class="LiteralGray">print(f"Welcome back, {username}!")</span>
    <span class="LiteralGray">else:</span>
<span class="LiteralGray">        username = input("What is your name? ")</span>
<span class="LiteralGray">        contents = json.dumps(username)</span>
<span class="LiteralGray">        path.write_text(contents)</span>
<span class="LiteralGray">        print(f"We'll remember you when you come back, {username}!")</span>

<span class="LiteralGray">greet_user()</span></code></pre>
<p>The new function <code>get_stored_username()</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span> has a clear purpose, as stated in the docstring. This function retrieves a stored username and returns the username if it finds one. If the path that’s passed to <code>get_stored_username()</code> doesn’t exist, the function returns <code>None</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span>. This is good practice: a function should either return the value you’re expecting, or it should return <code>None</code>. This allows us to perform a simple test with the return value of the function. We print a welcome back message to the user if the attempt to retrieve a username is successful <span class="CodeAnnotation" aria-label="annotation3">❸</span>, and if it isn’t, we prompt for a new username.</p>
<p>We should factor one more block of code out of <code>greet_user()</code>. If the username doesn’t exist, we should move the code that prompts for a new username to a function dedicated to that purpose:</p>
<pre><code><span class="LiteralGray">from pathlib import Path</span>
<span class="LiteralGray">import json</span>

<span class="LiteralGray">def get_stored_username(path):</span>
<span class="LiteralGray">    """Get stored username if available."""</span>
    <em class="LiteralGrayItalic">--snip--</em>

def get_new_username(path):
    """Prompt for a new username."""
    <span class="LiteralGray">username = input("What is your name? ")</span>
<span class="LiteralGray">    contents = json.dumps(username)</span>
<span class="LiteralGray">    path.write_text(contents)</span>
    return username

<span class="LiteralGray">def greet_user():</span>
<span class="LiteralGray">    """Greet the user by name."""</span>
<span class="LiteralGray">    path = Path('username.json')</span>
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span><span class="LiteralGray">     username = get_stored_username(path)</span>
<span class="LiteralGray">    if username:</span>
<span class="LiteralGray">        print(f"Welcome back, {username}!")</span>
<span epub:type="pagebreak" title="206" id="Page_206"/>    else:
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>         username = get_new_username(path)
        <span class="LiteralGray">print(f"We'll remember you when you come back, {username}!")</span>

<span class="LiteralGray">greet_user()</span></code></pre>
<p>Each function in this final version of <em>remember_me.py</em> has a single, clear purpose. We call <code>greet_user()</code>, and that function prints an appropriate message: it either welcomes back an existing user or greets a new user. It does this by calling <code>get_stored_username()</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>, which is responsible only for retrieving a stored username if one exists. Finally, if necessary, <code>greet_user()</code> calls <code>get_new_username()</code><span class="CodeAnnotation" aria-label="annotation2">❷</span>, which is responsible only for getting a new username and storing it. This compartmentalization of work is an essential part of writing clear code that will be easy to maintain and extend.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c10-31" class="BoxNumber">10-11. Favorite Number:</span> Write a program that prompts for the user’s favorite number. Use <code>json.dumps()</code> to store this number in a file. Write a separate program that reads in this value and prints the message “I know your favorite number! It’s _____.”</p>
<p class="BoxBodyCustom"><span id="h2-502703c10-32" class="BoxNumber">10-12. Favorite Number Remembered:</span> Combine the two programs you wrote in Exercise 10-11 into one file. If the number is already stored, report the favorite number to the user. If not, prompt for the user’s favorite number and store it in a file. Run the program twice to see that it works.</p>
<p class="BoxBodyCustom"><span id="h2-502703c10-33" class="BoxNumber">10-13. User Dictionary:</span> The <em>remember_me.py</em> example only stores one piece of information, the username. Expand this example by asking for two more pieces of information about the user, then store all the information you collect in a dictionary. Write this dictionary to a file using <code>json.dumps()</code>, and read it back in using <code>json.loads()</code>. Print a summary showing exactly what your program remembers about the user.</p>
<p class="BoxBodyCustom"><span id="h2-502703c10-34" class="BoxNumber">10-14. Verify User:</span> The final listing for <em>remember_me.py</em> assumes either that the user has already entered their username or that the program is running for the first time. We should modify it in case the current user is not the person who last used the program.</p>
<p class="BoxBody">Before printing a welcome back message in <code>greet_user()</code>, ask the user if this is the correct username. If it’s not, call <code>get_new_username()</code> to get the correct username.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c10-0005"><span epub:type="pagebreak" title="207" id="Page_207"/>Summary</h2>
<p class="BodyFirst">In this chapter, you learned how to work with files. You learned to read the entire contents of a file, and then work through the contents one line at a time if you need to. You learned to write as much text as you want to a file. You also read about exceptions and how to handle the exceptions you’re likely to see in your programs. Finally, you learned how to store Python data structures so you can save information your users provide, preventing them from having to start over each time they run a program.</p>
<p>In <span class="xref" itemid="xref_target_Chapter 11,">Chapter 11,</span> you’ll learn efficient ways to test your code. This will help you trust that the code you develop is correct, and it will help you identify bugs that are introduced as you continue to build on the programs you’ve written.</p>
</section>
</div>
<div id="sbo-rt-content"><section>
<header>
<h1 class="chapter">
<span class="ChapterNumber"><span epub:type="pagebreak" title="209" id="Page_209"/>11</span><br/>
<span class="ChapterTitle">Testing Your Code</span></h1>
</header>
<figure class="opener">
<img src="Images/chapterart.png" alt="" width="406" height="406"/>
</figure>
<p class="ChapterIntro">When you write a function or a class, you can also write tests for that code. Testing proves that your code works as it’s supposed to in response to all the kinds of input it’s designed to receive. When you write tests, you can be confident that your code will work correctly as more people begin to use your programs. You’ll also be able to test new code as you add it, to make sure your changes don’t break your program’s existing behavior. Every programmer makes mistakes, so every programmer must test their code often, to catch problems before users encounter them.</p>
<p>In this chapter, you’ll learn to test your code using <code>pytest</code>. The <code>pytest</code> library is a collection of tools that will help you write your first tests quickly and simply, while supporting your tests as they grow in complexity along with your projects. Python doesn’t include <code>pytest</code> by default, so you’ll learn to install external libraries. Knowing how to install external libraries will make a wide variety of well-designed code available to you. These libraries will expand the kinds of projects you can work on immensely.</p>
<p><span epub:type="pagebreak" title="210" id="Page_210"/>You’ll learn to build a series of tests and check that each set of inputs results in the output you want. You’ll see what a passing test looks like and what a failing test looks like, and you’ll learn how a failing test can help you improve your code. You’ll learn to test functions and classes, and you’ll start to understand how many tests to write for a project.</p>
<h2 id="h1-502703c11-0001">Installing pytest with pip</h2>
<p class="BodyFirst">While Python includes a lot of functionality in the standard library, Python developers also depend heavily on third-party packages. A <em>third-party package</em> is a library that’s developed outside the core Python language. Some popular third-party libraries are eventually adopted into the standard library, and end up being included in most Python installations from that point forward. This happens most often with libraries that are unlikely to change much once they’ve had their initial bugs worked out. These kinds of libraries can evolve at the same pace as the overall language.</p>
<p>Many packages, however, are kept out of the standard library so they can be developed on a timeline independent of the language itself. These packages tend to be updated more frequently than they would be if they were tied to Python’s development schedule. This is true of <code>pytest</code> and most of the libraries we’ll use in the second half of this book. You shouldn’t blindly trust every third-party package, but you also shouldn’t be put off by the fact that a lot of important functionality is implemented through such packages.</p>
<h3 id="h2-502703c11-0001">Updating pip</h3>
<p class="BodyFirst">Python includes a tool called pip that’s used to install third-party packages. Because pip helps install packages from external resources, it’s updated often to address potential security issues. So, we’ll start by updating pip.</p>
<p>Open a new terminal window and issue the following command:</p>
<pre><code>$ <b>python -m pip install --upgrade pip</b>
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> Requirement already satisfied: pip in /.../python3.11/site-packages (22.0.4)
<var>--snip--</var>
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> Successfully installed pip-22.1.2</code></pre>
<p>The first part of this command, <code class="bold">python -m pip</code>, tells Python to run the module <code>pip</code>. The second part, <code class="bold">install --upgrade</code>, tells pip to update a package that’s already been installed. The last part, <code class="bold">pip</code>, specifies which third-party package should be updated. The output shows that my current version of pip, version 22.0.4 <span class="CodeAnnotation" aria-label="annotation1">❶</span>, was replaced by the latest version at the time of this writing, 22.1.2 <span class="CodeAnnotation" aria-label="annotation2">❷</span>.</p>
<p>You can use this command to update any third-party package installed on your system:</p>
<pre><code>$ <b>python -m pip install --upgrade</b> <var class="bold">package_name</var></code></pre>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	If you’re using Linux, pip may not be included with your installation of Python. If you get an error when trying to upgrade pip, see the instructions in <span class="xref" itemid="xref_target_Appendix A">Appendix A</span>.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c11-0002"><span epub:type="pagebreak" title="211" id="Page_211"/>Installing pytest</h3>
<p class="BodyFirst">Now that pip is up to date, we can install <code>pytest</code>:</p>
<pre><code>$ <b>python -m pip install --user pytest</b>
Collecting pytest
<var>  --snip--</var>
Successfully installed attrs-21.4.0 iniconfig-1.1.1 ...pytest-7.<var>x</var>.<var>x</var></code></pre>
<p>We’re still using the core command <code class="bold">pip install</code>, without the <code class="bold">--upgrade</code> flag this time. Instead, we’re using the <code class="bold">--user</code> flag, which tells Python to install this package for the current user only. The output shows that the latest version of <code>pytest</code> was successfully installed, along with a number of other packages that <code>pytest</code> depends on.</p>
<p>You can use this command to install many third-party packages:</p>
<pre><code>$ <b>python -m pip install --user</b> <var class="bold">package_name</var></code></pre>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	If you have any difficulty running this command, try running the same command without the <code class="bold">--user</code> flag.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c11-0002">Testing a Function</h2>
<p class="BodyFirst">To learn about testing, we need code to test. Here’s a simple function that takes in a first and last name, and returns a neatly formatted full name:</p>
<p class="CodeLabel"><b>name_function.py</b></p>
<pre><code>def get_formatted_name(first, last):
    """Generate a neatly formatted full name."""
    full_name = f"{first} {last}"
    return full_name.title()</code></pre>
<p>The function <code>get_formatted_name()</code> combines the first and last name with a space in between to complete a full name, and then capitalizes and returns the full name. To check that <code>get_formatted_name()</code> works, let’s make a program that uses this function. The program <em>names.py</em> lets users enter a first and last name, and see a neatly formatted full name:</p>
<p class="CodeLabel"><b>names.py</b></p>
<pre><code>from name_function import get_formatted_name

print("Enter 'q' at any time to quit.")
while True:
    first = input("\nPlease give me a first name: ")
    if first == 'q':
        break
    last = input("Please give me a last name: ")
    if last == 'q':
        break

    formatted_name = get_formatted_name(first, last)
    print(f"\tNeatly formatted name: {formatted_name}.")</code></pre>
<p><span epub:type="pagebreak" title="212" id="Page_212"/>This program imports <code>get_formatted_name()</code> from <em>name_function.py</em>. The user can enter a series of first and last names and see the formatted full names that are generated:</p>
<pre><code>Enter 'q' at any time to quit.

Please give me a first name: <b>janis</b>
Please give me a last name: <b>joplin</b>
       Neatly formatted name: Janis Joplin.

Please give me a first name: <b>bob</b>
Please give me a last name: <b>dylan</b>
        Neatly formatted name: Bob Dylan.

Please give me a first name: <b>q</b></code></pre>
<p>We can see that the names generated here are correct. But say we want to modify <code>get_formatted_name()</code> so it can also handle middle names. As we do so, we want to make sure we don’t break the way the function handles names that have only a first and last name. We could test our code by running <em>names.py</em> and entering a name like <code>Janis Joplin</code> every time we modify <code>get_formatted_name()</code>, but that would become tedious. Fortunately, <code>pytest</code> provides an efficient way to automate the testing of a function’s output. If we automate the testing of <code>get_formatted_name()</code>, we can always be confident that the function will work when given the kinds of names we’ve written tests for.</p>
<h3 id="h2-502703c11-0003">Unit Tests and Test Cases</h3>
<p class="BodyFirst">There is a wide variety of approaches to testing software. One of the simplest kinds of test is a unit test. A <em>unit test</em> verifies that one specific aspect of a function’s behavior is correct. A <em>test case</em> is a collection of unit tests that together prove that a function behaves as it’s supposed to, within the full range of situations you expect it to handle.</p>
<p>A good test case considers all the possible kinds of input a function could receive and includes tests to represent each of these situations. A test case with <em>full coverage</em> includes a full range of unit tests covering all the possible ways you can use a function. Achieving full coverage on a large project can be daunting. It’s often good enough to write tests for your code’s critical behaviors and then aim for full coverage only if the project starts to see widespread use.</p>
<h3 id="h2-502703c11-0004">A Passing Test</h3>
<p class="BodyFirst">With <code>pytest</code>, writing your first unit test is pretty straightforward. We’ll write a single test function. The test function will call the function we’re testing, and we’ll make an assertion about the value that’s returned. If our assertion is correct, the test will pass; if the assertion is incorrect, the test will fail.</p>
<p><span epub:type="pagebreak" title="213" id="Page_213"/>Here’s the first test of the function <code>get_formatted_name()</code>:</p>
<p class="CodeLabel"><b>test_name_function.py</b></p>
<pre><code>from name_function import get_formatted_name

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> def test_first_last_name():
    """Do names like 'Janis Joplin' work?"""
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     formatted_name = get_formatted_name('janis', 'joplin')
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span>     assert formatted_name == 'Janis Joplin'</code></pre>
<p>Before we run the test, let’s take a closer look at this function. The name of a test file is important; it must start with <em>test_</em>. When we ask <code>pytest</code> to run the tests we’ve written, it will look for any file that begins with <em>test_</em>, and run all of the tests it finds in that file.</p>
<p>In the test file, we first import the function that we want to test: <code>get_formatted_name()</code>. Then we define a test function: in this case, <code>test_first_last_name()</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>. This is a longer function name than we’ve been using, for a good reason. First, test functions need to start with the word <em>test</em>, followed by an underscore. Any function that starts with <code>test_</code> will be <em>discovered</em> by <code>pytest</code>, and will be run as part of the testing process.</p>
<p>Also, test names should be longer and more descriptive than a typical function name. You’ll never call the function yourself; <code>pytest</code> will find the function and run it for you. Test function names should be long enough that if you see the function name in a test report, you’ll have a good sense of what behavior was being tested.</p>
<p>Next, we call the function we’re testing <span class="CodeAnnotation" aria-label="annotation2">❷</span>. Here we call <code>get_formatted_name()</code> with the arguments <code>'janis'</code> and <code>'joplin'</code>, just like we used when we ran <em>names.py</em>. We assign the return value of this function to <code>formatted_name</code>.</p>
<p>Finally, we make an assertion <span class="CodeAnnotation" aria-label="annotation3">❸</span>. An <em>assertion</em> is a claim about a condition. Here we’re claiming that the value of <code>formatted_name</code> should be <code>'Janis Joplin'</code>.</p>
<h3 id="h2-502703c11-0005">Running a Test</h3>
<p class="BodyFirst">If you run the file <em>test_name_function.py</em> directly, you won’t get any output because we never called the test function. Instead, we’ll have <code>pytest</code> run the test file for us.</p>
<p>To do this, open a terminal window and navigate to the folder that contains the test file. If you’re using VS Code, you can open the folder containing the test file and use the terminal that’s embedded in the editor window. In the terminal window, enter the command <code class="bold">pytest</code>. Here’s what you should see:</p>
<pre><code>$ <b>pytest</b>
========================= test session starts =========================
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> platform darwin -- Python 3.<var>x</var>.<var>x</var>, pytest-7.<var>x</var>.<var>x</var>, pluggy-1.<var>x</var>.<var>x</var>
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> rootdir: /.../python_work/chapter_11
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> collected 1 item

<span class="CodeAnnotationHang" aria-label="annotation4">❹</span> test_name_function.py .                                          [100%]
========================== 1 passed in 0.00s ==========================</code></pre>
<p><span epub:type="pagebreak" title="214" id="Page_214"/>Let’s try to make sense of this output. First of all, we see some information about the system the test is running on <span class="CodeAnnotation" aria-label="annotation1">❶</span>. I’m testing this on a macOS system, so you may see some different output here. Most importantly, we can see which versions of Python, <code>pytest</code>, and other packages are being used to run the test.</p>
<p>Next, we see the directory where the test is being run from <span class="CodeAnnotation" aria-label="annotation2">❷</span>: in my case, <em>python_work/chapter_11</em>. We can see that <code>pytest</code> found one test to run <span class="CodeAnnotation" aria-label="annotation3">❸</span>, and we can see the test file that’s being run <span class="CodeAnnotation" aria-label="annotation4">❹</span>. The single dot after the name of the file tells us that a single test passed, and the <code>100%</code> makes it clear that all of the tests have been run. A large project can have hundreds or thousands of tests, and the dots and percentage-complete indicator can be helpful in monitoring the overall progress of the test run.</p>
<p>The last line tells us that one test passed, and it took less than 0.01 seconds to run the test.</p>
<p>This output indicates that the function <code>get_formatted_name()</code> will always work for names that have a first and last name, unless we modify the function. When we modify <code>get_formatted_name()</code>, we can run this test again. If the test passes, we know the function will still work for names like Janis Joplin.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	If you’re not sure how to navigate to the right location in the terminal, see “<span class="xref" itemid="xref_target_Running Python Programs from a Terminal">Running Python Programs from a Terminal</span>” on <span class="xref" itemid="xref_target_page 11">page 11</span>. Also, if you see a message that the <code>pytest</code> command was not found, use the command <code>python -m pytest</code> instead.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-502703c11-0006">A Failing Test</h3>
<p class="BodyFirst">What does a failing test look like? Let’s modify <code>get_formatted_name()</code> so it can handle middle names, but let’s do so in a way that breaks the function for names with just a first and last name, like Janis Joplin.</p>
<p>Here’s a new version of <code>get_formatted_name()</code> that requires a middle name argument:</p>
<p class="CodeLabel"><b>name_function.py</b></p>
<pre><code>def get_formatted_name(first, middle, last):
    <span class="LiteralGray">"""Generate a neatly formatted full name."""</span>
    full_name = f"{first} {middle} {last}"
    <span class="LiteralGray">return full_name.title()</span></code></pre>
<p>This version should work for people with middle names, but when we test it, we see that we’ve broken the function for people with just a first and last name.</p>
<p>This time, running <code class="bold">pytest</code> gives the following output:</p>
<pre><code>$ <b>pytest</b>
========================= test session starts =========================
<var>--snip--</var>
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> test_name_function.py F                                          [100%]
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> ============================== FAILURES ===============================
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> ________________________ test_first_last_name _________________________
    def test_first_last_name():
        """Do names like 'Janis Joplin' work?"""
<span class="CodeAnnotationHang" aria-label="annotation4">❹</span> &gt;       formatted_name = get_formatted_name('janis', 'joplin')
<span class="CodeAnnotationHang" aria-label="annotation5">❺</span> E       TypeError: get_formatted_name() missing 1 required positional
            argument: 'last'

<span epub:type="pagebreak" title="215" id="Page_215"/>test_name_function.py:5: TypeError
======================= short test summary info =======================
FAILED test_name_function.py::test_first_last_name - TypeError:
    get_formatted_name() missing 1 required positional argument: 'last'
========================== 1 failed in 0.04s ==========================</code></pre>
<p>There’s a lot of information here because there’s a lot you might need to know when a test fails. The first item of note in the output is a single <code>F</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>, which tells us that one test failed. We then see a section that focuses on <code>FAILURES</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span>, because failed tests are usually the most important thing to focus on in a test run. Next, we see that <code>test_first_last_name()</code> was the test function that failed <span class="CodeAnnotation" aria-label="annotation3">❸</span>. An angle bracket <span class="CodeAnnotation" aria-label="annotation4">❹</span> indicates the line of code that caused the test to fail. The <code>E</code> on the next line <span class="CodeAnnotation" aria-label="annotation5">❺</span> shows the actual error that caused the failure: a <code>TypeError</code> due to a missing required positional argument, <code>last</code>. The most important information is repeated in a shorter summary at the end, so when you’re running many tests, you can get a quick sense of which tests failed and why.</p>
<h3 id="h2-502703c11-0007">Responding to a Failed Test</h3>
<p class="BodyFirst">What do you do when a test fails? Assuming you’re checking the right conditions, a passing test means the function is behaving correctly and a failing test means there’s an error in the new code you wrote. So when a test fails, don’t change the test. If you do, your tests might pass, but any code that calls your function like the test does will suddenly stop working. Instead, fix the code that’s causing the test to fail. Examine the changes you just made to the function, and figure out how those changes broke the desired behavior.</p>
<p>In this case, <code>get_formatted_name()</code> used to require only two parameters: a first name and a last name. Now it requires a first name, middle name, and last name. The addition of that mandatory middle name parameter broke the original behavior of <code>get_formatted_name()</code>. The best option here is to make the middle name optional. Once we do, our test for names like <code>Janis Joplin</code> should pass again, and we should be able to accept middle names as well. Let’s modify <code>get_formatted_name()</code> so middle names are optional and then run the test case again. If it passes, we’ll move on to making sure the function handles middle names properly.</p>
<p>To make middle names optional, we move the parameter <code>middle</code> to the end of the parameter list in the function definition and give it an empty default value. We also add an <code>if</code> test that builds the full name properly, depending on whether a middle name is provided:</p>
<p class="CodeLabel"><b>name_function.py</b></p>
<pre><code>def get_formatted_name(first, last, middle=''):
    <span class="LiteralGray">"""Generate a neatly formatted full name."""</span>
    if middle:
        full_name = f"{first} {middle} {last}"
    else:
        full_name = f"{first} {last}"
    <span class="LiteralGray">return full_name.title()</span></code></pre>
<p><span epub:type="pagebreak" title="216" id="Page_216"/>In this new version of <code>get_formatted_name()</code>, the middle name is optional. If a middle name is passed to the function, the full name will contain a first, middle, and last name. Otherwise, the full name will consist of just a first and last name. Now the function should work for both kinds of names. To find out if the function still works for names like <code>Janis Joplin</code>, let’s run the test again:</p>
<pre><code>$ <b>pytest</b>
========================= test session starts =========================
<var>--snip--</var>
test_name_function.py .                                       [100%]
========================== 1 passed in 0.00s ==========================</code></pre>
<p>The test passes now. This is ideal; it means the function works for names like <code>Janis Joplin</code> again, without us having to test the function manually. Fixing our function was easier because the failed test helped us identify how the new code broke existing behavior.</p>
<h3 id="h2-502703c11-0008">Adding New Tests</h3>
<p class="BodyFirst">Now that we know <code>get_formatted_name()</code> works for simple names again, let’s write a second test for people who include a middle name. We do this by adding another test function to the file <em>test_name_function.py</em>:</p>
<p class="CodeLabel"><b>test_name_function.py</b></p>
<pre><code><span class="LiteralGray">from name_function import get_formatted_name</span>

<span class="LiteralGray">def test_first_last_name():</span>
<span class="LiteralGray">    </span><em class="LiteralGrayItalic">--snip--</em>

def test_first_last_middle_name():
    """Do names like 'Wolfgang Amadeus Mozart' work?"""
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     formatted_name = get_formatted_name(
        'wolfgang', 'mozart', 'amadeus')
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     assert formatted_name == 'Wolfgang Amadeus Mozart'</code></pre>
<p>We name this new function <code>test_first_last_middle_name()</code>. The function name must start with <code>test_</code> so the function runs automatically when we run <code class="bold">pytest</code>. We name the function to make it clear which behavior of <code>get_formatted_name()</code> we’re testing. As a result, if the test fails, we’ll know right away what kinds of names are affected.</p>
<p>To test the function, we call <code>get_formatted_name()</code> with a first, last, and middle name <span class="CodeAnnotation" aria-label="annotation1">❶</span>, and then we make an assertion <span class="CodeAnnotation" aria-label="annotation2">❷</span> that the returned full name matches the full name (first, middle, and last) that we expect. When we run <code class="bold">pytest</code> again, both tests pass:</p>
<pre><code>$ pytest
========================= test session starts =========================
<var>--snip--</var>
collected 2 items

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> test_name_function.py ..                                         [100%]
========================== 2 passed in 0.01s ==========================</code></pre>
<p><span epub:type="pagebreak" title="217" id="Page_217"/>The two dots <span class="CodeAnnotation" aria-label="annotation1">❶</span> indicate that two tests passed, which is also clear from the last line of output. This is great! We now know that the function still works for names like <code>Janis Joplin</code>, and we can be confident that it will work for names like <code>Wolfgang Amadeus Mozart</code> as well.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c11-09" class="BoxNumber">11-1. City, Country:</span> Write a function that accepts two parameters: a city name and a country name. The function should return a single string of the form <var>City, Country</var>, such as <code>Santiago, Chile</code>. Store the function in a module called <em>city_functions.py</em>, and save this file in a new folder so <code>pytest</code> won’t try to run the tests we’ve already written.</p>
<p class="BoxBody">Create a file called <em>test_cities.py</em> that tests the function you just wrote. Write a function called <code>test_city_country()</code> to verify that calling your function with values such as <code>'santiago'</code> and <code>'chile'</code> results in the correct string. Run the test, and make sure <code>test_city_country()</code> passes.</p>
<p class="BoxBodyCustom"><span id="h2-502703c11-10" class="BoxNumber">11-2. Population:</span> Modify your function so it requires a third parameter, <code>population</code>. It should now return a single string of the form <var>City, Country – population xxx</var>, such as <code>Santiago, Chile – population 5000000</code>. Run the test again, and make sure <code>test_city_country()</code> fails this time.</p>
<p class="BoxBody">Modify the function so the <code>population</code> parameter is optional. Run the test, and make sure <code>test_city_country()</code> passes again.</p>
<p class="BoxBody">Write a second test called <code>test_city_country_population()</code> that verifies you can call your function with the values <code>'santiago'</code>, <code>'chile'</code>, and <code>'population=5000000'</code>. Run the tests one more time, and make sure this new test passes.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c11-0003">Testing a Class</h2>
<p class="BodyFirst">In the first part of this chapter, you wrote tests for a single function. Now you’ll write tests for a class. You’ll use classes in many of your own programs, so it’s helpful to be able to prove that your classes work correctly. If you have passing tests for a class you’re working on, you can be confident that improvements you make to the class won’t accidentally break its current behavior.</p>
<h3 id="h2-502703c11-0009">A Variety of Assertions</h3>
<p class="BodyFirst">So far, you’ve seen just one kind of assertion: a claim that a string has a specific value. When writing a test, you can make any claim that can be expressed as a conditional statement. If the condition is <code>True</code> as expected, your assumption about how that part of your program behaves will be confirmed; you can be confident that no errors exist. If the condition you <span epub:type="pagebreak" title="218" id="Page_218"/>assume is <code>True</code> is actually <code>False</code>, the test will fail and you’ll know there’s an issue to resolve. <a href="#table11-1" id="tableanchor11-1">Table 11-1</a> shows some of the most useful kinds of assertions you can include in your initial tests.</p>
<figure>
<figcaption class="TableTitle"><p><a id="table11-1">Table 11-1</a>: Commonly Used Assertion Statements in Tests</p></figcaption>
<table id="table-502703c11-0001" border="1">
<thead>
<tr>
<td><b>Assertion</b></td>
<td><b>Claim</b></td>
</tr>
</thead>
<tbody>
<tr>
<td><code>assert a == b</code></td>
<td>Assert that two values are equal.</td>
</tr>
<tr>
<td><code>assert a != b</code></td>
<td>Assert that two values are not equal.</td>
</tr>
<tr>
<td><code>assert a</code></td>
<td>Assert that <code>a</code> evaluates to <code>True</code>.</td>
</tr>
<tr>
<td><code>assert not a</code></td>
<td>Assert that <code>a</code> evaluates to <code>False</code>.</td>
</tr>
<tr>
<td><code>assert</code> <var>element</var><code> in </code><var>list</var></td>
<td>Assert that an element is in a list.</td>
</tr>
<tr>
<td><code>assert</code> <var>element</var><code> not in </code><var>list</var></td>
<td>Assert that an element is not in a list.</td>
</tr>
</tbody>
</table>
</figure>
<p>These are just a few examples; anything that can be expressed as a conditional statement can be included in a test.</p>
<h3 id="h2-502703c11-0010">A Class to Test</h3>
<p class="BodyFirst">Testing a class is similar to testing a function, because much of the work involves testing the behavior of the methods in the class. However, there are a few differences, so let’s write a class to test. Consider a class that helps administer anonymous surveys:</p>
<p class="CodeLabel"><b>survey.py</b></p>
<pre><code>class AnonymousSurvey:
    """Collect anonymous answers to a survey question."""

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     def __init__(self, question):
        """Store a question, and prepare to store responses."""
        self.question = question
        self.responses = []

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     def show_question(self):
        """Show the survey question."""
        print(self.question)

<span class="CodeAnnotationHang" aria-label="annotation3">❸</span>     def store_response(self, new_response):
        """Store a single response to the survey."""
        self.responses.append(new_response)

<span class="CodeAnnotationHang" aria-label="annotation4">❹</span>     def show_results(self):
        """Show all the responses that have been given."""
        print("Survey results:")
        for response in self.responses:
            print(f"- {response}")</code></pre>
<p>This class starts with a survey question that you provide <span class="CodeAnnotation" aria-label="annotation1">❶</span> and includes an empty list to store responses. The class has methods to print the survey question <span class="CodeAnnotation" aria-label="annotation2">❷</span>, add a new response to the response list <span class="CodeAnnotation" aria-label="annotation3">❸</span>, and print all the responses stored in the list <span class="CodeAnnotation" aria-label="annotation4">❹</span>. To create an instance from this class, all you <span epub:type="pagebreak" title="219" id="Page_219"/>have to provide is a question. Once you have an instance representing a particular survey, you display the survey question with <code>show_question()</code>, store a response using <code>store_response()</code>, and show results with <code>show_results()</code>.</p>
<p>To show that the <code>AnonymousSurvey</code> class works, let’s write a program that uses the class:</p>
<p class="CodeLabel"><b>language_survey.py</b></p>
<pre><code>from survey import AnonymousSurvey

# Define a question, and make a survey.
question = "What language did you first learn to speak?"
language_survey = AnonymousSurvey(question)

# Show the question, and store responses to the question.
language_survey.show_question()
print("Enter 'q' at any time to quit.\n")
while True:
    response = input("Language: ")
    if response == 'q':
        break
    language_survey.store_response(response)

# Show the survey results.
print("\nThank you to everyone who participated in the survey!")
language_survey.show_results()</code></pre>
<p>This program defines a question (<code>"What language did you first learn to speak?"</code>) and creates an <code>AnonymousSurvey</code> object with that question. The program calls <code>show_question()</code> to display the question and then prompts for responses. Each response is stored as it is received. When all responses have been entered (the user inputs <code>q</code> to quit), <code>show_results()</code> prints the survey results:</p>
<pre><code>What language did you first learn to speak?
Enter 'q' at any time to quit.

Language: <b>English</b>
Language: <b>Spanish</b>
Language: <b>English</b>
Language: <b>Mandarin</b>
Language: <b>q</b>

Thank you to everyone who participated in the survey!
Survey results:
- English
- Spanish
- English
- Mandarin</code></pre>
<p>This class works for a simple anonymous survey, but say we want to improve <code>AnonymousSurvey</code> and the module it’s in, <code>survey</code>. We could allow each user to enter more than one response, we could write a method to list only unique responses and to report how many times each response was given, or we could even write another class to manage non-anonymous surveys.</p>
<p><span epub:type="pagebreak" title="220" id="Page_220"/>Implementing such changes would risk affecting the current behavior of the class <code>AnonymousSurvey</code>. For example, it’s possible that while trying to allow each user to enter multiple responses, we could accidentally change how single responses are handled. To ensure we don’t break existing behavior as we develop this module, we can write tests for the class.</p>
<h3 id="h2-502703c11-0011">Testing the AnonymousSurvey Class</h3>
<p class="BodyFirst">Let’s write a test that verifies one aspect of the way <code>AnonymousSurvey</code> behaves. We’ll write a test to verify that a single response to the survey question is stored properly:</p>
<p class="CodeLabel"><b>test_survey.py</b></p>
<pre><code>from survey import AnonymousSurvey

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> def test_store_single_response():
    """Test that a single response is stored properly."""
    question = "What language did you first learn to speak?"
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     language_survey = AnonymousSurvey(question)
    language_survey.store_response('English')
<span class="CodeAnnotationHang" aria-label="annotation3">❸</span>     assert 'English' in language_survey.responses</code></pre>
<p>We start by importing the class we want to test, <code>AnonymousSurvey</code>. The first test function will verify that when we store a response to the survey question, the response will end up in the survey’s list of responses. A good descriptive name for this function is <code>test_store_single_response()</code> <span class="CodeAnnotation" aria-label="annotation1">❶</span>. If this test fails, we’ll know from the function name in the test summary that there was a problem storing a single response to the survey.</p>
<p>To test the behavior of a class, we need to make an instance of the class. We create an instance called <code>language_survey</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span> with the question <code>"What language did you first learn to speak?"</code> We store a single response, <code>English</code>, using the <code>store_response()</code> method. Then we verify that the response was stored correctly by asserting that <code>English</code> is in the list <code>language_survey.responses</code> <span class="CodeAnnotation" aria-label="annotation3">❸</span>.</p>
<p>By default, running the command <code class="bold">pytest</code> with no arguments will run all the tests that <code>pytest</code> discovers in the current directory. To focus on the tests in one file, pass the name of the test file you want to run. Here we’ll run just the one test we wrote for <code>AnonymousSurvey</code>:</p>
<pre><code>$ <b>pytest test_survey.py</b>
========================= test session starts =========================
<var>--snip--</var>
test_survey.py .                                                 [100%]
========================== 1 passed in 0.01s ==========================</code></pre>
<p>This is a good start, but a survey is useful only if it generates more than one response. Let’s verify that three responses can be stored correctly. To do this, we add another method to <code>TestAnonymousSurvey</code>:</p>
<pre><code><span class="LiteralGray">from survey import AnonymousSurvey</span>

<span class="LiteralGray">def test_store_single_response():</span>
<span epub:type="pagebreak" title="221" id="Page_221"/>    <em class="LiteralGrayItalic">--snip--</em>

def test_store_three_responses():
    """Test that three individual responses are stored properly."""
    question = "What language did you first learn to speak?"
    language_survey = AnonymousSurvey(question)
<span class="CodeAnnotationHang" aria-label="annotation1">❶</span>     responses = ['English', 'Spanish', 'Mandarin']
    for response in responses:
        language_survey.store_response(response)

<span class="CodeAnnotationHang" aria-label="annotation2">❷</span>     for response in responses:
        assert response in language_survey.responses</code></pre>
<p>We call the new function <code>test_store_three_responses()</code>. We create a survey object just like we did in <code>test_store_single_response()</code>. We define a list containing three different responses <span class="CodeAnnotation" aria-label="annotation1">❶</span>, and then we call <code>store_response()</code> for each of these responses. Once the responses have been stored, we write another loop and assert that each response is now in <code>language_survey.responses</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span>.</p>
<p>When we run the test file again, both tests (for a single response and for three responses) pass:</p>
<pre><code>$ <b>pytest test_survey.py</b>
========================= test session starts =========================
<var>--snip--</var>
test_survey.py ..                                                [100%]
========================== 2 passed in 0.01s ==========================</code></pre>
<p>This works perfectly. However, these tests are a bit repetitive, so we’ll use another feature of <code>pytest</code> to make them more efficient.</p>
<h3 id="h2-502703c11-0012">Using Fixtures</h3>
<p class="BodyFirst">In <em>test_survey.py</em>, we created a new instance of <code>AnonymousSurvey</code> in each test function. This is fine in the short example we’re working with, but in a real-world project with tens or hundreds of tests, this would be problematic.</p>
<p>In testing, a <em>fixture</em> helps set up a test environment. Often, this means creating a resource that’s used by more than one test. We create a fixture in <code>pytest</code> by writing a function with the decorator <code>@pytest.fixture</code>. A <em>decorator</em> is a directive placed just before a function definition; Python applies this directive to the function before it runs, to alter how the function code behaves. Don’t worry if this sounds complicated; you can start to use decorators from third-party packages before learning to write them yourself.</p>
<p>Let’s use a fixture to create a single survey instance that can be used in both test functions in <em>test_survey.py</em>:</p>
<pre><code>import pytest
<span class="LiteralGray">from survey import AnonymousSurvey</span>

<span class="CodeAnnotationHang" aria-label="annotation1">❶</span> @pytest.fixture
<span class="CodeAnnotationHang" aria-label="annotation2">❷</span> def language_survey():
    """A survey that will be available to all test functions."""
<span epub:type="pagebreak" title="222" id="Page_222"/>    question = "What language did you first learn to speak?"
    language_survey = AnonymousSurvey(question)
    return language_survey

<span class="CodeAnnotationHang" aria-label="annotation3">❸</span> def test_store_single_response(language_survey):
    <span class="LiteralGray">"""Test that a single response is stored properly."""</span>
<span class="CodeAnnotationHang" aria-label="annotation4">❹</span>     <span class="LiteralGray">language_survey.store_response('English')</span>
<span class="LiteralGray">    assert 'English' in language_survey.responses</span>

<span class="CodeAnnotationHang" aria-label="annotation5">❺</span> def test_store_three_responses(language_survey):
    <span class="LiteralGray">"""Test that three individual responses are stored properly."""</span>
    <span class="LiteralGray">responses = ['English', 'Spanish', 'Mandarin']</span>
<span class="LiteralGray">    for response in responses:</span>
<span class="CodeAnnotationHang" aria-label="annotation6">❻</span><span class="LiteralGray">         language_survey.store_response(response)</span>

<span class="LiteralGray">    for response in responses:</span>
<span class="LiteralGray">        assert response in language_survey.responses</span></code></pre>
<p>We need to import <code>pytest</code> now, because we’re using a decorator that’s defined in <code>pytest</code>. We apply the <code>@pytest.fixture</code> decorator <span class="CodeAnnotation" aria-label="annotation1">❶</span> to the new function <code>language_survey()</code> <span class="CodeAnnotation" aria-label="annotation2">❷</span>. This function builds an <code>AnonymousSurvey</code> object and returns the new survey.</p>
<p>Notice that the definitions of both test functions have changed <span class="CodeAnnotation" aria-label="annotation3">❸</span> <span class="CodeAnnotation" aria-label="annotation5">❺</span>; each test function now has a parameter called <code>language_survey</code>. When a parameter in a test function matches the name of a function with the <code>@pytest.fixture</code> decorator, the fixture will be run automatically and the return value will be passed to the test function. In this example, the function <code>language_survey()</code> supplies both <code>test_store_single_response()</code> and <code>test_store_three_responses()</code> with a <code>language_survey</code> instance.</p>
<p>There’s no new code in either of the test functions, but notice that two lines have been removed from each function <span class="CodeAnnotation" aria-label="annotation4">❹</span> <span class="CodeAnnotation" aria-label="annotation6">❻</span>: the line that defined a question and the line that created an <code>AnonymousSurvey</code> object.</p>
<p>When we run the test file again, both tests still pass. These tests would be particularly useful when trying to expand <code>AnonymousSurvey</code> to handle multiple responses for each person. After modifying the code to accept multiple responses, you could run these tests and make sure you haven’t affected the ability to store a single response or a series of individual responses.</p>
<p>The structure above will almost certainly look complicated; it contains some of the most abstract code you’ve seen so far. You don’t need to use fixtures right away; it’s better to write tests that have a lot of repetitive code than to write no tests at all. Just know that when you’ve written enough tests that the repetition is getting in the way, there’s a well-established way to deal with the repetition. Also, fixtures in simple examples like this one don’t really make the code any shorter or simpler to follow. But in projects with many tests, or in situations where it takes many lines to build a resource that’s used in multiple tests, fixtures can drastically improve your test code.</p>
<p>When you want to write a fixture, write a function that generates the resource that’s used by multiple test functions. Add the <code>@pytest.fixture</code> <span epub:type="pagebreak" title="223" id="Page_223"/>decorator to the new function, and add the name of this function as a parameter for each test function that uses this resource. Your tests will be shorter and easier to write and maintain from that point forward.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Try It Yourself</h2>
<p class="BoxBodyCustom"><span id="h2-502703c11-15" class="BoxNumber">11-3. Employee:</span> Write a class called <code>Employee</code>. The <code>__init__()</code> method should take in a first name, a last name, and an annual salary, and store each of these as attributes. Write a method called <code>give_raise()</code> that adds $5,000 to the annual salary by default but also accepts a different raise amount.</p>
<p class="BoxBody">Write a test file for <code>Employee</code> with two test functions, <code>test_give_default_raise()</code> and <code>test_give_custom_raise()</code>. Write your tests once without using a fixture, and make sure they both pass. Then write a fixture so you don’t have to create a new employee instance in each test function. Run the tests again, and make sure both tests still pass.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-502703c11-0004">Summary</h2>
<p class="BodyFirst">In this chapter, you learned to write tests for functions and classes using tools in the <code>pytest</code> module. You learned to write test functions that verify specific behaviors your functions and classes should exhibit. You saw how fixtures can be used to efficiently create resources that can be used in multiple test functions in a test file.</p>
<p>Testing is an important topic that many newer programmers aren’t exposed to. You don’t have to write tests for all the simple projects you try as a new programmer. But as soon as you start to work on projects that involve significant development effort, you should test the critical behaviors of your functions and classes. You’ll be more confident that new work on your project won’t break the parts that work, and this will give you the freedom to make improvements to your code. If you accidentally break existing functionality, you’ll know right away, so you can still fix the problem easily. Responding to a failed test that you ran is much easier than responding to a bug report from an unhappy user.</p>
<p>Other programmers will respect your projects more if you include some initial tests. They’ll feel more comfortable experimenting with your code and be more willing to work with you on projects. If you want to contribute to a project that other programmers are working on, you’ll be expected to show that your code passes existing tests and you’ll usually be expected to write tests for any new behavior you introduce to the project.</p>
<p>Play around with tests to become familiar with the process of testing your code. Write tests for the most critical behaviors of your functions and classes, but don’t aim for full coverage in early projects unless you have a specific reason to do so.</p>
</section>
</div></body></html>