## **导言**

![image](img/common01.jpg)

欢迎来到*不切实际的 Python 项目*！在这里，你将使用 Python 编程语言探索火星、木星以及银河系的最远端；诗人的灵魂；金融的世界；间谍活动和选举舞弊的黑暗面；游戏节目的骗局；等等。你将运用马尔可夫链分析写出俳句，使用蒙特卡洛模拟来建模金融市场，采用图像堆叠技术来提升你的天文摄影水平，运用遗传算法繁育出一支巨型老鼠军队，同时还会获得使用 `pygame`、Pylint、pydocstyle、`tkinter`、`python-docx`、`matplotlib` 和 `pillow` 等模块的经验。最重要的是，你会玩得很开心。

### **本书适合谁阅读**

你可以把这本书当作你的第二本 Python 书籍。它旨在跟进并补充一本完整的初学者书籍或入门课程。你将能够继续通过基于项目的方法进行自学，而无需浪费金钱或书架空间来重新学习你已经掌握的概念。放心，我不会让你感到迷茫；所有的代码都有注释和解释。

这些项目适合任何希望通过编程进行实验、验证理论、模拟自然，或仅仅是为了乐趣的人。这包括那些将编程作为工作一部分的人（比如科学家和工程师），但并非专业程序员的人，还有我所称之为“坚定的非专业人士”的人——那些喜欢将编程问题作为一种有趣消遣的业余爱好者。如果你一直想尝试本书中介绍的概念，却发现从零开始复杂的项目太令人畏惧或耗时，那么本书就是为你准备的。

### **本书内容**

在完成项目的过程中，你将增加对有用的 Python 库和模块的了解；学习更多快捷键、内置函数和有用的技巧；并练习设计、测试和优化程序。此外，你还能够将你所做的与现实世界中的应用、数据集和问题联系起来。

引用拉尔夫·沃尔多·爱默生的话：“没有热情，就没有伟大的成就。”这同样适用于学习体验。本书的最终目标是激发你的想象力，引导你开发自己感兴趣的项目。如果一开始这些项目看起来过于雄心勃勃，不要担心；一点点努力和大量的谷歌搜索可以创造奇迹——而且比你想象的更快。

以下是本书各章节的概述。你不必按顺序完成它们，但最简单的项目在前面，当新概念、模块和技术首次引入时，我会更详细地解释。

**第一章：傻名字生成器** 这个热身项目介绍了 Python 的 PEP 8 和 PEP 257 风格指南，以及 Pylint 和 pydocstyle 模块，它们分析你的代码是否符合这些指南。最终产品是一个受美国网络电视节目*Psych*启发的傻名字生成器。

**第二章：寻找回文咒语** 学习如何在保存 DC 漫画中的女巫扎塔娜免于痛苦死亡的过程中分析你的代码。在在线词典中搜索扎塔娜需要用来击败一个逆时间反派的魔法回文。

**第三章：解决字谜** 编写一个程序，帮助用户根据他们的名字创建一个短语字谜；例如，*Clint Eastwood* 变成 *old west action*。然后帮助汤姆·马沃罗·里德尔（Tom Marvolo Riddle）用语言筛选器推导出他的字谜，“I am Lord Voldemort”（我是伏地魔）。

**第四章：破解美国内战密码** 调查并破解历史上最成功的军事密码之一——联邦路线密码。然后帮助双方间谍使用之字形铁丝栅栏密码发送和解码秘密消息。

**第五章：编码英国内战密码** 通过解码英国内战的空白密码读取一个显而易见的隐藏信息。然后，通过设计并实现代码，完成更困难的任务——*编写*一个空白密码，从而拯救苏格兰玛丽女王的头颅。

**第六章：写不可见墨水** 帮助一名公司内鬼背叛福尔摩斯的父亲，并使用不可见的电子墨水逃避侦查。本章基于 CBS 电视节目*Elementary*的一集。

**第七章：利用遗传算法繁殖巨型大鼠** 使用受达尔文进化启发的遗传算法，培育出一种体型与雌性獒犬相当的超级大鼠种群。然后帮助詹姆斯·邦德在眨眼之间破解一个具有 100 亿种可能组合的保险箱。

**第八章：为俳句诗歌计数音节** 教你的计算机计算英语中的音节，为下一章写作日本俳句诗歌做准备。

**第九章：通过马尔可夫链分析写俳句** 教你的计算机通过将第八章中的音节计数模块与马尔可夫链分析结合，以及使用几百首古代和现代俳句的训练语料库，写出俳句。

**第十章：我们是孤单的吗？探索费米悖论** 使用德雷克方程、银河系的维度和可探测的“发射气泡”大小的假设，研究外星无线电信号的缺失。学习并使用流行的`tkinter`模块构建银河系和地球无线电气泡的图形显示。

**第十一章：蒙提霍尔问题** 帮助世界上最聪明的女人赢得蒙提霍尔问题的辩论。然后使用面向对象编程（OOP）构建一个蒙提著名游戏的版本，并加入有趣的图形界面。

**第十二章：保障你的退休金** 使用基于蒙特卡洛的金融模拟来规划你（或你父母）的安全退休生活。

**第十三章：模拟外星火山** 使用`pygame`模拟木星卫星欧罗巴上的火山爆发。

**第十四章：使用火星轨道器绘制火星地图** 创建一个基于重力的街机游戏，推动卫星进入圆形的地图轨道，同时避免燃料耗尽或在大气中燃烧。显示关键参数的读数，追踪轨道路径，添加行星的阴影，并缓慢旋转火星轴心，同时学习轨道力学！

**第十五章：通过行星堆叠提升你的天文摄影技巧** 通过使用 Python 图像库对低质量视频图像进行光学堆叠，揭示木星的云带和大红斑。学习如何使用内置的`os`和`shutil`模块处理文件、文件夹和目录路径。

**第十六章：利用本福德定律发现欺诈行为** 使用*本福德定律*调查 2016 年总统选举中的投票篡改。使用`matplotlib`将结果总结成图表。

每章结束时至少会有一个实践项目或挑战项目。每个实践项目都附有解决方案。但这并不意味着它是*最佳*解决方案——你可能会自己想出更好的方法，所以不要提前查看！

然而，在挑战项目中，你将真正独立完成任务。当科尔特斯于 1519 年入侵墨西哥时，他烧毁了自己的卡拉维尔船只，以使他的征服者们意识到无法回头；他们必须以坚定不移的决心面对阿兹特克人。因此，“烧掉你的船”这一表达成为了全身心投入或完全承诺一项任务的代名词。这就是你面对挑战项目时应有的态度——就好像你的船已经被烧掉——如果你这样做，你很可能会从这些练习中学到比书中的任何其他部分更多的知识！

#### ***Python 版本、平台和 IDE***

我在本书中构建的每个项目都是在 Microsoft Windows 10 环境下使用 Python v3.5 完成的。如果你使用的是不同的操作系统，也没问题：我会在适当的地方为其他平台建议兼容的模块。

本书中的代码示例和屏幕截图来自 Python IDLE 文本编辑器或交互式 shell。IDLE 代表*集成开发与学习环境*。它是一个*集成开发环境（IDE）*，加上一个*L*，使得这个首字母缩略词参考了*Monty Python*的埃里克·艾德尔。交互式 shell，也称为*解释器*，是一个窗口，允许你立即执行命令并测试代码，而无需创建文件。

IDLE 有许多缺点，比如没有行号列，但它是免费的，并且与 Python 一起捆绑提供，因此每个人都可以使用它。你可以随意使用任何你喜欢的 IDE。网上有很多选择，比如 Geany（发音为*genie*）、PyCharm 和 PyScripter。Geany 适用于多种操作系统，包括 Unix、macOS 和 Windows。PyCharm 适用于 Linux、Windows 和 macOS。PyScripter 适用于 Windows。有关可用的 Python 开发工具及其兼容平台的详细信息，请访问*[`wiki.python.org/moin/DevelopmentTools/`](https://wiki.python.org/moin/DevelopmentTools/)。

#### ***代码***

本书中的每个项目都提供了完整的代码，我建议你尽可能手动输入这些代码。一位大学教授曾经告诉我，我们是通过“手”来学习的，我不得不承认，亲自输入代码会迫使你最大程度地关注代码的每一部分。

但是，如果你想快速完成项目，或者不小心删除了所有工作，你可以从*[`www.nostarch.com/impracticalpython/`](https://www.nostarch.com/impracticalpython/)*下载所有代码，包括练习项目的解决方案。该网站还包含本书的勘误表，以便进行未来的更新或更改。

#### ***编码风格***

本书的重点是问题解决和初学者的趣味性，因此代码有时可能会偏离最佳实践和最高效的实现方式。有时你可能会使用列表推导式或特殊运算符，但大多数时候，你将专注于简单、易学的代码。

保持简洁对于那些阅读本书的非程序员来说非常重要。他们的代码很多可能是“一次性代码”——只为特定目的使用一两次，之后就被丢弃。这类代码可能会与同事共享，或在员工更替时交给他们，因此应该易于理解和上手。

本书中的所有主要项目代码都有注释，并以独立的方式进行解释，通常遵循*Python 增强提案 8*，也就是*PEP 8*的风格建议。关于 PEP 8 的详细信息，以及帮助你遵循这些指南的软件，详见第一章。

### **获取帮助的途径**

承接编程挑战可能会是非常具有挑战性的。编程并不总是你可以凭直觉就能解决的事情——即便是像 Python 这样友好的语言。在接下来的章节中，我将提供有用信息来源的链接和参考，但对于你自己设计的项目，在线搜索无疑是最好的解决方式。

成功搜索的关键是知道该问什么。这一过程一开始可能会让人感到沮丧，但把它看作是一场“二十个问题”的游戏。随着每次搜索的推进，继续改进你的关键词，直到找到答案或达到收效递减的地步。

如果书籍和在线搜索都没能解决问题，那么下一步就是请教别人。你可以在线提问，既可以付费，也可以在像 Stack Overflow (*[`stackoverflow.com/`](https://stackoverflow.com/)*) 这样的免费论坛上提问。但需要注意的是：这些网站的成员对愚蠢的问题可不太宽容。在发布问题之前，务必阅读他们的“如何提问？”页面；例如，你可以在 *[`stackoverflow.com/help/how-to-ask/`](http://stackoverflow.com/help/how-to-ask/)* 找到 Stack Overflow 的相关内容。

### **前进！**

感谢你花时间阅读介绍部分！你显然希望从本书中获得尽可能多的知识，而且你已经迈出了一个好的开始。当你完成阅读时，你将更加熟练于 Python，并且更好地准备好解决具有挑战性的实际问题。让我们开始吧。
