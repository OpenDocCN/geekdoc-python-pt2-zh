<html><head></head><body>
<h2 class="h2" id="ch01"><span epub:type="pagebreak" id="page_1"/><strong><span class="big">1</span><br/>SILLY NAME GENERATOR</strong></h2>
<div class="image1"><img src="../images/common01.jpg" alt="image"/></div>
<p class="noindent">The USA Network television channel once ran a detective dramedy called <em>Psych</em>, in which hyper-observant amateur sleuth Shawn Spencer solved cases while pretending to use psychic abilities. A trademark of the show was the way he would introduce his sidekick, Gus, with goofy names made up on the fly, like Galileo Humpkins, Lavender Gooms, and Bad News Marvin Barnes. As Shawn might’ve said, some of these names are so seriously silly they could give you a brain aneurysm, and not the good kind!</p>
<h3 class="h3a" id="lev8"><strong>Project #1: Generating Pseudonyms</strong></h3>
<p class="noindent">In this warm-up project, you’ll write a simple Python program that generates nutty names by randomly combining first names and surnames. With any luck, you’ll produce a plethora of aliases that would make any <span epub:type="pagebreak" id="page_2"/>sidekick proud. You’ll also review best-practice coding guidelines and apply external programs that will help you write code that conforms to those guidelines.</p>
<p class="indent"><em>Psych</em> not your thing? Replace the names in my list in the code with your own jokes or theme. You could just as easily turn this project into a <em>Game of Thrones</em> name generator, or perhaps you want to discover your very own “Benedict Cumberbatch” name; my favorite is Bendylick Cricketbat.</p>
<div class="sidebar">
<p class="sidebart"><strong>THE OBJECTIVE</strong></p>
<p class="spara">Randomly generate funny sidekick names using Python code that conforms to established style guidelines.</p>
</div>
<h3 class="h3" id="lev9"><strong>Planning and Designing a Project</strong></h3>
<p class="noindent">Planning time is never wasted time. It doesn’t matter whether you’re programming for fun or profit; at some point, you’ll need to estimate—fairly accurately—how long the project will take, what obstacles you may encounter, and what tools and resources you’ll need to do the work. And to accomplish that, you’ll need to know what you’re trying to create in the first place!</p>
<p class="indent">A successful manager once told me that his secret was simply to ask lots of questions: <em>What</em> are you trying to do? <em>Why</em> are you doing it? Why are you doing it <em>this way</em>? How much <em>time</em> do you have? How much <em>money</em>? Answering these questions is extremely helpful to the design process and gives you a clear line of sight.</p>
<p class="indent">In his book <em>Think Python, 2nd Edition</em> (O’Reilly, 2015), Allen Downey describes two types of software development plans: “prototype and patch” and “designed development.” With prototype and patch, you start with a simple program and then use <em>patches</em>, or edited code, to handle problems encountered in testing. This can be a good approach when you’re working through a complex problem you don’t understand very well. But it can also produce complicated and unreliable code. If you have a clear view of the problem and how you want to solve it, you should use a designed development plan to avoid future issues and their subsequent patches. This approach can make coding easier and more efficient, and it typically leads to stronger and more reliable code.</p>
<p class="indent">For all the projects in this book, you’ll start with a clearly defined problem or goal that will form the basis of your design decisions. Then we’ll discuss strategy to better understand the issues and create a designed development plan.</p>
<h4 class="h4" id="lev10"><span epub:type="pagebreak" id="page_3"/><strong><em>The Strategy</em></strong></h4>
<p class="noindent">You’ll start with two lists—first and last—of funny names. The lists will be relatively short, so they won’t be memory intensive, won’t need to be dynamically updated, and shouldn’t present any runtime issues. Since all you’ll need to do is read names from the list, you’ll use a tuple as a container.</p>
<p class="indent">With your two tuples of names, you’ll generate new names—pairing a first name with a last—at the touch of a button. That way, the user can easily repeat the process until a sufficiently funny name appears.</p>
<p class="indent">You should also highlight the name in the interpreter window somehow so it stands out from the command prompts. The IDLE shell doesn’t provide many font options, but you probably know—all too well—that errors appear in red. The default for the <code>print()</code> function is the standard output, but with the <code>sys</code> module loaded, you can redirect the output to the error channel, with its trademark red coloring, using the <code>file</code> parameter: <code>print(</code><span class="codeitalic">something</span><code>, file=sys.stderr)</code>.</p>
<p class="indent">Finally, you’ll determine what style recommendations exist for Python programming. These guidelines should address not only the code but also documentation embedded within the code.</p>
<h4 class="h4" id="lev11"><strong><em>The Pseudocode</em></strong></h4>
<p class="noindent">“You can always count on the Americans to do the right thing after they have tried everything else.” That quote, weakly linked to Winston Churchill, sums up the way many people approach writing pseudocode.</p>
<p class="indent"><em>Pseudocode</em> is a high-level, informal way to describe computer programs using structured English or any human language. It should resemble a simplified programming language and include keywords and proper indentations. Developers use it to ignore all the arcane syntax of true programming languages and focus on the underlying logic. Despite its widespread use, pseudocode has no official standards—only guidelines.</p>
<p class="indent">If you find you’ve hacked your way into frustration, it may be because you didn’t take the time to write pseudocode. I am a true believer in it, as pseudocode has—without fail—guided me to solutions when I was otherwise lost in the woods. Consequently, you’ll use some form of pseudocode in most of the projects in this book. At the very least, I hope you’ll see its utility, but I also hope you’ll develop the discipline to write it in your own projects.</p>
<p class="indent">A very high-level pseudocode for our funny name generator could look like this:</p>
<pre>Load a list of first names<br/>Load a list of surnames<br/>Choose a first name at random<br/>Assign the name to a variable<br/>Choose a surname at random<br/>Assign the name to a variable<br/><span epub:type="pagebreak" id="page_4"/>Print the names to the screen in order and in red font<br/>Ask the user to quit or play again<br/>If user plays again:<br/>    repeat<br/>If user quits:<br/>    end and exit</pre>
<p class="indent">Unless you’re trying to pass a programming class or provide clear instructions to others, focus on the <em>purpose</em> of the pseudocode; don’t worry about slavishly complying with the (nonstandard) guidelines for writing it. And don’t stop with programming—you can apply the pseudocode process to much more. Once you get the hang of it, you might find it helps you complete other tasks like doing your taxes, planning your investments, building a house, or getting ready for a camping trip. It’s a great way to focus your thinking and carry programming successes over into real life. If only Congress would use it!</p>
<h3 class="h3" id="lev12"><strong>The Code</strong></h3>
<p class="noindent"><a href="ch01.xhtml#ch01list1">Listing 1-1</a> is the code for the funny name generator, <em>pseudonyms.py</em>, which compiles and prints a list of pseudonyms from two tuples of names. If you don’t want to type all the names, you can type a subset or download the code from <em><a href="https://nostarch.com/impracticalpython/">https://nostarch.com/impracticalpython/</a></em>.</p>
<p class="margin"><em>pseudonyms.py</em></p>
<pre><span class="ent">➊</span> import sys, random<br/><br/><span class="ent">➋</span> print("Welcome to the Psych 'Sidekick Name Picker.'\n")<br/>   print("A name just like Sean would pick for Gus:\n\n")<br/><br/>   first = ('Baby Oil', 'Bad News', 'Big Burps', "Bill 'Beenie-Weenie'",<br/>            "Bob 'Stinkbug'", 'Bowel Noises', 'Boxelder', "Bud 'Lite' ",<br/>            'Butterbean', 'Buttermilk', 'Buttocks', 'Chad', 'Chesterfield',<br/>            'Chewy', 'Chigger", "Cinnabuns', 'Cleet', 'Cornbread', 'Crab Meat',<br/>            'Crapps', 'Dark Skies', 'Dennis Clawhammer', 'Dicman', 'Elphonso',<br/>            'Fancypants', 'Figgs', 'Foncy', 'Gootsy', 'Greasy Jim', 'Huckleberry',<br/>            'Huggy', 'Ignatious', 'Jimbo', "Joe 'Pottin Soil'", 'Johnny',<br/>            'Lemongrass', 'Lil Debil', 'Longbranch', '"Lunch Money"',<br/>            'Mergatroid', '"Mr Peabody"', 'Oil-Can', 'Oinks', 'Old Scratch',<br/>            'Ovaltine', 'Pennywhistle', 'Pitchfork Ben', 'Potato Bug',<br/>            'Pushmeet','Rock Candy', 'Schlomo', 'Scratchensniff', 'Scut',<br/>            "Sid 'The Squirts'", 'Skidmark', 'Slaps', 'Snakes', 'Snoobs',<br/>            'Snorki', 'Soupcan Sam', 'Spitzitout', 'Squids', 'Stinky',<br/>            'Storyboard', 'Sweet Tea', 'TeeTee', 'Wheezy Joe',<br/>            "Winston 'Jazz Hands'", 'Worms')<br/><br/>   last = ('Appleyard', 'Bigmeat', 'Bloominshine', 'Boogerbottom',<br/>           'Breedslovetrout', 'Butterbaugh', 'Clovenhoof', 'Clutterbuck',<br/>           'Cocktoasten', 'Endicott', 'Fewhairs', 'Gooberdapple', 'Goodensmith',<br/>           'Goodpasture', 'Guster', 'Henderson', 'Hooperbag', 'Hoosenater',<br/>           'Hootkins', 'Jefferson', 'Jenkins', 'Jingley-Schmidt', 'Johnson',<br/>   <span epub:type="pagebreak" id="page_5"/>        'Kingfish', 'Listenbee', "M'Bembo", 'McFadden', 'Moonshine', 'Nettles',<br/>           'Noseworthy', 'Olivetti', 'Outerbridge', 'Overpeck', 'Overturf',<br/>           'Oxhandler', 'Pealike', 'Pennywhistle', 'Peterson', 'Pieplow',<br/>           'Pinkerton', 'Porkins', 'Putney', 'Quakenbush', 'Rainwater',<br/>           'Rosenthal', 'Rubbins', 'Sackrider', 'Snuggleshine', 'Splern',<br/>           'Stevens', 'Stroganoff', 'Sugar-Gold', 'Swackhamer', 'Tippins',<br/>           'Turnipseed', 'Vinaigrette', 'Walkingstick', 'Wallbanger', 'Weewax',<br/>           'Weiners', 'Whipkey', 'Wigglesworth', 'Wimplesnatch', 'Winterkorn',<br/>           'Woolysocks')<br/><br/><span class="ent">➌</span> while True:<br/>    <span class="ent">➍</span> firstName = random.choice(first)<br/><br/>    <span class="ent">➎</span> lastName = random.choice(last)<br/><br/>       print("\n\n")<br/>    <span class="ent">➏</span> print("{} {}".format(firstName, lastName), file=sys.stderr)<br/>       print("\n\n")<br/><br/>    <span class="ent">➐</span> try_again = input("\n\nTry again? (Press Enter else n to quit)\n ")<br/>       if try_again.lower() == "n":<br/>           break<br/><br/><span class="ent">➑</span> input("\nPress Enter to exit.")</pre>
<p class="listing" id="ch01list1"><em>Listing 1-1: Generates silly pseudonyms from tuples of names</em></p>
<p class="indent">First, import the <code>sys</code> and <code>random</code> modules <span class="ent">➊</span>. You’ll use <code>sys</code> to access the system-specific error message functionality, so you can color your output an eye-catching red in the IDLE window. And <code>random</code> lets you pick, at random, items from your name lists.</p>
<p class="indent">The <code>print</code> statements at <span class="ent">➋</span> introduce the program to the user. The newline command <code>\n</code> forces a new line, and single quotes <code>''</code> allow you to use quotes in the printout without having to resort to the backslash escape character, which would reduce code readability.</p>
<p class="indent">Next, define your tuples of names. Then initiate the <code>while</code> loop <span class="ent">➌</span>. Setting <code>while = True</code> basically means “Keep running until I tell you to stop.” Eventually, you’ll use a <code>break</code> statement to end the loop.</p>
<p class="indent">The loop starts by choosing a name from the <code>first</code> tuple at random and then assigns that name to the variable <code>firstName</code> <span class="ent">➍</span>. It uses the <code>random</code> module’s <code>choice</code> method to return a random element from a nonempty sequence—in this case, the tuple of first names.</p>
<p class="indent">Next, choose a surname at random from the <code>last</code> tuple and assign it to the variable <code>lastName</code> <span class="ent">➎</span>. Now that you have both names, print them and trick IDLE into using the red “error” font by supplying the optional argument <code>file=sys.stderr</code> to the <code>print</code> statement <span class="ent">➏</span>. Use the newer string format <em>method</em>, rather than the older string format <em>operator</em> (<code>%</code>), to convert the name variables to a string. To read more about the new method, see <em><a href="https://docs.python.org/3.7/library/string.html">https://docs.python.org/3.7/library/string.html</a></em>.</p>
<p class="indent">Once the name is displayed, ask the user to choose to play again or quit, using <code>input</code> to provide the instruction in quotes. In this case, include a few blank lines as well to make the funny name more obvious in the IDLE <span epub:type="pagebreak" id="page_6"/>window. If the user responds by pressing the <small>ENTER</small> key, nothing is returned to the <code>try_again</code> variable <span class="ent">➐</span>. With nothing returned, the condition on the <code>if</code> statement isn’t met, the <code>while</code> loop continues, and a new name is printed. If the user instead presses the N key, the <code>if</code> statement results in a <code>break</code> command, and the loop ends because the <code>while</code> statement no longer evaluates to <code>True</code>. Use the lowercase string method <code>.lower()</code> to mitigate the player’s <small>CAPS LOCK</small> key being engaged. In other words, it doesn’t matter whether the user inputs a lowercase or uppercase N, because the program will always read it as lowercase.</p>
<p class="indent">Finally, ask the user to exit by pressing the <small>ENTER</small> key <span class="ent">➑</span>. Pressing <small>ENTER</small> doesn’t assign the return value of <code>input()</code> to a variable, the program ends, and the console window closes. Pressing F5 in the IDLE editor window executes the completed program.</p>
<p class="indent">This code works, but working isn’t enough—programs in Python should work with <em>style</em>.</p>
<h4 class="h4" id="lev13"><strong><em>Using the Python Community’s Style Guide</em></strong></h4>
<p class="noindent">According to the <em>Zen of Python</em> (<em><a href="https://www.python.org/dev/peps/pep-0020/">https://www.python.org/dev/peps/pep-0020/</a></em>), “There should be one—and preferably only one—obvious way to do something.” In the spirit of providing a single obvious “right way” of doing things and building consensus around these practices, the Python community releases <em>Python Enhancement Proposals</em>, which are coding conventions for the Python code comprising the standard library in the main Python distribution. The most important of these is <em>PEP 8</em>, a style guide for Python programming. PEP 8 evolves over time as new conventions are identified and past ones are rendered obsolete by changes in the language.</p>
<p class="indent">PEP 8 (<em><a href="https://www.python.org/dev/peps/pep-0008/">https://www.python.org/dev/peps/pep-0008/</a></em>) sets standards for naming conventions; use of blank lines, tabs, and spaces; maximum line length; comments; and so on. The goal is to improve the readability of code and make it consistent across a wide spectrum of Python programs. When you start programming, you should strive to learn and follow the accepted conventions, before bad habits become engrained. The code in this book will conform closely to PEP 8, but I have overridden some conventions (by using less commented code, fewer blank lines, and shorter docstrings, for example) in deference to the publishing industry.</p>
<p class="indent">Standardized names and procedures are especially important when you’re working in cross-functional teams. A lot can get lost in translation between scientists and engineers, as in 1999, when engineers lost the Mars Climate Orbiter because different teams used different measurement units. For almost two decades, I built computer models of the earth that were transferred to an engineering function. The engineers used scripts to load these models into their own proprietary software. They would share these scripts among projects for efficiency and to help the inexperienced. Since these “command files” were customized to each project, the engineers were understandably annoyed when attribute names changed during model updates. In fact, one of their internal guidelines was “Beg, bribe, or bully your modeler into using consistent property names!”</p>
<h4 class="h4" id="lev14"><span epub:type="pagebreak" id="page_7"/><strong><em>Checking Your Code with Pylint</em></strong></h4>
<p class="noindent">You should become familiar with PEP 8, but you’ll still make mistakes, and comparing your code to the guide is a major drag. Luckily, programs such as Pylint, pycodestyle, and Flake8 can help you easily follow the PEP 8 style recommendations. For this project, you’ll use Pylint.</p>
<h5 class="h5" id="lev15"><strong>Installing Pylint</strong></h5>
<p class="noindent">Pylint is a source code, bug, and quality checker for the Python programming language. To download a free copy, go to <em><a href="https://www.pylint.org/#install">https://www.pylint.org/#install</a></em> and find the install button for your platform. This button will show the command for installing Pylint. For example, in Windows, go to the folder that contains your copy of Python (such as <em>C:\Python35</em>), use <small>SHIFT</small>-right-click to open a context menu, and then click either <strong>open command window here</strong> or <strong>open PowerShell window here</strong>, depending on which version of Windows you’re using. Run <span class="codestrong">pip install pylint</span> (pip3 if Python 2 <em>and</em> 3 are installed).</p>
<h5 class="h5" id="lev16"><strong>Running Pylint</strong></h5>
<p class="noindent">In Windows, Pylint is run from a command window or, for newer systems, the PowerShell (you open both by using <small>SHIFT</small>-right-click in the folder containing the Python module you want to check). Type <span class="codestrong">pylint</span> <span class="codestrongitalic">filename</span> to run the program (see <a href="ch01.xhtml#ch01fig1">Figure 1-1</a>). The <em>.py</em> extension is optional, and your directory path will vary from the one shown. On macOS or another Unix-based system, use the terminal emulator.</p>
<div class="image"><a id="ch01fig1"/><img src="../images/f0007-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 1-1: The Windows command window with the command to run Pylint</em></p>
<p class="indent">The command window will display the Pylint results. Here’s a sample of a useful output:</p>
<pre>C:\Python35\Python 3 Stuff\Psych&gt;<span class="codestrong1">pylint pseudonyms.py</span><br/>No config file found, using default configuration<br/>************* Module pseudonyms<br/>C: 45, 0: No space allowed around keyword argument assignment<br/>    print(firstName, lastName, file = sys.stderr)<br/>                                    ^ (bad-whitespace)<br/>C:  1, 0: Missing module docstring (missing-docstring)<br/>C:  2, 0: Multiple imports on one line (sys, random) (multiple-imports)<br/>C:  7, 0: Invalid constant name "first" (invalid-name)<br/>C: 23, 0: Invalid constant name "last" (invalid-name)<br/>C: 40, 4: Invalid constant name "firstName" (invalid-name)<br/>C: 42, 4: Invalid constant name "lastName" (invalid-name)<br/>C: 48, 4: Invalid constant name "try_again" (invalid-name)</pre>
<p class="indent"><span epub:type="pagebreak" id="page_8"/>The capital letter at the start of each line is a message code. For example, <code>C: 15, 0</code> refers to a coding standard violation in line 15, column 0. You can reference the following key for the various Pylint message codes:</p>
<p class="hang"><strong>R</strong> Refactor for a “good practice” metric violation</p>
<p class="hang"><strong>C</strong> Convention for coding standard violation</p>
<p class="hang"><strong>W</strong> Warning for stylistic problems or minor programming issues</p>
<p class="hang"><strong>E</strong> Error for important programming issues (i.e., most probably a bug)</p>
<p class="hang"><strong>F</strong> Fatal for errors that prevent further processing</p>
<p class="indent">Pylint will end its report by grading your program’s conformance to PEP 8. In this case, your code received a 4 out of 10:</p>
<pre>Global evaluation<br/>-----------------<br/>Your code has been rated at 4.00/10 (previous run: 4.00/10, +0.00)</pre>
<h5 class="h5" id="lev17"><strong>Handling False Constant Name Errors</strong></h5>
<p class="noindent">You might have noticed that Pylint incorrectly assumes all variable names in the global space refer to constants, and should therefore be in all caps. You can work around this shortcoming in a number of ways. The first is to embed your code in a <code>main()</code> function (as shown in <a href="ch01.xhtml#ch01list2">Listing 1-2</a>); that way, it’s out of the global space.</p>
<pre>   def main():<br/>       some indented code<br/>       some indented code<br/>       some indented code<br/><span class="ent">➊</span> if __name__ == "__main__":<br/>    <span class="ent">➋</span> main()</pre>
<p class="listing" id="ch01list2"><em>Listing 1-2: Defines and calls a</em> <span class="codeitalic">main()</span> <em>function</em></p>
<p class="indent">The <code>__name__</code> variable is a special built-in variable that you can use to evaluate whether a program is being run in stand-alone mode or as an imported module; remember that a module is just a Python program used inside of another Python program. If you run the program directly, <code>__name__</code> is set to <code>__main__</code>. In <a href="ch01.xhtml#ch01list2">Listing 1-2</a> <code>__name__</code> is used to ensure that, when the program is imported, the <code>main()</code> function isn’t run until you intentionally call it, but when you run the program directly, the condition in the <code>if</code> statement is met <span class="ent">➊</span> and <code>main()</code> is automatically called <span class="ent">➋</span>. You don’t always need this convention. For example, if your code just defines a function, you can load it as a module and call it without the need for <code>__name__</code>.</p>
<p class="indent">Let’s embed everything in <em>pseudonyms.py</em>, except for the <code>import</code> statement, under a <code>main()</code> function and then embed the <code>main()</code> function call under an <code>if</code> statement, as in <a href="ch01.xhtml#ch01list2">Listing 1-2</a>. You can make the changes yourself or download the <em>pseudonyms_main.py</em> program from the website. Rerun Pylint. You should get the following results in your command window.</p>
<pre><span epub:type="pagebreak" id="page_9"/>C:\Python35\Python 3 Stuff\Psych&gt;<span class="codestrong1">pylint pseudonyms_main</span><br/>No config file found, using default configuration<br/>************* Module pseudonyms_main<br/>C: 47, 0: No space allowed around keyword argument assignment<br/>        print(firstName, lastName, file = sys.stderr)<br/>                                        ^ (bad-whitespace)<br/>C:  1, 0: Missing module docstring (missing-docstring)<br/>C:  2, 0: Multiple imports on one line (sys, random) (multiple-imports)<br/>C:  4, 0: Missing function docstring (missing-docstring)<br/>C: 42, 8: Invalid variable name "firstName" (invalid-name)<br/>C: 44, 8: Invalid variable name "lastName" (invalid-name)</pre>
<p class="indent">Now those annoying comments about invalid constant names have disappeared, but you aren’t out of the woods yet. As much as I like them, Python conventions don’t allow for <em>camel case</em> names, like <code>firstName</code>.</p>
<h5 class="h5" id="lev18"><strong>Configuring Pylint</strong></h5>
<p class="noindent">When evaluating small scripts, I prefer to use the Pylint defaults and ignore the false “constant name” errors. I also like to run the option <code>-rn</code> (short for <code>-reports=n</code>) to suppress the large volume of extraneous statistics that Pylint returns:</p>
<pre>C:\Python35\Python 3 Stuff\Psych&gt;<span class="codestrong1">pylint -rn pseudonyms_main.py</span></pre>
<p class="indent">Note that using <code>-rn</code> will disable the code-grading option.</p>
<p class="indent">Another issue with Pylint is that its maximum line length default is 100 characters but PEP 8 recommends 79 characters. To comply with PEP 8, you can run Pylint with the following option:</p>
<pre>C:\Python35\Python 3 Stuff\Psych&gt;<span class="codestrong1">pylint --max-line-length=79 pseudonyms_main</span></pre>
<p class="indent">Now you’ll see that indenting the names for the <code>main()</code> function caused some lines to exceed the guidelines:</p>
<pre>C: 12, 0: Line too long (80/79) (line-too-long)<br/>C: 14, 0: Line too long (83/79) (line-too-long)<br/>--<span class="codeitalic1">snip</span>--</pre>
<p class="indent">You probably don’t want to configure Pylint every time you run it, and fortunately, you don’t have to. Instead, you can make your own customized configuration file using the command <code>–-generate-rcfile</code>. For example, to suppress reporting and set the maximum line length to 79, enter the following into your command prompt:</p>
<pre><span class="codeitalic1">your pathname</span>&gt;<span class="codestrong1">pylint -rn --max-line-length=79 --generate-rcfile &gt;</span> <span class="codestrongitalic1">name</span><span class="codestrong1">.pylintrc</span></pre>
<p class="indent">Put the changes you want before the <code>–-generate-rcfile &gt;</code> <span class="codeitalic">name</span><code>.pylintrc</code> statement and provide your own name before the <code>.pylintrc</code> extension. You can create a configuration file either stand-alone, as just shown, or at the <span epub:type="pagebreak" id="page_10"/>same time you evaluate a Python program. The <em>.pylintrc</em> file is automatically saved in your current working directory, though there is an option for adding a directory path (see <em><a href="https://pylint.org">https://pylint.org</a></em> and <em><a href="https://pylint.readthedocs.io/en/latest/user_guide/run.html">https://pylint.readthedocs.io/en/latest/user_guide/run.html</a></em> for more details).</p>
<p class="indent">To reuse your custom configuration file, use the <code>--rcfile</code> option followed by the name of your personal configuration file and the name of the program you’re evaluating. For example, to run <em>myconfig.pylintrc</em> on the <em>pseudonyms_main.py</em> program, enter the following:</p>
<pre>C:\Python35\Python 3 Stuff\Psych&gt;<span class="codestrong1">pylint --rcfile myconfig.pylintrc pseudonyms_main</span></pre>
<h4 class="h4" id="lev19"><strong><em>Describing Your Code with Docstrings</em></strong></h4>
<p class="noindent">Pylint identifies that the <em>pseudonyms_main.py</em> program is missing a docstring. According to the PEP 257 style guide (<em><a href="https://www.python.org/dev/peps/pep-0257/">https://www.python.org/dev/peps/pep-0257/</a></em>), a <em>docstring</em> is a string literal that occurs as the first statement in a module, function, class, or method definition. A docstring is basically a short description of what your code does, and it may include specifics on aspects of the code such as required inputs. Here, in triple quotes, is an example of a single-line docstring for a function:</p>
<pre>def circ(r):<br/>    """Return the circumference of a circle with radius of r."""<br/>    c = 2 * r * math.pi<br/>    return c</pre>
<p class="indent">The preceding docstring simply states what the function does, but docstrings can be longer and include more information. For instance, the following is a multiline docstring for the same function that displays information about the function’s input and output:</p>
<pre>def circ(r):<br/>    """Return the circumference of a circle with radius of r.<br/><br/>    Arguments:<br/>    r – radius of circle<br/><br/>    Returns:<br/>        float: circumference of circle<br/>    """<br/>    c = 2 * r * math.pi<br/>    return c</pre>
<p class="indent">Unfortunately, docstrings are person-, project-, and company-specific things, and you can find a lot of conflicting guidance. Google has its own format and an excellent style guide. Some members of the scientific community use a <code>NumPy</code> docstring standard. And <em>reStructuredText</em> is a popular <span epub:type="pagebreak" id="page_11"/>format used mainly in conjunction with Sphinx—a tool that uses docstrings to generate documentation for Python projects in formats such as HTML and PDF. If you’ve ever read the docs (<em><a href="https://readthedocs.org/">https://readthedocs.org/</a></em>) for a Python module, then you’ve seen Sphinx in action. You can find links to guides for some of these different styles in “<a href="ch01.xhtml#lev22">Further Reading</a>” on <a href="ch01.xhtml#page_14">page 14</a>.</p>
<p class="indent">You can check how well your docstrings conform to the PEP 257 conventions with a free tool called pydocstyle. To install it in Windows or any other operating system, open a command window and run <span class="codestrong">pip install pydocstyle</span> (use <code>pip3</code> if both Python 2 and 3 are installed).</p>
<p class="indent">To run pydocstyle, open a command window in the folder containing the code you want to check. If you don’t specify a filename, pydocstyle will run on <em>all</em> the Python programs in the folder and give you feedback:</p>
<pre>C:\Python35\Python 3 Stuff\Psych&gt;<span class="codestrong1">pydocstyle</span><br/>.\OLD_pseudonyms_main.py:1 at module level:<br/>        D100: Missing docstring in public module<br/>.\OLD_pseudonyms_main.py:4 in public function `main`:<br/>        D103: Missing docstring in public function<br/>.\ pseudonyms.py:1 at module level:<br/>        D100: Missing docstring in public module<br/>.\ pseudonyms_main_broken.py:1 at module level:<br/>        D200: One-line docstring should fit on one line with quotes (found 2)<br/>.\ pseudonyms_main_broken.py:6 in public function `main`:<br/>        D205: 1 blank line required between summary line and description<br/>(found 0)</pre>
<p class="indent">If you specify a file with no docstring issues, pydocstyle will return nothing:</p>
<pre>C:\Python35\Python 3 Stuff\Psych&gt;<span class="codestrong1">pydocstyle pseudonyms_main_fixed.py</span><br/><br/>C:\Python35\Python 3 Stuff\Psych&gt;</pre>
<p class="indent">I’ll use fairly simple docstrings in all of the projects in this book in order to reduce visual noise in the annotated code. Feel free to expand on these if you wish to practice. You can always check your results with pydocstyle.</p>
<h4 class="h4" id="lev20"><strong><em>Checking Your Code Style</em></strong></h4>
<p class="noindent">When I was growing up, my uncle would drive from our rural town to a larger city to have his hair “styled.” I never understood how that was different from a regular haircut, but I do know how to “style” our funny name generator code so that it complies with PEP 8 and PEP 257.</p>
<p class="indent">Make a copy of <em>pseudonyms_main.py</em> called <em>pseudonyms_main_fixed.py</em> and immediately evaluate it with Pylint using this command:</p>
<pre><span class="codeitalic1">your_path</span>&gt;<span class="codestrong1">pylint --max-line-length=79 pseudonyms_main_fixed</span></pre>
<p class="indent"><span epub:type="pagebreak" id="page_12"/>Don’t suppress the report using <code>-rn</code>. You should see this output at the bottom of the command window:</p>
<pre>Global evaluation<br/>-----------------<br/>Your code has been rated at 3.33/10</pre>
<p class="indent">Now correct the code based on the Pylint output. In the following example, I have provided the corrections in <span class="codestrong">bold</span>. I made changes to the name tuples to correct for line-length issues. You can also download the corrected code, <em>pseudonyms_main_fixed.py</em>, from the book’s resources at <em><a href="https://www.nostarch.com/impracticalpython/">https://www.nostarch.com/impracticalpython/</a></em>.</p>
<p class="margin"><em>pseudonyms_main_fixed.py</em></p>
<pre><span class="codestrong1">"""Generate funny names by randomly combining names from 2 separate lists."""</span><br/>import sys<br/><span class="codestrong1">import random</span><br/><br/>def main():<br/>    <span class="codestrong1">"""Choose names at random from 2 tuples of names and print to screen."""</span><br/>    print("Welcome to the Psych 'Sidekick Name Picker.'\n")<br/>    print("A name just like Sean would pick for Gus:\n\n")<br/><br/>    <span class="codestrong1">first = ('Baby Oil', 'Bad News', 'Big Burps', "Bill 'Beenie-Weenie'",</span><br/>             <span class="codestrong1">"Bob 'Stinkbug'", 'Bowel Noises', 'Boxelder', "Bud 'Lite'",</span><br/>             <span class="codestrong1">'Butterbean', 'Buttermilk', 'Buttocks', 'Chad', 'Chesterfield',</span><br/>             <span class="codestrong1">'Chewy', 'Chigger', 'Cinnabuns', 'Cleet', 'Cornbread',</span><br/>             <span class="codestrong1">'Crab Meat', 'Crapps', 'Dark Skies', 'Dennis Clawhammer',</span><br/>             <span class="codestrong1">'Dicman', 'Elphonso', 'Fancypants', 'Figgs', 'Foncy', 'Gootsy',</span><br/>             <span class="codestrong1">'Greasy Jim', 'Huckleberry', 'Huggy', 'Ignatious', 'Jimbo',</span><br/>             <span class="codestrong1">"Joe 'Pottin Soil'", 'Johnny', 'Lemongrass', 'Lil Debil',</span><br/>             <span class="codestrong1">'Longbranch', '"Lunch Money"', 'Mergatroid', '"Mr Peabody"',</span><br/>             <span class="codestrong1">'Oil-Can', 'Oinks', 'Old Scratch', 'Ovaltine', 'Pennywhistle',</span><br/>             <span class="codestrong1">'Pitchfork Ben', 'Potato Bug', 'Pushmeet', 'Rock Candy',</span><br/>             <span class="codestrong1">'Schlomo', 'Scratchensniff', 'Scut', "Sid 'The Squirts'",</span><br/>             <span class="codestrong1">'Skidmark', 'Slaps', 'Snakes', 'Snoobs', 'Snorki', 'Soupcan Sam',</span><br/>             <span class="codestrong1">'Spitzitout', 'Squids', 'Stinky', 'Storyboard', 'Sweet Tea',</span><br/>             <span class="codestrong1">'TeeTee', 'Wheezy Joe', "Winston 'Jazz Hands'", 'Worms')</span><br/><br/>    <span class="codestrong1">last = ('Appleyard', 'Bigmeat', 'Bloominshine', 'Boogerbottom',</span><br/>    <span class="codestrong1">        'Breedslovetrout', 'Butterbaugh', 'Clovenhoof', 'Clutterbuck',</span><br/>    <span class="codestrong1">        'Cocktoasten', 'Endicott', 'Fewhairs', 'Gooberdapple',</span><br/>    <span class="codestrong1">        'Goodensmith', 'Goodpasture', 'Guster', 'Henderson', 'Hooperbag',</span><br/>    <span class="codestrong1">        'Hoosenater', 'Hootkins', 'Jefferson', 'Jenkins',</span><br/>    <span class="codestrong1">        'Jingley-Schmidt', 'Johnson', 'Kingfish', 'Listenbee', "M'Bembo",</span><br/>    <span class="codestrong1">        'McFadden', 'Moonshine', 'Nettles', 'Noseworthy', 'Olivetti',</span><br/>    <span class="codestrong1">        'Outerbridge', 'Overpeck', 'Overturf', 'Oxhandler', 'Pealike',</span><br/>    <span class="codestrong1">        'Pennywhistle', 'Peterson', 'Pieplow', 'Pinkerton', 'Porkins',</span><br/>    <span class="codestrong1">        'Putney', 'Quakenbush', 'Rainwater', 'Rosenthal', 'Rubbins',</span><br/>    <span class="codestrong1">        'Sackrider', 'Snuggleshine', 'Splern', 'Stevens', 'Stroganoff',</span><br/>    <span class="codestrong1">        'Sugar-Gold', 'Swackhamer', 'Tippins', 'Turnipseed',</span><br/><span epub:type="pagebreak" id="page_13"/>    <span class="codestrong1">        'Vinaigrette', 'Walkingstick', 'Wallbanger', 'Weewax', 'Weiners',</span><br/>    <span class="codestrong1">        'Whipkey', 'Wigglesworth', 'Wimplesnatch', 'Winterkorn',</span><br/>    <span class="codestrong1">        'Woolysocks')</span><br/><br/>    while True:         <br/>        <span class="codestrong1">first_name</span> = random.choice(first)<br/>        <span class="codestrong1">last_name</span> = random.choice(last)<br/><br/>        print("\n\n")<br/>        # Trick IDLE by using "fatal error" setting to print name in red.<br/>        print<span class="codestrong1">("{} {}".format(first_name, last_name), file=sys.stderr)</span><br/>        print("\n\n")<br/><br/>        try_again = input("\n\nTry again? (Press Enter else n to quit)\n ")<br/><br/>        if try_again.lower() == "n":<br/>            break<br/><br/>    input("\nPress Enter to exit.")<br/><br/>if __name__ == "__main__":<br/>    main()</pre>
<p class="indent">Pylint gives the revised code a grade of 10 out of 10:</p>
<pre>Global evaluation<br/>-----------------<br/>Your code has been rated at 10.00/10 (previous run: 3.33/10, +6.67)</pre>
<p class="indent">As you saw in the previous section, running pydocstyle on <em>pseudonyms_main_fixed.py</em> yields no errors, but don’t be fooled into thinking that means it’s good or even adequate. For example, this docstring also passes: <code>"""ksjkdls lskjds kjs jdi wllk sijkljs dsdw noiu sss."""</code></p>
<p class="indent">It’s hard to write sparse, succinct, and truly useful docstrings and comments. PEP 257 will help with docstrings, but comments are more freestyle and “open range.” Too many comments create visual noise, can be off-putting to the user, and shouldn’t be needed, as well-written code is largely self-documenting. Good reasons for adding comments include clarifying intent and heading off potential user errors, such as when specific measurement units or input formats are required. To find the right balance in commenting, take note of good examples when you run across them. Also, think about what you would want to see if you had to pick up your own code after a five-year hiatus!</p>
<p class="indent">Pylint and pydocstyle are easy to install, are easy to run, and will help you learn and comply with the accepted coding standards of the Python community. Running your code through Pylint prior to posting it on web forums is also a good practice when you’re seeking help and should prompt “kinder, gentler” responses!</p>
<h3 class="h3" id="lev21"><span epub:type="pagebreak" id="page_14"/><strong>Summary</strong></h3>
<p class="noindentb">You should now know how to write code and documentation that conforms to the Python community’s expectations. More importantly, you’ve generated some seriously funny names for a sidekick, gangster, informant, whoever. Here are a few of my favorites:</p>
<table class="topbot-d">
<tbody>
<tr>
<td style="vertical-align: top;" class="table-b"><p class="taba">Pitchfork Ben Pennywhistle</p></td>
<td style="vertical-align: top;" class="table-b"><p class="tabaa">‘Bad News’ Bloominshine</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-b"><p class="taba">Chewy Stroganoff</p></td>
<td style="vertical-align: top;" class="table-b"><p class="tabaa">‘Sweet Tea’ Tippins</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-b"><p class="taba">Spitzitout Winterkorn</p></td>
<td style="vertical-align: top;" class="table-b"><p class="tabaa">Wheezy Joe Jenkins</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-b"><p class="taba">‘Big Burps’ Rosenthal</p></td>
<td style="vertical-align: top;" class="table-b"><p class="tabaa">Soupcan Sam Putney</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-b"><p class="taba">Bill ‘Beenie-Weenie’ Clutterbuck</p></td>
<td style="vertical-align: top;" class="table-b"><p class="tabaa">Greasy Jim Wigglesworth</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-b"><p class="taba">Dark Skies Jingley-Schmidt</p></td>
<td style="vertical-align: top;" class="table-b"><p class="tabaa">Chesterfield Walkingstick</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-b"><p class="taba">Potato Bug Quakenbush</p></td>
<td style="vertical-align: top;" class="table-b"><p class="tabaa">Jimbo Woolysocks</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-b"><p class="taba">Worms Endicott</p></td>
<td style="vertical-align: top;" class="table-b"><p class="tabaa">Fancypants Pinkerton</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-b"><p class="taba">Cleet Weiners</p></td>
<td style="vertical-align: top;" class="table-b"><p class="tabaa">Dicman Overpeck</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-b"><p class="taba">Ignatious Outerbridge</p></td>
<td style="vertical-align: top;" class="table-b"><p class="tabaa">Buttocks Rubbins</p></td>
</tr>
</tbody>
</table>
<h3 class="h3" id="lev22"><strong>Further Reading</strong></h3>
<p class="noindent">For a clickable version of these resources, visit <em><a href="https://www.nostarch.com/impracticalpython/">https://www.nostarch.com/impracticalpython/</a>.</em></p>
<h4 class="h4" id="lev23"><strong><em>Pseudocode</em></strong></h4>
<p class="noindent">Descriptions of some fairly formal pseudocode standards can be found at <em><a href="http://users.csc.calpoly.edu/~jdalbey/SWE/pdl_std.html">http://users.csc.calpoly.edu/~jdalbey/SWE/pdl_std.html</a></em> and <em><a href="http://www.slideshare.net/sabiksabz/pseudo-code-basics/">http://www.slideshare.net/sabiksabz/pseudo-code-basics/</a></em>.</p>
<h4 class="h4" id="lev24"><strong><em>Style Guides</em></strong></h4>
<p class="noindent">Here’s a list of style guides you can reference when creating Python programs.</p>
<ul>
<li class="noindent">The PEP 8 style guide can be found at <em><a href="https://www.python.org/dev/peps/pep-0008/">https://www.python.org/dev/peps/pep-0008/</a></em>.</li>
<li class="noindent">The PEP 257 guidelines can be found at <em><a href="https://www.python.org/dev/peps/pep-0257/">https://www.python.org/dev/peps/pep-0257/</a></em>.</li>
<li class="noindent">Google has its own format and style guide at <em><a href="https://google.github.io/styleguide/pyguide.html">https://google.github.io/styleguide/pyguide.html</a></em>.</li>
<li class="noindent">Examples of Google style can be found at <em><a href="https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html">https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html</a></em>.</li>
<li class="noindent"><span epub:type="pagebreak" id="page_15"/><code>NumPy</code> docstring standards are at <em><a href="https://numpydoc.readthedocs.io/en/latest/">https://numpydoc.readthedocs.io/en/latest/</a></em>.</li>
<li class="noindent"><code>NumPy</code> docstrings examples can be found at <em><a href="https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_numpy.html">https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_numpy.html</a></em>.</li>
<li class="noindent">You can find out about reStructuredText at <em><a href="https://docs.python.org/devguide/documenting.html">https://docs.python.org/devguide/documenting.html</a></em>, <em><a href="https://docs.python.org/3.1/documenting/rest.html">https://docs.python.org/3.1/documenting/rest.html</a></em>, and <em><a href="https://wiki.python.org/moin/reStructuredText/">https://wiki.python.org/moin/reStructuredText/</a></em>.</li>
<li class="noindent"><p class="noindent"><em>The Hitchhiker’s Guide to Python</em> (<em><a href="http://docs.python-guide.org/en/latest/writing/style/">http://docs.python-guide.org/en/latest/writing/style/</a></em>) contains a section on code styles and <em>autopep8</em>, which</p>
<p class="noindent">will automatically reformat code for PEP 8 (to a point).</p></li>
<li class="noindent"><em>Effective Python</em> by Brett Slatkin (Addison-Wesley, 2015) contains a useful section on documenting programs.</li>
</ul>
<h4 class="h4" id="lev25"><strong><em>Third-Party Modules</em></strong></h4>
<p class="noindent">The following are some resources for using third-party modules.</p>
<ul>
<li class="noindent">Details on Pylint are at <em><a href="https://docs.pylint.org/en/1.8/tutorial.html">https://docs.pylint.org/en/1.8/tutorial.html</a></em>.</li>
<li class="noindent">Details on pydocstyle can be found at <em><a href="http://www.pydocstyle.org/en/latest/">http://www.pydocstyle.org/en/latest/</a></em>.</li>
</ul>
<h3 class="h3" id="lev26"><strong>Practice Projects</strong></h3>
<p class="noindent">Try out these projects for working with strings. My own solutions are available in the appendix.</p>
<h4 class="h4" id="lev27"><strong><em>Pig Latin</em></strong></h4>
<p class="noindent">To form Pig Latin, you take an English word that begins with a consonant, move that consonant to the end, and then add “ay” to the end of the word. If the word begins with a vowel, you simply add “way” to the end of the word. One of the most famous Pig Latin phrases of all time is “ixnay on the ottenray,” uttered by Marty Feldman in Mel Brooks’s comedic masterpiece <em>Young Frankenstein</em>.</p>
<p class="indent">Write a program that takes a word as input and uses indexing and slicing to return its Pig Latin equivalent. Run Pylint and pydocstyle on your code and correct any style mistakes. You can find a solution in the appendix or download <em>pig_latin_practice.py</em> from <em><a href="https://www.nostarch.com/impracticalpython/">https://www.nostarch.com/impracticalpython/</a></em>.</p>
<h4 class="h4" id="lev28"><strong><em>Poor Man’s Bar Chart</em></strong></h4>
<p class="noindent">The six most commonly used letters in the English language can be remembered with the mnemonic “etaoin” (pronounced <em>eh-tay-oh-in</em>). Write a Python script <span class="para1">that</span> takes a sentence (string) as input and returns a simple bar chart–type display as in <a href="ch01.xhtml#ch01fig2">Figure 1-2</a>. Hint: I used a dictionary data structure and two modules that I haven’t covered yet, <code>pprint</code> and <code>collections/defaultdict</code>.</p>
<div class="image"><span epub:type="pagebreak" id="page_16"/><a id="ch01fig2"/><img src="../images/f0016-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 1-2: Bar chart–like output of the</em> ETAOIN_practice.py <em>program in the appendix</em></p>
<h3 class="h3" id="lev29"><strong>Challenge Projects</strong></h3>
<p class="noindent">No solutions are provided for challenge projects. You’re on your own with these!</p>
<h4 class="h4" id="lev30"><strong><em>Poor Foreign Man’s Bar Chart</em></strong></h4>
<p class="noindent">Use an online translator to change your text into another Latin-based writing system (such as Spanish or French), rerun your code from the Poor Man’s Bar Chart, and compare the results. For example, a Spanish version of the text in <a href="ch01.xhtml#ch01fig2">Figure 1-2</a> yields the results in <a href="ch01.xhtml#ch01fig3">Figure 1-3</a>.</p>
<div class="image"><a id="ch01fig3"/><img src="../images/f0016-02.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 1-3: The results of running</em> EATOIN_challenge.py <em>on a Spanish translation of the text in <a href="ch01.xhtml#ch01fig2">Figure 1-2</a></em></p>
<p class="indent"><span epub:type="pagebreak" id="page_17"/>Twice as many <em>L</em>s and three times as many <em>U</em>s appear in the Spanish sentence. To make the bar charts for different inputs directly comparable, change the code so every letter of the alphabet has a key and is displayed even if there are no values.</p>
<h4 class="h4" id="lev31"><strong><em>The Middle</em></strong></h4>
<p class="noindent">Rewrite the funny name generator code to include middle names. First, create a new <code>middle_name</code> tuple, then split apart existing first name–middle name pairs (such as “Joe ‘Pottin Soil’” or “Sid ‘The Squirts’”) and add them to the tuple. You should also move some obvious nicknames (like “Oil Can”) to your <code>middle_name</code> tuple. Finally, add some new middle names (such as “The Big News,” or “Grunts,” or “Tinkie Winkie”). Use Python’s <code>random</code> module so that a middle name is chosen only one-half or one-third of the time.</p>
<h4 class="h4" id="lev32"><strong><em>Something Completely Different</em></strong></h4>
<p class="noindent">Start your own list of funny names and add to the funny name generator. Hint: movie credits are a rich hunting ground!<span epub:type="pagebreak" id="page_18"/></p>
</body></html>