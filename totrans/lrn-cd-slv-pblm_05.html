<html><head></head><body><div id="sbo-rt-content"><h2 class="h2" id="ch05"><span epub:type="pagebreak" id="page_101"/><span class="big">5</span><br/>ORGANIZING VALUES USING LISTS</h2>&#13;&#13;
<div class="imagec"><img src="Images/common.jpg" alt="image" width="150" height="150"/></div>&#13;&#13;
<p class="noindents">We’ve seen that we can use strings to work with a sequence of characters. In this chapter, we’ll learn about lists, which help us work with sequences of other types of values, such as integers and floats. We’ll also learn that we can nest lists inside of lists, which lets us work with grids of data.</p>&#13;&#13;
<p class="indent">We’ll solve three problems using lists: finding the smallest neighborhood of a collection of villages, determining whether sufficient money has been raised for a school trip, and calculating the number of bonuses offered by a bakery.</p>&#13;&#13;
<h3 class="h3a" id="ch05lev1sec1"><span class="h3aa">Problem #11: Village Neighborhood</span></h3>&#13;&#13;
<p class="noindent">In this problem, we’re going to find the size of the smallest neighborhood of a collection of villages. We’ll find it helpful to store all of the neighborhood sizes. We might have as many as 100 villages, though, and using a separate variable for each village would be a nightmare. We’ll see that lists allow us to aggregate what would otherwise be separate variables into one collection. We’ll also learn about Python’s powerful list operations for modifying, searching, and sorting a list.</p>&#13;&#13;
<p class="indent">This is DMOJ problem <span class="literal">ccc18s1</span>.</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec1"><span epub:type="pagebreak" id="page_102"/>The Challenge</h4>&#13;&#13;
<p class="noindent">There are <em>n</em> villages located at distinct points on a straight road. Each village is represented by an integer that indicates its position on the road.</p>&#13;&#13;
<p class="indent">A village’s left neighbor is the village with the next smallest position; a village’s right neighbor is the village with the next biggest position. The <em>neighborhood</em> of a village consists of half the space between that village and its left neighbor, plus half the space between that village and its right neighbor. For example, if there’s a village at position 10, with its left neighbor at position 6 and its right neighbor at position 15, then this village’s neighborhood starts from position 8 (halfway between 6 and 10) and ends at position 12.5 (halfway between 10 and 15).</p>&#13;&#13;
<p class="indent">The leftmost and rightmost villages have only one neighbor, so the definition of a neighborhood doesn’t make sense for them. We’ll ignore the neighborhoods of those two villages in this problem.</p>&#13;&#13;
<p class="indent">The <em>size</em> of a neighborhood is calculated as the neighborhood’s rightmost position minus the neighborhood’s leftmost position. For example, the neighborhood that goes from 8 to 12.5 has size 12.5 – 8 = 4.5.</p>&#13;&#13;
<p class="indent">Determine the size of the smallest neighborhood.</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec2">Input</h4>&#13;&#13;
<p class="noindent">The input consists of the following lines:</p>&#13;&#13;
<ul>&#13;&#13;
<li class="noindent">A line containing integer <em>n</em>, the number of villages. <em>n</em> is between 3 and 100.</li>&#13;&#13;
<li class="noindent"><em>n</em> lines, each of which gives the position of a village. Each position is an integer between –1,000,000,000 and 1,000,000,000. The positions need not come in order from left to right; the neighbor of a village could be anywhere in these lines.</li>&#13;&#13;
</ul>&#13;&#13;
<h4 class="h4" id="ch05lev2sec3">Output</h4>&#13;&#13;
<p class="noindent">Output the size of the smallest neighborhood. Include exactly one digit after the decimal point.</p>&#13;&#13;
<h3 class="h3" id="ch05lev1sec2">Why Lists?</h3>&#13;&#13;
<p class="noindent">As part of reading the input, we’ll need to read <em>n</em> integers (the integers that represent the positions of the villages). We dealt with this once already when solving Data Plan in <a href="ch03.xhtml#ch03">Chapter 3</a>. There, we used a range <span class="literal">for</span> loop to loop exactly <em>n</em> times. We’ll do that here, too.</p>&#13;&#13;
<p class="indent">There’s one crucial difference between Data Plan and Village Neighborhood. In Data Plan, we read an integer, used it, and never referred to it again. We didn’t need to keep it around. But in Village Neighborhood, it’s not enough to see each integer just once. A village’s neighborhood depends on its left and right neighbors. Without access to those neighbors, we can’t <span epub:type="pagebreak" id="page_103"/>calculate the size of the village’s neighborhood. We need to store all of the village positions for later use.</p>&#13;&#13;
<p class="indent">For an example of why we need to store all of the village positions, consider this test case:</p>&#13;&#13;
<p class="programs">6<br/>&#13;&#13;
20<br/>&#13;&#13;
50<br/>&#13;&#13;
4<br/>&#13;&#13;
19<br/>&#13;&#13;
15<br/>&#13;&#13;
1</p>&#13;&#13;
<p class="indent">There are six villages here. To find the size of a village’s neighborhood, we need that village’s left and right neighbors.</p>&#13;&#13;
<p class="indent">The first village in the input is at position 20. What’s the size of that village’s neighborhood? To answer that, we need access to all of the village positions so that we can find its left and right neighbors. Scanning through the positions, you can identify that the left neighbor is at position 19 and the right neighbor is at position 50. The size of this village’s neighborhood is therefore (20 – 19)/2 + (50 – 20)/2 = 15.5.</p>&#13;&#13;
<p class="indent">The second village in the input is at position 50. What’s the size of that village’s neighborhood? Again, we need to look through the positions to figure it out. This village happens to be the rightmost one, so we ignore this village’s neighborhood.</p>&#13;&#13;
<p class="indent">The third village in the input is at position 4. The left neighbor is at position 1, and the right neighbor is at position 15, so the size of this village’s neighborhood is (4 – 1)/2 + (15 – 4)/2 = 7.</p>&#13;&#13;
<p class="indent">The fourth village in the input is at position 19. The left neighbor is at position 15, and the right neighbor is at position 20, so the size of this village’s neighborhood is (19 – 15)/2 + (20 – 19)/2 = 2.5.</p>&#13;&#13;
<p class="indent">The only remaining village that we need to consider is at position 15. If you calculate its neighborhood size, you should get an answer of 7.5.</p>&#13;&#13;
<p class="indent">Comparing all of the neighborhood sizes that we calculated, we see that the minimum—and the correct answer for this test case—is 2.5.</p>&#13;&#13;
<p class="indent">We need a way to store all of the village positions so that we can find the neighbors of each village. A string won’t help, because strings store characters, not integers. Python lists to the rescue!</p>&#13;&#13;
<h3 class="h3" id="ch05lev1sec3">Lists</h3>&#13;&#13;
<p class="noindent">A <em>list</em> is a Python type that stores a sequence of values. (You’ll sometimes see list values referred to as <em>elements</em>.) We use opening and closing square brackets to delimit the list.</p>&#13;&#13;
<p class="indent">We can store only characters in strings, but we can store any type of value in lists. This list of integers holds the village positions from the prior section.</p>&#13;&#13;
<p class="programs"><span epub:type="pagebreak" id="page_104"/>&gt;&gt;&gt; <span class="codestrong1">[20, 50, 4, 19, 15, 1]</span><br/>&#13;&#13;
[20, 50, 4, 19, 15, 1]</p>&#13;&#13;
<p class="indent">Here’s a list of strings:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">['one', 'two', 'hello']</span><br/>&#13;&#13;
['one', 'two', 'hello']</p>&#13;&#13;
<p class="indent">We can even create a list whose values are of different types:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">['hello', 50, 365.25]</span><br/>&#13;&#13;
['hello', 50, 365.25]</p>&#13;&#13;
<p class="indent">Much of what you learned about strings applies to lists as well. For example, lists support the <span class="literal">+</span> operator for concatenation and the <span class="literal">*</span> operator for replication:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">[1, 2, 3] + [4, 5, 6]</span><br/>&#13;&#13;
[1, 2, 3, 4, 5, 6]<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">[1, 2, 3] * 4</span><br/>&#13;&#13;
[1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3]</p>&#13;&#13;
<p class="indent">We even have the <span class="literal">in</span> operator, which tells us whether a value is in a list or not:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">'one' in ['one', 'two', 'hello']</span><br/>&#13;&#13;
True<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">'n' in ['one', 'two', 'three']</span><br/>&#13;&#13;
False</p>&#13;&#13;
<p class="indent">And we have the <span class="literal">len</span> function to give us the length of a list:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">len(['one', 'two', 'hello'])</span><br/>&#13;&#13;
3</p>&#13;&#13;
<p class="indent">A list is a sequence, and we can use a <span class="literal">for</span> loop to loop through its values:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">for value in [20, 50, 4, 19, 15, 1]:</span><br/>&#13;&#13;
...     <span class="codestrong1">print(value)</span><br/>&#13;&#13;
...<br/>&#13;&#13;
20<br/>&#13;&#13;
50<br/>&#13;&#13;
4<br/>&#13;&#13;
19<br/>&#13;&#13;
15<br/>&#13;&#13;
1</p>&#13;&#13;
<p class="indent">We can make variables refer to lists, just as we make them refer to strings, integers, and floats. Let’s make two variables refer to lists and then concatenate them to produce a new list.</p>&#13;&#13;
<p class="programs"><span epub:type="pagebreak" id="page_105"/>&gt;&gt;&gt; <span class="codestrong1">lst1 = [1, 2, 3]</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst2 = [4, 5, 6]</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst1 + lst2</span><br/>&#13;&#13;
[1, 2, 3, 4, 5, 6]</p>&#13;&#13;
<p class="indent">While we displayed the concatenated list, we did not store it, as we can see by looking at the lists again:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">lst1</span><br/>&#13;&#13;
[1, 2, 3]<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst2</span><br/>&#13;&#13;
[4, 5, 6]</p>&#13;&#13;
<p class="indent">To make a variable refer to the concatenated list, we use assignment:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">lst3 = lst1 + lst2</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst3</span><br/>&#13;&#13;
[1, 2, 3, 4, 5, 6]</p>&#13;&#13;
<p class="indent">Names like <span class="literal">lst</span>, <span class="literal">lst1</span>, and <span class="literal">lst2</span> can be used when there’s no need to be more specific about what a list contains.</p>&#13;&#13;
<p class="indent">But don’t use <span class="literal">list</span> itself as a variable name. It’s already a name that we can use to convert a sequence to a list:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">list('abcde')</span><br/>&#13;&#13;
['a', 'b', 'c', 'd', 'e']</p>&#13;&#13;
<p class="indent">If you make a variable named <span class="literal">list</span>, you’ll lose this valuable behavior, and you’ll confuse readers who will expect <span class="literal">list</span> not to be tampered with.</p>&#13;&#13;
<p class="indent">Finally, lists support indexing and slicing. Indexing returns a single value, and slicing returns a list of values:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">lst = [50, 30, 81, 40]</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst[1]</span><br/>&#13;&#13;
30<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst[-2]</span><br/>&#13;&#13;
81<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst[1:3]</span><br/>&#13;&#13;
[30, 81]</p>&#13;&#13;
<p class="indent">If we have a list of strings, we can access one of its string’s characters by indexing twice, first to select a string and then to select a character:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">lst = ['one', 'two', 'hello']</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst[2]</span><br/>&#13;&#13;
'hello'<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst[2][1]</span><br/>&#13;&#13;
'e'</p>&#13;&#13;
<span epub:type="pagebreak" id="page_106"/>&#13;&#13;
<div class="sidebar">&#13;&#13;
<p class="sb-title"><strong>CONCEPT CHECK</strong></p>&#13;&#13;
<p class="sidebarp">What does the following code store in the <span class="literal">total</span> variable?</p>&#13;&#13;
<p class="programs">lst = [<span class="codeitalic1">a list of numbers</span>]<br/>&#13;&#13;
total = 0<br/>&#13;&#13;
i = 1<br/>&#13;&#13;
<br/>&#13;&#13;
while i &lt;= len(lst):<br/>&#13;&#13;
    total = total + i<br/>&#13;&#13;
    i = i + 1</p>&#13;&#13;
<p class="alphat">A. The sum of the list</p>&#13;&#13;
<p class="alpha">B. The sum of the list, not including its first value</p>&#13;&#13;
<p class="alpha">C. The sum of the list, not including its first and last values</p>&#13;&#13;
<p class="alpha">D. This code causes an error because it accesses an invalid index of the list</p>&#13;&#13;
<p class="alpha">E. None of the above</p>&#13;&#13;
<p class="sb-noindent1">Answer: E. This code adds the numbers <span class="literal">1</span>, <span class="literal">2</span>, <span class="literal">3</span>, and so on, up to the length of the list. It doesn’t add numbers from the list or index the list at all!</p>&#13;&#13;
</div>&#13;&#13;
<h3 class="h3" id="ch05lev1sec4">List Mutability</h3>&#13;&#13;
<p class="noindent">Strings are <em>immutable</em>, which means they cannot be modified. When it looks like we’re changing a string (for example, using string concatenation), we’re really creating a new string, not modifying one that already exists.</p>&#13;&#13;
<p class="indent">Lists, on the other hand, are <em>mutable</em>, which means they <em>can</em> be modified.</p>&#13;&#13;
<p class="indent">We can observe this difference by using indexing. If we try to change a character of a string, we get an error:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">s = 'hello'</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">s[0] = 'j'</span><br/>&#13;&#13;
Traceback (most recent call last):<br/>&#13;&#13;
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;<br/>&#13;&#13;
TypeError: 'str' object does not support item assignment</p>&#13;&#13;
<p class="indent">The error message says that strings don’t support item assignment, which just means that we can’t change their characters.</p>&#13;&#13;
<p class="indent">But because lists are mutable, we can change their values:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">lst = ['h', 'e', 'l', 'l', 'o']</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst</span><br/>&#13;&#13;
['h', 'e', 'l', 'l', 'o']<br/>&#13;&#13;
<span epub:type="pagebreak" id="page_107"/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst[0] = 'j'</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst</span><br/>&#13;&#13;
['j', 'e', 'l', 'l', 'o']<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst[2] = 'x'</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst</span><br/>&#13;&#13;
['j', 'e', 'x', 'l', 'o']</p>&#13;&#13;
<p class="indent">Without a precise understanding of the assignment statement, mutability can lead to seemingly bewildering behavior. Here’s an example:</p>&#13;&#13;
<p class="programs">   &gt;&gt;&gt; <span class="codestrong1">x = [1, 2, 3, 4, 5]</span><br/>&#13;&#13;
<span class="ent">❶</span> &gt;&gt;&gt; <span class="codestrong1">y = x</span><br/>&#13;&#13;
   &gt;&gt;&gt; <span class="codestrong1">x[0] = 99</span><br/>&#13;&#13;
   &gt;&gt;&gt; <span class="codestrong1">x</span><br/>&#13;&#13;
   [99, 2, 3, 4, 5]</p>&#13;&#13;
<p class="indent">No surprises yet. But you might be surprised by this:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">y</span><br/>&#13;&#13;
[99, 2, 3, 4, 5]</p>&#13;&#13;
<p class="indent">How did the <span class="literal">99</span> get into <span class="literal">y</span> like that?</p>&#13;&#13;
<p class="indent">When we assign <span class="literal">x</span> to <span class="literal">y</span> <span class="ent">❶</span>, <span class="literal">y</span> is set to refer to the same list as <span class="literal">x</span>. The assignment statement doesn’t copy the list. There’s only one list, and it happens to have two names (or <em>aliases</em>) that refer to it. So if we make a change to that list, we see that change whether we refer to the list by <span class="literal">x</span> or <span class="literal">y</span>.</p>&#13;&#13;
<p class="indent">Mutability is useful because it directly models what we might want to do with the values in a list. If we want to change a value, we just change it. Without mutability, changing one value isn’t possible. We’d have to create a new list that was the same as the old list except for the value that we wanted to change. That would work, but it is a roundabout and less transparent way of changing a value.</p>&#13;&#13;
<p class="indent">If you really do want a copy of a list, not just another name for it, you can use slicing. Leave out both the start and end indices, which results in a copy of the entire list:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">x = [1, 2, 3, 4, 5]</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">y = x[:]</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">x[0] = 99</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">x</span><br/>&#13;&#13;
[99, 2, 3, 4, 5]<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">y</span><br/>&#13;&#13;
[1, 2, 3, 4, 5]</p>&#13;&#13;
<p class="indent">Observe this time that the <span class="literal">y</span> list didn’t change when the <span class="literal">x</span> list changed. They’re separate lists.</p>&#13;&#13;
<span epub:type="pagebreak" id="page_108"/>&#13;&#13;
<div class="sidebar">&#13;&#13;
<p class="sb-title"><strong>CONCEPT CHECK</strong></p>&#13;&#13;
<p class="sidebarp">What is the output of the following code?</p>&#13;&#13;
<p class="programs">lst = ['abc', 'def', 'ghi']<br/>&#13;&#13;
lst[1] = 'wxyz'<br/>&#13;&#13;
<br/>&#13;&#13;
print(len(lst))</p>&#13;&#13;
<p class="alphat">A. <span class="literal">3</span></p>&#13;&#13;
<p class="alpha">B. <span class="literal">9</span></p>&#13;&#13;
<p class="alpha">C. <span class="literal">10</span></p>&#13;&#13;
<p class="alpha">D. <span class="literal">4</span></p>&#13;&#13;
<p class="alpha">E. This code produces an error</p>&#13;&#13;
<p class="sb-noindent1">Answer: A. Changing a list value is allowed (because lists are mutable). But changing the value at index 1 to a longer string doesn’t change the fact that the list has three values.</p>&#13;&#13;
</div>&#13;&#13;
<h3 class="h3" id="ch05lev1sec5">Learning About Methods</h3>&#13;&#13;
<p class="noindent">Like strings, lists have many useful methods. I’ll show you some of them in the next section, but first I’d like to show you how you can learn about methods on your own.</p>&#13;&#13;
<p class="indent">You can use Python’s <span class="literal">dir</span> function to get a list of methods for a particular type. Just call <span class="literal">dir</span> with a value as the argument, and you’ll get the methods for the type of that value.</p>&#13;&#13;
<p class="indent">Here’s what we get when we call <span class="literal">dir</span> using a string value as the argument:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">dir('')</span><br/>&#13;&#13;
['__add__', '__class__', '__contains__', '__delattr__',<br/>&#13;&#13;
<span class="codeitalic1">&lt;more stuff with underscores&gt;</span><br/>&#13;&#13;
'capitalize', 'casefold', 'center', 'count', 'encode',<br/>&#13;&#13;
'endswith', 'expandtabs', 'find', 'format',<br/>&#13;&#13;
'format_map', 'index', 'isalnum', 'isalpha', 'isascii',<br/>&#13;&#13;
'isdecimal', 'isdigit', 'isidentifier', 'islower',<br/>&#13;&#13;
'isnumeric', 'isprintable', 'isspace', 'istitle',<br/>&#13;&#13;
'isupper', 'join', 'ljust', 'lower', 'lstrip',<br/>&#13;&#13;
'maketrans', 'partition', 'replace', 'rfind', 'rindex',<br/>&#13;&#13;
'rjust', 'rpartition', 'rsplit', 'rstrip', 'split',<br/>&#13;&#13;
'splitlines', 'startswith', 'strip', 'swapcase', 'title',<br/>&#13;&#13;
'translate', 'upper', 'zfill']</p>&#13;&#13;
<p class="indent"><span epub:type="pagebreak" id="page_109"/>Notice that we called <span class="literal">dir</span> with an empty string. We could have called <span class="literal">dir</span> with any string value; the empty string is just fastest to type.</p>&#13;&#13;
<p class="indent">Ignore the names at the top with underscores; those names are for Python’s internal use and not generally of interest to programmers. The rest of the names are string methods that you can call. In that list, you’ll find string methods that you already know, such as <span class="literal">isupper</span> and <span class="literal">count</span>, and many others that we haven’t come across yet.</p>&#13;&#13;
<p class="indent">To learn how to use a method, you can use the name of that method in a call to <span class="literal">help</span>. Here’s the help we get on the string <span class="literal">count</span> method:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">help(''.count)</span><br/>&#13;&#13;
Help on built-in function count:<br/>&#13;&#13;
<br/>&#13;&#13;
count(...) method of builtins.str instance<br/>&#13;&#13;
  <span class="ent">❶</span> S.count(sub[, start[, end]]) -&gt; int<br/>&#13;&#13;
<br/>&#13;&#13;
     Return the number of non-overlapping occurrences of<br/>&#13;&#13;
     substring sub in string S[start:end].  Optional<br/>&#13;&#13;
     arguments start and end are interpreted as in<br/>&#13;&#13;
     slice notation.</p>&#13;&#13;
<p class="indent">The help tells us how to call the method <span class="ent">❶</span>.</p>&#13;&#13;
<p class="indent">Square brackets identify optional arguments. You would use <span class="literal">start</span> and <span class="literal">end</span> if you wanted to count the occurrences of <span class="literal">sub</span> within only a slice of the string.</p>&#13;&#13;
<p class="indent">It’s worth browsing the list of methods to check whether one is available to help with your current programming task. Even if you’ve used a method before, looking at the help can show you features that you didn’t know existed!</p>&#13;&#13;
<p class="indent">To see which list methods are available, call <span class="literal">dir([])</span>. To learn about them, call <span class="literal">help([].</span><span class="codeitalic">xxx</span>), where <span class="codeitalic">xxx</span> is the name of a list method.</p>&#13;&#13;
<div class="sidebar">&#13;&#13;
<p class="sb-title"><strong>CONCEPT CHECK</strong></p>&#13;&#13;
<p class="sidebarp">Here is the help for the string <span class="literal">center</span> method:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">help(''.center)</span><br/>&#13;&#13;
Help on built-in function center:<br/>&#13;&#13;
<br/>&#13;&#13;
center(width, fillchar=' ', /) method of builtins.str instance<br/>&#13;&#13;
    Return a centered string of length width.<br/>&#13;&#13;
<br/>&#13;&#13;
    Padding is done using the specified fill character<br/>&#13;&#13;
    (default is a space).</p>&#13;&#13;
<p class="sidebarp"><span epub:type="pagebreak" id="page_110"/>What is the string produced by the following code?</p>&#13;&#13;
<p class="programs">'cave'.center(8, 'x')</p>&#13;&#13;
<p class="alphat">A. <span class="literal">'xxcavexx'</span></p>&#13;&#13;
<p class="alpha">B. <span class="literal">' cave '</span></p>&#13;&#13;
<p class="alpha">C. <span class="literal">'xxxxcavexxxx'</span></p>&#13;&#13;
<p class="alpha">D. <span class="literal">' cave '</span></p>&#13;&#13;
<p class="sb-noindent1">Answer: A. We’re calling <span class="literal">center</span> with a <span class="literal">width</span> of <span class="literal">8</span> and a <span class="literal">fillchar</span> of <span class="literal">'x'</span>. (Had we provided only one argument, a space would have been used for <span class="literal">fillchar</span>.) The resulting string will therefore be of length 8. The string <span class="literal">'cave'</span> has four characters, so we need four more characters to get us to length 8. Python therefore adds two spaces at the beginning and two spaces at the end to center the string.</p>&#13;&#13;
</div>&#13;&#13;
<h3 class="h3" id="ch05lev1sec6">List Methods</h3>&#13;&#13;
<p class="noindent">Time to make progress on Village Neighborhood. I can think of two operations on a list that would help us solve it.</p>&#13;&#13;
<p class="indent">First, adding to a list. We’ll start off with no village positions and read them one at a time from the input. We therefore need a way to add each of these positions to a growing list: first the list will have nothing, and then it will have one village position in it, then two, and so on.</p>&#13;&#13;
<p class="indent">Second, sorting a list. Once we’ve read in the village positions, we need to find the smallest neighborhood. This involves looking at each village position and the distance to its left and right neighbors. The village positions could come in any order, so in general it’s not easy to find the neighbors of a given village. Think back to the work we did in “Why Lists?” in this chapter. For each village, we had to scan the entire list to find its neighbors. It’d be so much easier if we had the villages ordered by position. Then we’d know exactly where the neighbors were: they’d be just to the left and just to the right of a village.</p>&#13;&#13;
<p class="indent">For example, here are our sample villages in the order that we read them:</p>&#13;&#13;
<p class="programs">20 50 4 19 15 1</p>&#13;&#13;
<p class="indent">That’s a mess! On a real street, they’d come in order of position, like this:</p>&#13;&#13;
<p class="programs">1 4 15 19 20 50</p>&#13;&#13;
<p class="indent"><span epub:type="pagebreak" id="page_111"/>Want the neighbors of the village at position 4? Just look immediately to the left and immediately to the right: 1 and 15. The neighbors of the village at 15? Boom, they’re right there—4 and 19. No more searching all over the place. We’ll sort the list of village positions to simplify our code.</p>&#13;&#13;
<p class="indent">We can add to a list using the <span class="literal">append</span> method and sort a list using the <span class="literal">sort</span> method. We’ll learn these two methods, and a few others that you’ll likely find useful as you continue working with lists, and then we’ll come back to solve Village Neighborhood.</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec4">Adding to a List</h4>&#13;&#13;
<p class="noindent">The <span class="literal">append</span> method <em>appends</em> to a list, which means that it adds a value to the end of the values already there. Here’s <span class="literal">append</span> adding three village positions to an initially empty list:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">positions = []</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">positions.append(20)</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">positions</span><br/>&#13;&#13;
[20]<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">positions.append(50)</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">positions</span><br/>&#13;&#13;
[20, 50]<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">positions.append(4)</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">positions</span><br/>&#13;&#13;
[20, 50, 4]</p>&#13;&#13;
<p class="indent">Notice that we’re using <span class="literal">append</span> without using an assignment statement. The <span class="literal">append</span> method doesn’t return a list; it modifies an existing list.</p>&#13;&#13;
<p class="indent">It’s a common error to use an assignment statement with a method that changes a list. Making this error results in the list being lost, like this:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">positions</span><br/>&#13;&#13;
[20, 50, 4]<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">positions = positions.append(19)</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">positions</span></p>&#13;&#13;
<p class="indent">Nothing is there! Technically, <span class="literal">positions</span> now refers to a <span class="literal">None</span> value; you can see that using <span class="literal">print</span>:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">print(positions)</span><br/>&#13;&#13;
None</p>&#13;&#13;
<p class="indent">The <span class="literal">None</span> value is used to convey that no information is available. That’s absolutely not expected here—we wanted our four village positions!—but we’ve lost the list through an errant assignment statement.</p>&#13;&#13;
<p class="indent">If your list is disappearing or you’re getting error messages related to the <span class="literal">None</span> value, make sure you’re not using an assignment statement with a method that simply modifies a list.</p>&#13;&#13;
<p class="indent"><span epub:type="pagebreak" id="page_112"/>The <span class="literal">extend</span> method is related to <span class="literal">append</span>. You use <span class="literal">extend</span> whenever you’d like to concatenate a list (not a single value) to the end of an existing list. Here’s an example:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">lst1 = [1, 2, 3]</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst2 = [4, 5, 6]</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst1.extend(lst2)</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst1</span><br/>&#13;&#13;
[1, 2, 3, 4, 5, 6]<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst2</span><br/>&#13;&#13;
[4, 5, 6]</p>&#13;&#13;
<p class="indent">If you want to insert into a list at a position other than its end, you can use the <span class="literal">insert</span> method. It takes an index and a value and inserts the value at the index:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">lst = [10, 20, 30, 40]</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst.insert(1, 99)</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst</span><br/>&#13;&#13;
[10, 99, 20, 30, 40]</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec5">Sorting a List</h4>&#13;&#13;
<p class="noindent">The <span class="literal">sort</span> method <em>sorts</em> a list, putting its values in order. If we call it with no arguments, it sorts from smallest to largest:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">positions = [20, 50, 4, 19, 15, 1]</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">positions.sort()</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">positions</span><br/>&#13;&#13;
[1, 4, 15, 19, 20, 50]</p>&#13;&#13;
<p class="indent">If we call it with a <span class="literal">reverse</span> argument of value <span class="literal">True</span>, it sorts from largest to smallest:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">positions.sort(reverse=True)</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">positions</span><br/>&#13;&#13;
[50, 20, 19, 15, 4, 1]</p>&#13;&#13;
<p class="indent">The syntax that I’ve used, <span class="literal">reverse=True</span>, is new. Based on how we’ve called methods and functions to this point in the book, you might expect that <span class="literal">True</span> by itself would work. But no: <span class="literal">sort</span> requires the whole <span class="literal">reverse=True</span> to be there, for reasons I’ll explain in <a href="ch06.xhtml#ch06">Chapter 6</a>.</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec6">Removing Values from a List</h4>&#13;&#13;
<p class="noindent">The <span class="literal">pop</span> method removes a value by index. If no argument is provided, <span class="literal">pop</span> both removes and returns the rightmost value.</p>&#13;&#13;
<p class="programs"><span epub:type="pagebreak" id="page_113"/>&gt;&gt;&gt; <span class="codestrong1">lst = [50, 30, 81, 40]</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst.pop()</span><br/>&#13;&#13;
40</p>&#13;&#13;
<p class="indent">We can pass the index of the value to remove as an argument to <span class="literal">pop</span>. Here, we remove and return the value at index <span class="literal">0</span>:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">lst.pop(0)</span><br/>&#13;&#13;
50</p>&#13;&#13;
<p class="indent">Since <span class="literal">pop</span> returns something—unlike methods like <span class="literal">append</span> and <span class="literal">sort</span>—it makes sense to assign its return value to a variable:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">lst</span><br/>&#13;&#13;
[30, 81]<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">value = lst.pop()</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">value</span><br/>&#13;&#13;
81<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst</span><br/>&#13;&#13;
[30]</p>&#13;&#13;
<p class="indent">The <span class="literal">remove</span> method removes by value, not index. Pass it the value to remove, and it removes the leftmost occurrence of that value from the list. If the value is not present, <span class="literal">remove</span> produces an error. In the following, there are two occurrences of <span class="literal">50</span> in the list, so <span class="literal">remove(50)</span> works twice before producing an error:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">lst = [50, 30, 81, 40, 50]</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst.remove(50)</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst</span><br/>&#13;&#13;
[30, 81, 40, 50]<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst.remove(50)</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst</span><br/>&#13;&#13;
[30, 81, 40]<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">lst.remove(50)</span><br/>&#13;&#13;
Traceback (most recent call last):<br/>&#13;&#13;
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;<br/>&#13;&#13;
ValueError: list.remove(x): x not in list</p>&#13;&#13;
<div class="sidebar">&#13;&#13;
<p class="sb-title"><strong>CONCEPT CHECK</strong></p>&#13;&#13;
<p class="sidebarp">What is the value of <span class="literal">lst</span> after the following code runs?</p>&#13;&#13;
<p class="programs"><span epub:type="pagebreak" id="page_114"/>lst = [2, 4, 6, 8]<br/>&#13;&#13;
lst.remove(4)<br/>&#13;&#13;
lst.pop(2)</p>&#13;&#13;
<p class="alphat">A. <span class="literal">[2, 4]</span></p>&#13;&#13;
<p class="alpha">B. <span class="literal">[6, 8]</span></p>&#13;&#13;
<p class="alpha">C. <span class="literal">[2, 6]</span></p>&#13;&#13;
<p class="alpha">D. <span class="literal">[2, 8]</span></p>&#13;&#13;
<p class="alpha">E. This code produces an error</p>&#13;&#13;
<p class="sb-noindent1">Answer: C. The <span class="literal">remove</span> call removes the value <span class="literal">4</span>, leaving <span class="literal">[2, 6, 8]</span>. Now the <span class="literal">pop</span> call removes the value at index <span class="literal">2</span>, which is value <span class="literal">8</span>. That leaves a final list of <span class="literal">[2, 6]</span>.</p>&#13;&#13;
</div>&#13;&#13;
<h3 class="h3" id="ch05lev1sec7">Solving the Problem</h3>&#13;&#13;
<p class="noindent">Suppose that we’ve successfully read and sorted the village positions. Here’s what our list would look like at that point:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">positions = [1, 4, 15, 19, 20, 50]</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">positions</span><br/>&#13;&#13;
[1, 4, 15, 19, 20, 50]</p>&#13;&#13;
<p class="indent">To find the size of the smallest neighborhood, we start by finding the size of the neighborhood for the village at index <span class="literal">1</span>. (Notice that we don’t start at index <span class="literal">0</span>: the village at index <span class="literal">0</span> is the leftmost one, and per the problem description, we can ignore it.) We can find that neighborhood size like this:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">left = (positions[1] - positions[0]) / 2</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">right = (positions[2] - positions[1]) / 2</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">min_size = left + right</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">min_size</span><br/>&#13;&#13;
7.0</p>&#13;&#13;
<p class="indent">The <span class="literal">left</span> variable stores the size of the left part of the neighborhood, and <span class="literal">right</span> stores the size of the right part. We then add them up to obtain the total size of the neighborhood. We get a value of <span class="literal">7.0</span>.</p>&#13;&#13;
<p class="indent">That’s the value to beat. How do we know whether any other village has a smaller neighborhood? We can use a loop to process those other villages. If we find a neighborhood that’s smaller than our current smallest, we update our current smallest to that smaller size.</p>&#13;&#13;
<p class="indent">The code for our solution is in <a href="ch05.xhtml#ch05ex01">Listing 5-1</a>.</p>&#13;&#13;
<p class="programs"><span epub:type="pagebreak" id="page_115"/>   n = int(input())<br/>&#13;&#13;
<br/>&#13;&#13;
<span class="ent">❶</span> positions = []<br/>&#13;&#13;
<br/>&#13;&#13;
<span class="ent">❷</span> for i in range(n):<br/>&#13;&#13;
    <span class="ent">❸</span> positions.append(int(input()))<br/>&#13;&#13;
<br/>&#13;&#13;
<span class="ent">❹</span> positions.sort()<br/>&#13;&#13;
<br/>&#13;&#13;
<span class="ent">❺</span> left = (positions[1] - positions[0]) / 2<br/>&#13;&#13;
   right = (positions[2] - positions[1]) / 2<br/>&#13;&#13;
   min_size = left + right<br/>&#13;&#13;
<br/>&#13;&#13;
<span class="ent">❻</span> for i in range(2, n - 1):<br/>&#13;&#13;
       left = (positions[i] - positions[i - 1]) / 2<br/>&#13;&#13;
       right = (positions[i + 1] - positions[i]) / 2<br/>&#13;&#13;
       size = left + right<br/>&#13;&#13;
    <span class="ent">❼</span> if size &lt; min_size:<br/>&#13;&#13;
           min_size = size<br/>&#13;&#13;
<br/>&#13;&#13;
   print(min_size)</p>&#13;&#13;
<p class="ex-caption" id="ch05ex01"><em>Listing 5-1: Solving Village Neighborhood</em></p>&#13;&#13;
<p class="indent">We begin by reading <span class="literal">n</span>, the number of villages, from the input. We also set <span class="literal">positions</span> to refer to an empty list <span class="ent">❶</span>.</p>&#13;&#13;
<p class="indent">Each iteration of the first range <span class="literal">for</span> loop <span class="ent">❷</span> is responsible for reading one village position and appending it to the <span class="literal">positions</span> list. It does that by using <span class="literal">input</span> to read the next village position, <span class="literal">int</span> to convert it to an integer, and the list method <span class="literal">append</span> to append that integer to the list <span class="ent">❸</span>. That one line <span class="ent">❸</span> is equivalent to these three separate lines:</p>&#13;&#13;
<p class="programs">    position = input()<br/>&#13;&#13;
    position = int(position)<br/>&#13;&#13;
    positions.append(position)</p>&#13;&#13;
<p class="indent">Having read the village positions, we next sort them in increasing order <span class="ent">❹</span>. We then find the size of the neighborhood of the village at index <span class="literal">1</span>, storing it using <span class="literal">min_size</span> <span class="ent">❺</span>.</p>&#13;&#13;
<p class="indent">Next, in a second loop, we loop through each of the other villages whose neighborhood sizes we need to compute <span class="ent">❻</span>. Those villages start at index <span class="literal">2</span> and end at index <span class="literal">n - 2</span>. (We don’t want to consider the village at index <span class="literal">n - 1</span>, because that’s the rightmost village.) We therefore use <span class="literal">range</span> with a first argument of <span class="literal">2</span> (thus starting at <span class="literal">2</span>) and a second argument of <span class="literal">n - 1</span> (thus ending at <span class="literal">n - 2</span>).</p>&#13;&#13;
<p class="indent">Inside the loop, we calculate the size of the current village’s neighborhood, exactly as we did for the first village. The size of the smallest neighborhood that we’ve found so far is referred to by <span class="literal">min_size</span>. Is the current <span epub:type="pagebreak" id="page_116"/>village’s neighborhood smaller than our smallest so far? To answer that, we use an <span class="literal">if</span> statement <span class="ent">❼</span>. If this village’s neighborhood is smaller than <span class="literal">min_size</span>, we update <span class="literal">min_size</span> to the size of this neighborhood. If this village’s neighborhood isn’t smaller than <span class="literal">min_size</span>, then we do nothing, because this village doesn’t change the size of the smallest neighborhood.</p>&#13;&#13;
<p class="indent">Having gone through all of the villages, <span class="literal">min_size</span> must be the size of the smallest neighborhood. We therefore output the value of <span class="literal">min_size</span>.</p>&#13;&#13;
<p class="indent">The “Output” section of this problem description specified “Include exactly one digit after the decimal point.” What if the smallest size was something like 6.25 or 8.33333? Shouldn’t we do something about that?</p>&#13;&#13;
<p class="indent">No. We’re safe with what we’ve done. The only neighborhood sizes we can get are numbers like <span class="literal">3.0</span> (with a <span class="literal">0</span> after the decimal point) and <span class="literal">3.5</span> (with a <span class="literal">.5</span> after the decimal point). Here’s why. When we calculate the left part of a neighborhood, we subtract two integers and divide that resulting integer by 2. If we have an even integer before dividing by 2, then dividing gives us a <span class="literal">.0</span> number (no remainder). And if we have an odd integer before dividing by 2, then dividing gives us a <span class="literal">.5</span> number. The same goes for the right part of the neighborhood: the size will be a <span class="literal">.0</span> number or a <span class="literal">.5</span> number. Adding the left and right parts to get the total size is therefore guaranteed to give us another <span class="literal">.0</span> or <span class="literal">.5</span> number.</p>&#13;&#13;
<h3 class="h3" id="ch05lev1sec8">Avoiding Code Duplication: Two More Solutions</h3>&#13;&#13;
<p class="noindent">It’s a little disappointing that we’re including the “compute neighborhood size” code both prior to and in the second range <span class="literal">for</span> loop. In general, repeated code is a sign that we might be able to improve the code’s design. We’d like to avoid repeated code because it adds to the amount of code that we must maintain, and it makes it harder to fix problems in the code if it turns out that the repeated code is flawed. Here, the repeated code seems acceptable to me (it’s only three lines), but let’s talk about two ways to avoid it. These are general approaches that you’ll be able to apply to other similar problems.</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec7">Using a Huge Size</h4>&#13;&#13;
<p class="noindent">The only reason we’re calculating the size of a village’s neighborhood before the loop is so that the loop has something to compare the other neighborhood sizes against. If we entered the loop without a value for <span class="literal">min_size</span>, we’d get an error when the code tries to compare it to the size of the current village.</p>&#13;&#13;
<p class="indent">If we set <span class="literal">min_size</span> to <span class="literal">0.0</span> before the loop, then the loop will never find a smaller size, and we’ll incorrectly output <span class="literal">0.0</span> no matter the test case. Using <span class="literal">0.0</span> would be a bug!</p>&#13;&#13;
<p class="indent">But a huge value, one at least as big as every possible neighborhood size, <em>will</em> work. We just need to make it so huge that the first iteration of the loop is guaranteed to find a size that’s no bigger, ensuring that our fake huge size never gets output.</p>&#13;&#13;
<p class="indent"><span epub:type="pagebreak" id="page_117"/>From the “Input” section of this problem description, we know that each position is between –1,000,000,000 and 1,000,000,000. The biggest neighborhood we could ever have, then, occurs when we have a village at position –1,000,000,000, another at position 1,000,000,000, and a village somewhere in between. That in-between village will have a neighborhood size of 1,000,000,000. We can therefore start <span class="literal">min_size</span> with a size of <span class="literal">1000000000.0</span> or greater. This alternate approach is in <a href="ch05.xhtml#ch05ex02">Listing 5-2</a>.</p>&#13;&#13;
<p class="programs">   n = int(input())<br/>&#13;&#13;
<br/>&#13;&#13;
   positions = []<br/>&#13;&#13;
<br/>&#13;&#13;
   for i in range(n):<br/>&#13;&#13;
       positions.append(int(input()))<br/>&#13;&#13;
<br/>&#13;&#13;
   positions.sort()<br/>&#13;&#13;
<br/>&#13;&#13;
   min_size = 1000000000.0<br/>&#13;&#13;
<br/>&#13;&#13;
<span class="ent">❶</span> for i in range(1, n - 1):<br/>&#13;&#13;
       left = (positions[i] - positions[i - 1]) / 2<br/>&#13;&#13;
       right = (positions[i + 1] - positions[i]) / 2<br/>&#13;&#13;
       size = left + right<br/>&#13;&#13;
       if size &lt; min_size:<br/>&#13;&#13;
           min_size = size<br/>&#13;&#13;
<br/>&#13;&#13;
   print(min_size)</p>&#13;&#13;
<p class="ex-caption" id="ch05ex02"><em>Listing 5-2: Solving Village Neighborhood with a huge value</em></p>&#13;&#13;
<p class="indent">Careful! We need to start computing sizes at index <span class="literal">1</span> now <span class="ent">❶</span> (not <span class="literal">2</span>); otherwise, we’d forget to include the neighborhood of the village at index <span class="literal">1</span>.</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec8">Building a List of Sizes</h4>&#13;&#13;
<p class="noindent">Another way to avoid the code duplication is to store each neighborhood size in a list of sizes. Python has a built-in <span class="literal">min</span> function that takes a sequence and returns its minimum:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">min('qwerty')</span><br/>&#13;&#13;
'e'<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">min([15.5, 7.0, 2.5, 7.5])</span><br/>&#13;&#13;
2.5</p>&#13;&#13;
<p class="noindent">(Python also has a <span class="literal">max</span> function that returns the maximum of a sequence.)</p>&#13;&#13;
<p class="indent"><span epub:type="pagebreak" id="page_118"/>See <a href="ch05.xhtml#ch05ex03">Listing 5-3</a> for a solution that uses <span class="literal">min</span> on a list of neighborhood sizes.</p>&#13;&#13;
<p class="programs">n = int(input())<br/>&#13;&#13;
<br/>&#13;&#13;
positions = []<br/>&#13;&#13;
<br/>&#13;&#13;
for i in range(n):<br/>&#13;&#13;
    positions.append(int(input()))<br/>&#13;&#13;
<br/>&#13;&#13;
positions.sort()<br/>&#13;&#13;
<br/>&#13;&#13;
sizes = []<br/>&#13;&#13;
<br/>&#13;&#13;
for i in range(1, n - 1):<br/>&#13;&#13;
    left = (positions[i] - positions[i - 1]) / 2<br/>&#13;&#13;
    right = (positions[i + 1] - positions[i]) / 2<br/>&#13;&#13;
    size = left + right<br/>&#13;&#13;
    sizes.append(size)<br/>&#13;&#13;
<br/>&#13;&#13;
min_size = min(sizes)<br/>&#13;&#13;
print(min_size)</p>&#13;&#13;
<p class="ex-caption" id="ch05ex03"><em>Listing 5-3: Solving Village Neighborhood using</em> <span class="codeitalic">min</span></p>&#13;&#13;
<p class="indent">Feel free to submit any of these solutions to the judge, whichever you like best!</p>&#13;&#13;
<p class="indent">Before continuing, you might like to try solving exercise 1 from “Chapter Exercises” on <a href="ch05.xhtml#ch05lev1sec18">page 134</a>.</p>&#13;&#13;
<h3 class="h3a" id="ch05lev1sec9"><span class="h3aa">Problem #12: School Trip</span></h3>&#13;&#13;
<p class="noindent">Many problems you’ll encounter have input with multiple integers or floats per line. We’ve avoided these problems until now, but they are everywhere! We’ll now learn how we can use lists to process the input for these kinds of problems.</p>&#13;&#13;
<p class="indent">This is DMOJ problem <span class="literal">ecoo17r1p1</span>.</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec9">The Challenge</h4>&#13;&#13;
<p class="noindent">Students would like to go on a school trip at the end of the year, but they need money to pay for it. To raise money, they have organized a brunch. To attend the brunch, a student in their first year pays $12, a student in their second year pays $10, a student in their third year pays $7, and a student in their fourth year pays $5.</p>&#13;&#13;
<p class="indent">Of all of the money raised at the brunch, 50 percent of it can be used to pay for the school trip (the other 50 percent is used to pay for the brunch itself).</p>&#13;&#13;
<p class="indent"><span epub:type="pagebreak" id="page_119"/>We are told the cost of the school trip, the proportion of students in each year, and the total number of students. Determine whether the students need to raise more money for the school trip.</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec10">Input</h4>&#13;&#13;
<p class="noindent">The input consists of 10 test cases, with three lines per test case (30 lines in all). Here are the three lines for each test case:</p>&#13;&#13;
<ul>&#13;&#13;
<li class="noindent">The first line contains the cost in dollars of the school trip; it’s an integer between 50 and 50,000.</li>&#13;&#13;
<li class="noindent">The second line contains four numbers indicating the proportion of brunching students who are in first, second, third, and fourth year, respectively. There is a space between each pair of numbers. Each number is between 0 and 1, and their sum is 1 (for 100 percent).</li>&#13;&#13;
<li class="noindent">The third line contains integer <em>n</em>, the number of students attending the brunch. <em>n</em> is between 4 and 2,000.</li>&#13;&#13;
</ul>&#13;&#13;
<h4 class="h4" id="ch05lev2sec11">Output</h4>&#13;&#13;
<p class="noindent">For each test case: if the students need to raise more money for the school trip, output <span class="literal">YES</span>; otherwise, output <span class="literal">NO</span>.</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec12">A Catch</h4>&#13;&#13;
<p class="noindent">Suppose that there are 50 students and that 10 percent of them (a proportion of 0.1) are in their fourth year. Then we can calculate that 50 * 0.1 = 5 students are in their fourth year.</p>&#13;&#13;
<p class="indent">Now suppose that there are 50 students, but that 15 percent of them (a proportion of 0.15) are in their fourth year. If we multiply, we get 50 * 0.15 = 7.5 students in their fourth year.</p>&#13;&#13;
<p class="indent">Having 7.5 students doesn’t make any sense, and I haven’t told you what we should do in such a case. The full problem description specifies that we are to round down—so we’d round down to 7 here. This could result in the sum of the students in first year, second year, third year, and fourth year not equaling the total number of students. For the students who are not accounted for, we are to add them to the year with the most students. It’s guaranteed that exactly one year will have the most students (there won’t be a tie between multiple years).</p>&#13;&#13;
<p class="indent">We’ll first solve the problem ignoring this catch. Then we’ll incorporate the catch to give us a full solution.</p>&#13;&#13;
<h3 class="h3" id="ch05lev1sec10">Splitting Strings and Joining Lists</h3>&#13;&#13;
<p class="noindent">The second line of each test case consists of four proportions, like this:</p>&#13;&#13;
<p class="programs">0.2 0.08 0.4 0.32</p>&#13;&#13;
<p class="indent"><span epub:type="pagebreak" id="page_120"/>We need a way to extract those four numbers from a string for further processing. We’ll learn about the string <span class="literal">split</span> method for splitting a string into a list of its pieces. While we’re at it, we’ll also learn about the string <span class="literal">join</span> method, which lets us go the other way and collapse a list into a single string.</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec13">Splitting a String into a List</h4>&#13;&#13;
<p class="noindent">Remember that the <span class="literal">input</span> function returns a string, no matter what the input looks like. If the input should be interpreted as an integer, we need to convert the string to an integer. If the input should be interpreted as a float, we need to convert the string to a float. And if the input should be interpreted as four floats? Well, then we had better split it up into individual floats before converting anything!</p>&#13;&#13;
<p class="indent">The string <span class="literal">split</span> method splits a string into a list of its pieces. By default, <span class="literal">split</span> splits around spaces, which is exactly what we need for our four floats:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">s = '0.2 0.08 0.4 0.32'</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">s.split()</span><br/>&#13;&#13;
['0.2', '0.08', '0.4', '0.32']</p>&#13;&#13;
<p class="indent">The <span class="literal">split</span> method returns a list of strings, at which point we can access each one independently. Here, I save the list that <span class="literal">split</span> returns and then access two of its values:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">proportions = s.split()</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">proportions</span><br/>&#13;&#13;
['0.2', '0.08', '0.4', '0.32']<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">proportions[1]</span><br/>&#13;&#13;
'0.08'<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">proportions[2]</span><br/>&#13;&#13;
'0.4'</p>&#13;&#13;
<p class="indent">Data in the wild is often comma-separated rather than space-separated. Piece of cake: we can call <span class="literal">split</span> with an argument that tells it what to use as a separator:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">info = 'Toronto,Ontario,Canada'</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">info.split(',')</span><br/>&#13;&#13;
['Toronto', 'Ontario', 'Canada']</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec14">Joining a List into a String</h4>&#13;&#13;
<p class="noindent">To go the other way, from a list to a string rather than a string to a list, we can use the string <span class="literal">join</span> method. The string on which <span class="literal">join</span> is called is used as the separator between list values. Here are two examples:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">lst = ['Toronto', 'Ontario', 'Canada']</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">','.join(lst)</span><br/>&#13;&#13;
<span epub:type="pagebreak" id="page_121"/>&#13;&#13;
'Toronto,Ontario,Canada'<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">'**'.join(lst)</span><br/>&#13;&#13;
'Toronto**Ontario**Canada'</p>&#13;&#13;
<p class="indent">Technically, <span class="literal">join</span> can join the values in any sequence, not just in a list. Here’s an example of joining the characters from a string:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">'*'.join('abcd')</span><br/>&#13;&#13;
'a*b*c*d'</p>&#13;&#13;
<h3 class="h3" id="ch05lev1sec11">Changing List Values</h3>&#13;&#13;
<p class="noindent">When we use <span class="literal">split</span> on a string of four pieces, we get a list of strings:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">s = '0.2 0.08 0.4 0.32'</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">proportions = s.split()</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">proportions</span><br/>&#13;&#13;
['0.2', '0.08', '0.4', '0.32']</p>&#13;&#13;
<p class="indent">In “Converting Between Strings and Integers” in <a href="ch01.xhtml#ch01">Chapter 1</a>, we learned that strings that look like numbers can’t be used in numerical calculations. So, we need to convert this list of strings to a list of floats.</p>&#13;&#13;
<p class="indent">We can convert a string to a float using <span class="literal">float</span>, like this:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">float('45.6')</span><br/>&#13;&#13;
45.6</p>&#13;&#13;
<p class="indent">That’s just one float. How can we convert a whole list of strings to a list of floats? It’s awfully tempting to try to make that happen using the following loop:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">for value in proportions:</span><br/>&#13;&#13;
...     <span class="codestrong1">value = float(value)</span></p>&#13;&#13;
<p class="indent">The logic is that this should go through each value in the list and convert it to a float.</p>&#13;&#13;
<p class="indent">Sadly, it doesn’t work. The list still refers to strings:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">proportions</span><br/>&#13;&#13;
['0.2', '0.08', '0.4', '0.32']</p>&#13;&#13;
<p class="indent">What could be wrong? Is <span class="literal">float</span> not working? We can see that <span class="literal">float</span> is doing just fine by looking at the type of <span class="literal">value</span> after conversion:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">for value in proportions:</span><br/>&#13;&#13;
...     <span class="codestrong1">value = float(value)</span><br/>&#13;&#13;
...     <span class="codestrong1">type(value)</span><br/>&#13;&#13;
...<br/>&#13;&#13;
&lt;class 'float'&gt;<br/>&#13;&#13;
<span epub:type="pagebreak" id="page_122"/>&lt;class 'float'&gt;<br/>&#13;&#13;
&lt;class 'float'&gt;<br/>&#13;&#13;
&lt;class 'float'&gt;</p>&#13;&#13;
<p class="indent">Four floats! But the list obdurately remains one of strings.</p>&#13;&#13;
<p class="indent">What’s happening here is that we’re not changing the values referred to in the list. We’re changing what the variable <span class="literal">value</span> refers to, but that doesn’t change the fact that the list refers to the old string values. To actually change the values that the list references, we need to assign new values at the list’s indices. Here’s how to do it:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">proportions</span><br/>&#13;&#13;
['0.2', '0.08', '0.4', '0.32']<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">for i in range(len(proportions)):</span><br/>&#13;&#13;
...     <span class="codestrong1">proportions[i] = float(proportions[i])</span><br/>&#13;&#13;
...<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">proportions</span><br/>&#13;&#13;
[0.2, 0.08, 0.4, 0.32]</p>&#13;&#13;
<p class="indent">The range <span class="literal">for</span> loop loops through each index, and an assignment statement changes what’s referred to by that index.</p>&#13;&#13;
<h3 class="h3" id="ch05lev1sec12">Solving Most of the Problem</h3>&#13;&#13;
<p class="noindent">We’re now in good shape to solve the problem minus the catch.</p>&#13;&#13;
<p class="indent">We’ll start with an example to highlight what our code will have to do. Then we’ll move onto the code itself.</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec15">Exploring a Test Case</h4>&#13;&#13;
<p class="noindent">The input for this problem consists of 10 test cases, but I’ll present only one here. If you type this test case from the keyboard, you’ll see the answer. But the program won’t terminate there, because it’s waiting for the next test case. If you use input redirection with this test case, you’ll again see the answer. But then you’ll get an <span class="literal">EOFError</span>. EOF stands for “end of file”; the error is caused by the program trying to read more input than is available. Once your code is working for one test case, you can try adding a few more to your input to make sure that those work, too. Once you have 10, your program should run to completion.</p>&#13;&#13;
<p class="indent">Here’s the test case I’d like to trace with you:</p>&#13;&#13;
<p class="programs">504<br/>&#13;&#13;
0.2 0.08 0.4 0.32<br/>&#13;&#13;
125</p>&#13;&#13;
<p class="indent">The school trip costs $504, and there are 125 students who attend the brunch.</p>&#13;&#13;
<p class="indent">To determine how much money is raised at the brunch, we calculate the money raised from each year of students. There are 125 * 0.2 = 25 students <span epub:type="pagebreak" id="page_123"/>in their first year, and each of them pays $12 for the brunch. So, the first-year students raise 25 * 12 = 300 dollars. We can similarly calculate the money raised by the students in second, third, and fourth years. See <a href="ch05.xhtml#ch05tab01">Table 5-1</a> for this work.</p>&#13;&#13;
<p class="tabcap" id="ch05tab01"><strong>Table 5-1:</strong> School Trip Example</p>&#13;&#13;
<table class="bordertb1">&#13;&#13;
<colgroup>&#13;&#13;
<col style="width:25%"/>&#13;&#13;
<col style="width:25%"/>&#13;&#13;
<col style="width:25%"/>&#13;&#13;
<col style="width:25%"/>&#13;&#13;
</colgroup>&#13;&#13;
<thead>&#13;&#13;
<tr>&#13;&#13;
<td style="vertical-align: top" class="table-h"><p class="tab"><strong>Year</strong></p></td>&#13;&#13;
<td style="vertical-align: top" class="table-h"><p class="tab"><strong>Students in year</strong></p></td>&#13;&#13;
<td style="vertical-align: top" class="table-h"><p class="tab"><strong>Cost per student</strong></p></td>&#13;&#13;
<td style="vertical-align: top" class="table-h"><p class="tab"><strong>Money raised</strong></p></td>&#13;&#13;
</tr>&#13;&#13;
</thead>&#13;&#13;
<tbody>&#13;&#13;
<tr>&#13;&#13;
<td style="vertical-align: top"><p class="tab">First year</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">25</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">12</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">300</p></td>&#13;&#13;
</tr>&#13;&#13;
<tr class="bg-g">&#13;&#13;
<td style="vertical-align: top"><p class="tab">Second year</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">10</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">10</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">100</p></td>&#13;&#13;
</tr>&#13;&#13;
<tr>&#13;&#13;
<td style="vertical-align: top"><p class="tab">Third year</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">50</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">7</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">350</p></td>&#13;&#13;
</tr>&#13;&#13;
<tr class="bg-g">&#13;&#13;
<td style="vertical-align: top"><p class="tab">Fourth year</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">40</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">5</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">200</p></td>&#13;&#13;
</tr>&#13;&#13;
</tbody>&#13;&#13;
</table>&#13;&#13;
<p class="indent">The money raised by each year of students is calculated by multiplying the number of students in that year by the cost per student in that year; see the rightmost column of the table. For the total money raised by all students, we can add the four numbers in this rightmost column. That gives us 300 + 100 + 350 + 200 = 950 dollars. Only 50 percent of that can be used for the school trip. So we’re left with 950 / 2 = 475 dollars, not sufficient to pay for the $504 trip. The correct output is therefore <span class="literal">YES</span>, because more money must be raised.</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec16">The Code</h4>&#13;&#13;
<p class="noindent">This partial solution will correctly handle any input where multiplying a proportion by the number of students gives a whole number of students (such as the test case that we just did). See <a href="ch05.xhtml#ch05ex04">Listing 5-4</a> for the code.</p>&#13;&#13;
<p class="programs"><span class="ent">❶</span> YEAR_COSTS = [12, 10, 7, 5]<br/>&#13;&#13;
<br/>&#13;&#13;
<br/>&#13;&#13;
<span class="ent">❷</span> for dataset in range(10):<br/>&#13;&#13;
       trip_cost = int(input())<br/>&#13;&#13;
    <span class="ent">❸</span> proportions = input().split()<br/>&#13;&#13;
       num_students = int(input())<br/>&#13;&#13;
<br/>&#13;&#13;
    <span class="ent">❹</span> for i in range(len(proportions)):<br/>&#13;&#13;
           proportions[i] = float(proportions[i])<br/>&#13;&#13;
<br/>&#13;&#13;
    <span class="ent">❺</span> students_per_year = []<br/>&#13;&#13;
<br/>&#13;&#13;
       for proportion in proportions:<br/>&#13;&#13;
        <span class="ent">❻</span> students = int(num_students * proportion)<br/>&#13;&#13;
           students_per_year.append(students)<br/>&#13;&#13;
<br/>&#13;&#13;
       total_raised = 0<br/>&#13;&#13;
<span epub:type="pagebreak" id="page_124"/>&#13;&#13;
    <span class="ent">❼</span> for i in range(len(students_per_year)):<br/>&#13;&#13;
           total_raised = total_raised + students_per_year[i] * YEAR_COSTS[i]<br/>&#13;&#13;
<br/>&#13;&#13;
    <span class="ent">❽</span> if total_raised / 2 &lt; trip_cost:<br/>&#13;&#13;
           print('YES')<br/>&#13;&#13;
       else:<br/>&#13;&#13;
           print('NO')</p>&#13;&#13;
<p class="ex-caption" id="ch05ex04"><em>Listing 5-4: Solving most of School Trip</em></p>&#13;&#13;
<p class="indent">To begin, we use variable <span class="literal">YEAR_COSTS</span> to refer to a list of costs for attending the brunch: the cost for students in their first, second, third, and fourth year <span class="ent">❶</span>. Once we’ve determined the number of students in each year, we’ll multiply by these values to determine the money raised. The costs never change, so we’ll never change what this variable refers to. For such “constant” variables, Python convention is to write their names in capital letters, as I’ve done here.</p>&#13;&#13;
<p class="indent">The input contains 10 test cases, so we loop 10 times <span class="ent">❷</span>, once for each test case. The rest of the program is inside this loop, because we want to repeat everything 10 times.</p>&#13;&#13;
<p class="indent">For each test case, we read the three lines of input. The second line is the one that has the four proportions, so we use <span class="literal">split</span> to split it into a list of four strings <span class="ent">❸</span>. We use a range <span class="literal">for</span> loop to convert each of those strings to a float <span class="ent">❹</span>.</p>&#13;&#13;
<p class="indent">Using those proportions, our next task is to determine the number of students in each year. We begin with an empty list <span class="ent">❺</span>. Then, for each proportion, we multiply the total number of students by that proportion <span class="ent">❻</span> and append it to the list. Notice at <span class="ent">❻</span> that I’m using <span class="literal">int</span> to guarantee that we’re appending only integers. When used on a float, <span class="literal">int</span> drops the fractional part by rounding toward 0.</p>&#13;&#13;
<p class="indent">Now we have the two lists that we need to calculate how much money has been raised. In <span class="literal">students_per_year</span>, we have a list of the number of students in each year, which looks something like this:</p>&#13;&#13;
<p class="programs">[25, 10, 50, 40]</p>&#13;&#13;
<p class="indent">And in <span class="literal">YEAR_COSTS</span>, we have the cost of brunch for students in each year:</p>&#13;&#13;
<p class="programs">[12, 10, 7, 5]</p>&#13;&#13;
<p class="indent">Each value at index 0 in these lists tells us something about students in their first year, each value at index 1 tells us something about students in their second year, and so on. Such lists are called <em>parallel lists</em>, because they work in parallel to tell us more than each does alone.</p>&#13;&#13;
<p class="indent">We use these two lists to calculate the total money raised, by multiplying each number of students by the corresponding cost per student and adding up all of these results <span class="ent">❼</span>.</p>&#13;&#13;
<p class="indent">Has enough money been raised for the school trip? To find out, we use an <span class="literal">if</span> statement <span class="ent">❽</span>. Half of the money raised by the brunch can be used for <span epub:type="pagebreak" id="page_125"/>the school trip. If that amount is less than the cost of the school trip, then we need to raise more money (<span class="literal">YES</span>); otherwise, we don’t (<span class="literal">NO</span>).</p>&#13;&#13;
<p class="indent">The code we’ve written is very general. The only clue that there are four years of students is at <span class="ent">❶</span>. If we wanted to solve a similar problem for a different number of years, all we’d have to do is change that line (and provide input with the expected number of proportions). This is the power of lists: they help us write flexible code that can accommodate changes to problems we are solving.</p>&#13;&#13;
<h3 class="h3" id="ch05lev1sec13">How to Handle the Catch</h3>&#13;&#13;
<p class="noindent">Now let’s see why our current program does the wrong thing for some test cases, and the Python features we’ll use to fix it.</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec17">Exploring a Test Case</h4>&#13;&#13;
<p class="noindent">Here’s a test case that our current code gets wrong:</p>&#13;&#13;
<p class="programs">50<br/>&#13;&#13;
0.7 0.1 0.1 0.1<br/>&#13;&#13;
9</p>&#13;&#13;
<p class="indent">This time, the school trip costs $50, and there are nine students that attend the brunch. For the number of students in their first year, our current program would calculate 9 * 0.7 = 6.3 and then round down to 6. The fact that we have to round down is why we have to be careful with this test case. To see what our current program would do for all four years, see <a href="ch05.xhtml#ch05tab02">Table 5-2</a>.</p>&#13;&#13;
<p class="tabcap" id="ch05tab02"><strong>Table 5-2:</strong> An Example Case from School Trip That Our Current Program Gets Wrong</p>&#13;&#13;
<table class="bordertb1">&#13;&#13;
<colgroup>&#13;&#13;
<col style="width:25%"/>&#13;&#13;
<col style="width:25%"/>&#13;&#13;
<col style="width:25%"/>&#13;&#13;
<col style="width:25%"/>&#13;&#13;
</colgroup>&#13;&#13;
<thead>&#13;&#13;
<tr>&#13;&#13;
<td style="vertical-align: top" class="table-h"><p class="tab"><strong>Year</strong></p></td>&#13;&#13;
<td style="vertical-align: top" class="table-h"><p class="tab"><strong>Students in year</strong></p></td>&#13;&#13;
<td style="vertical-align: top" class="table-h"><p class="tab"><strong>Cost per student</strong></p></td>&#13;&#13;
<td style="vertical-align: top" class="table-h"><p class="tab"><strong>Money raised</strong></p></td>&#13;&#13;
</tr>&#13;&#13;
</thead>&#13;&#13;
<tbody>&#13;&#13;
<tr>&#13;&#13;
<td style="vertical-align: top"><p class="tab">First year</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">6</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">12</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">72</p></td>&#13;&#13;
</tr>&#13;&#13;
<tr class="bg-g">&#13;&#13;
<td style="vertical-align: top"><p class="tab">Second year</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">0</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">10</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">0</p></td>&#13;&#13;
</tr>&#13;&#13;
<tr>&#13;&#13;
<td style="vertical-align: top"><p class="tab">Third year</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">0</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">7</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">0</p></td>&#13;&#13;
</tr>&#13;&#13;
<tr class="bg-g">&#13;&#13;
<td style="vertical-align: top"><p class="tab">Fourth year</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">0</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">5</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab">0</p></td>&#13;&#13;
</tr>&#13;&#13;
</tbody>&#13;&#13;
</table>&#13;&#13;
<p class="indent">In each year besides the first year, there are 0 students because 9 * 0.1 = 0.9 rounds down to 0. So it looks like all we raise is $72. Half of $72 is $36, not sufficient to pay for the $50 school trip. Our current program outputs <span class="literal">YES</span>. We need to raise more money.</p>&#13;&#13;
<p class="indent">. . . Or not. We’re supposed to have nine students here, not six! We’ve lost three students to rounding. The problem description specifies that we should add those students to the year with the most students, which in this case is the first year. If we do that, we see that we actually raise 9 * 12 = 108 dollars. Half of $108 is $54, so in fact we do <em>not</em> need to raise any more money for the $50 school trip! The correct output is <span class="literal">NO</span>.</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec18"><span epub:type="pagebreak" id="page_126"/>More List Operations</h4>&#13;&#13;
<p class="noindent">To fix our program, we need to do two things: figure out how many students were lost to rounding, and add those students to the year with the most students.</p>&#13;&#13;
<h5 class="h5" id="ch05lev3sec1">Summing a List</h5>&#13;&#13;
<p class="noindent">To determine the number of students lost to rounding, we can add up the students in our <span class="literal">students_per_year</span> list and then subtract that from the total number of students. Python’s <span class="literal">sum</span> function takes a list and returns the sum of its values:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">students_per_year = [6, 0, 0, 0]</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">sum(students_per_year)</span><br/>&#13;&#13;
6<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">students_per_year = [25, 10, 50, 40]</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">sum(students_per_year)</span><br/>&#13;&#13;
125</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec19">Finding the Index of the Maximum</h4>&#13;&#13;
<p class="noindent">Python’s <span class="literal">max</span> function takes a sequence and returns its maximum value:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">students_per_year = [6, 0, 0, 0]</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">max(students_per_year)</span><br/>&#13;&#13;
6<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">students_per_year = [25, 10, 50, 40]</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">max(students_per_year)</span><br/>&#13;&#13;
50</p>&#13;&#13;
<p class="indent">We want the index of the maximum, not the maximum itself, so that we can increase the number of students at that index. Given the maximum value, we can find its index using the <span class="literal">index</span> method. It returns the leftmost index where the provided value is found or generates an error if the value is not in the list at all:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">students_per_year = [6, 0, 0, 0]</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">students_per_year.index(6)</span><br/>&#13;&#13;
0<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">students_per_year.index(0)</span><br/>&#13;&#13;
1<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">students_per_year.index(50)</span><br/>&#13;&#13;
Traceback (most recent call last):<br/>&#13;&#13;
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;<br/>&#13;&#13;
ValueError: 50 is not in list</p>&#13;&#13;
<p class="indent">We’ll be searching for a value that we know is in the list, so we won’t have to worry about getting an error.</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec20"><span epub:type="pagebreak" id="page_127"/>Solving the Problem</h4>&#13;&#13;
<p class="noindent">We’re there! We can now update our partial solution to handle any valid test case. The new program is in <a href="ch05.xhtml#ch05ex05">Listing 5-5</a>.</p>&#13;&#13;
<p class="programs">YEAR_COSTS = [12, 10, 7, 5]<br/>&#13;&#13;
<br/>&#13;&#13;
<br/>&#13;&#13;
for dataset in range(10):<br/>&#13;&#13;
    trip_cost = int(input())<br/>&#13;&#13;
    proportions = input().split()<br/>&#13;&#13;
    num_students = int(input())<br/>&#13;&#13;
<br/>&#13;&#13;
    for i in range(len(proportions)):<br/>&#13;&#13;
        proportions[i] = float(proportions[i])<br/>&#13;&#13;
<br/>&#13;&#13;
    students_per_year = []<br/>&#13;&#13;
<br/>&#13;&#13;
    for proportion in proportions:<br/>&#13;&#13;
        students = int(num_students * proportion)<br/>&#13;&#13;
        students_per_year.append(students)<br/>&#13;&#13;
<br/>&#13;&#13;
 <span class="ent">❶</span> counted = sum(students_per_year)<br/>&#13;&#13;
    uncounted = num_students - counted<br/>&#13;&#13;
    most = max(students_per_year)<br/>&#13;&#13;
    where = students_per_year.index(most)<br/>&#13;&#13;
 <span class="ent">❷</span> students_per_year[where] = students_per_year[where] + uncounted<br/>&#13;&#13;
<br/>&#13;&#13;
    total_raised = 0<br/>&#13;&#13;
<br/>&#13;&#13;
    for i in range(len(students_per_year)):<br/>&#13;&#13;
        total_raised = total_raised + students_per_year[i] * YEAR_COSTS[i]<br/>&#13;&#13;
<br/>&#13;&#13;
    if total_raised / 2 &lt; trip_cost:<br/>&#13;&#13;
        print('YES')<br/>&#13;&#13;
    else:<br/>&#13;&#13;
        print('NO')</p>&#13;&#13;
<p class="ex-caption" id="ch05ex05"><em>Listing 5-5: Solving School Trip</em></p>&#13;&#13;
<p class="indent">The only new code is the five lines starting at <span class="ent">❶</span>. We use <span class="literal">sum</span> to calculate how many students we’ve counted so far and then subtract this from the total number of students to arrive at the number of uncounted students. We then use <span class="literal">max</span> and <span class="literal">index</span> to identify the index of the year to which we should add the uncounted students. Finally, we add the uncounted students to this index <span class="ent">❷</span>. (Adding <span class="literal">0</span> to a number doesn’t change that number, so don’t worry about coding special behavior for when <span class="literal">uncounted</span> is <span class="literal">0</span>. This code is safe in that case.)</p>&#13;&#13;
<p class="indent"><span epub:type="pagebreak" id="page_128"/>That’s all for this problem. Go ahead and submit to the judge! And then come back—we’re about to explore even more general list structures.</p>&#13;&#13;
<p class="indent">Before continuing, you might like to try solving exercise 5 from “Chapter Exercises” on <a href="ch05.xhtml#ch05lev1sec18">page 134</a>.</p>&#13;&#13;
<h3 class="h3a" id="ch05lev1sec14"><span class="h3aa">Problem #13: Baker Bonus</span></h3>&#13;&#13;
<p class="noindent">In this problem, we’ll see how lists help us work with two-dimensional data. This kind of data arises often in real-world programs. For example, data in the form of a spreadsheet consists of rows and columns; processing such data requires techniques like those we’re about to learn.</p>&#13;&#13;
<p class="indent">This is DMOJ problem <span class="literal">ecoo17r3p1</span>.</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec21">The Challenge</h4>&#13;&#13;
<p class="noindent">Baker Brie has a number of franchisees, each of which sells baked goods to consumers. Having reached the milestone of being in business for 13 years, Baker Brie will celebrate by awarding bonuses based on sales. The bonuses depend on sales per day and sales per franchisee. Here’s how the bonuses work:</p>&#13;&#13;
<ul>&#13;&#13;
<li class="noindent">For every day on which the total sales across all franchisees is a multiple of 13, that multiple will be given as bonuses. For example, a day where the franchisees sold a combined 26 baked goods will add 26 / 13 = 2 bonuses to the total.</li>&#13;&#13;
<li class="noindent">For every franchisee whose total sales across all days is a multiple of 13, that multiple will be given as bonuses. For example, a franchisee that sold a total of 39 baked goods will add 39 / 13 = 3 bonuses to the total.</li>&#13;&#13;
</ul>&#13;&#13;
<p class="indent">Determine the total number of bonuses awarded.</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec22">Input</h4>&#13;&#13;
<p class="noindent">The input consists of 10 test cases. Each test case contains the following lines:</p>&#13;&#13;
<ul>&#13;&#13;
<li class="noindent">A line containing the integer number of franchisees <em>f</em> and integer number of days <em>d</em>, separated by a space. <em>f</em> is between 4 and 130, and <em>d</em> is between 2 and 4,745.</li>&#13;&#13;
<li class="noindent"><em>d</em> lines, one per day, containing <em>f</em> integers separated by spaces. Each integer specifies a number of sales. The first of these lines gives the sales for each franchise on the first day, the second gives the sales for each franchise on the second day, and so on. Each integer is between 1 and 13,000.</li>&#13;&#13;
</ul>&#13;&#13;
<h4 class="h4" id="ch05lev2sec23"><span epub:type="pagebreak" id="page_129"/>Output</h4>&#13;&#13;
<p class="noindent">For each test case, output the total number of bonuses awarded.</p>&#13;&#13;
<h3 class="h3" id="ch05lev1sec15">Representing a Table</h3>&#13;&#13;
<p class="noindent">The data for this problem can be visualized as a table. We’ll start with an example and then look at how to represent a table as a list.</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec24">Exploring a Test Case</h4>&#13;&#13;
<p class="noindent">If we have <em>d</em> days and <em>f</em> franchisees, we can lay out the data as a table with <em>d</em> rows and <em>f</em> columns.</p>&#13;&#13;
<p class="indent">Here’s a sample test case:</p>&#13;&#13;
<p class="programs">6 4<br/>&#13;&#13;
1 13 2 1 1 8<br/>&#13;&#13;
2 12 10 5 11 4<br/>&#13;&#13;
39 6 13 52 3 3<br/>&#13;&#13;
15 8 6 2 7 14</p>&#13;&#13;
<p class="indent">The table corresponding to this test case is in <a href="ch05.xhtml#ch05tab03">Table 5-3</a>.</p>&#13;&#13;
<p class="tabcap" id="ch05tab03"><strong>Table 5-3:</strong> Baker Bonus Table</p>&#13;&#13;
<table class="bordertb2">&#13;&#13;
<colgroup>&#13;&#13;
<col style="width:20%"/>&#13;&#13;
<col style="width:20%"/>&#13;&#13;
<col style="width:15%"/>&#13;&#13;
<col style="width:15%"/>&#13;&#13;
<col style="width:15%"/>&#13;&#13;
<col style="width:15%"/>&#13;&#13;
</colgroup>&#13;&#13;
<thead>&#13;&#13;
<tr class="borderb">&#13;&#13;
<td style="vertical-align: top" class="borderr1a"><p class="tab-c"> </p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr1b"><p class="tab-c"><strong>0</strong></p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr1b"><p class="tab-c"><strong>1</strong></p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr1b"><p class="tab-c"><strong>2</strong></p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr1b"><p class="tab-c"><strong>3</strong></p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr1b"><p class="tab-c"><strong>4</strong></p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr1c"><p class="tab-c"><strong>5</strong></p></td>&#13;&#13;
</tr>&#13;&#13;
</thead>&#13;&#13;
<tbody>&#13;&#13;
<tr class="borderb">&#13;&#13;
<td style="vertical-align: top" class="borderr1"><p class="tab-c"><strong>0</strong></p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">1</p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">13</p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">2</p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">1</p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">1</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab-c">8</p></td>&#13;&#13;
</tr>&#13;&#13;
<tr class="borderb">&#13;&#13;
<td style="vertical-align: top" class="borderr1"><p class="tab-c"><strong>1</strong></p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">2</p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">12</p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">10</p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">5</p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">11</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab-c">4</p></td>&#13;&#13;
</tr>&#13;&#13;
<tr class="borderb">&#13;&#13;
<td style="vertical-align: top" class="borderr1"><p class="tab-c"><strong>2</strong></p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">39</p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">6</p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">13</p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">52</p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">3</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab-c">3</p></td>&#13;&#13;
</tr>&#13;&#13;
<tr>&#13;&#13;
<td style="vertical-align: top" class="borderr1"><p class="tab-c"><strong>3</strong></p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">15</p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">8</p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">6</p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">2</p></td>&#13;&#13;
<td style="vertical-align: top" class="borderr"><p class="tab-c">7</p></td>&#13;&#13;
<td style="vertical-align: top"><p class="tab-c">14</p></td>&#13;&#13;
</tr>&#13;&#13;
</tbody>&#13;&#13;
</table>&#13;&#13;
<p class="indent">I’ve numbered the rows and columns starting at 0 to coincide with how we’ll shortly store this data in a list.</p>&#13;&#13;
<p class="indent">How many bonuses are awarded in this test case? Let’s first look at the rows of the table, which correspond to days. The sum of the sales for row 0 is 1 + 13 + 2 + 1 + 1 + 8 = 26. As 26 is a multiple of 13, this row gives us 26 / 13 = 2 bonuses. The sum of row 1 is 44. That’s not a multiple of 13, so no bonuses there. The sum of row 2 is 116—again, no bonuses. The sum of row 3 is 52, which gives us 52 / 13 = 4 bonuses.</p>&#13;&#13;
<p class="indent">Now let’s look at the columns, which correspond to franchisees. The sum of column 0 is 1 + 2 + 39 + 15 = 57. That’s not a multiple of 13, so no bonuses. In fact, the only column that gives us any bonuses is column 1. Its sum is 39, giving us 39 / 13 = 3 bonuses.</p>&#13;&#13;
<p class="indent">The total number of bonuses awarded is 2 + 4 + 3 = 9. So, <span class="literal">9</span> is the correct output for this test case.</p>&#13;&#13;
<h4 class="h4" id="ch05lev2sec25"><span epub:type="pagebreak" id="page_130"/>Nested Lists</h4>&#13;&#13;
<p class="noindent">To this point, we’ve seen lists of integers, floats, and strings. We can also create lists of lists, called <em>nested lists</em>. Each value of such a list is itself a list. It’s common to use a variable name like <span class="literal">grid</span> or <span class="literal">table</span> to refer to a nested list. Here’s a Python list corresponding to <a href="ch05.xhtml#ch05tab03">Table 5-3</a>:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">grid = [[ 1, 13,  2,  1,  1,  8],</span><br/>&#13;&#13;
...         <span class="codestrong1">[ 2, 12, 10,  5, 11,  4],</span><br/>&#13;&#13;
...         <span class="codestrong1">[39,  6, 13, 52,  3,  3],</span><br/>&#13;&#13;
...         <span class="codestrong1">[15,  8,  6,  2,  7, 14]]</span></p>&#13;&#13;
<p class="indent">Each list value corresponds to one row. If we index once, we get a row, which is itself a list:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">grid[0]</span><br/>&#13;&#13;
[1, 13, 2, 1, 1, 8]<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">grid[2]</span><br/>&#13;&#13;
[39, 6, 13, 52, 3, 3]</p>&#13;&#13;
<p class="indent">If we index twice, we get a single value. Here’s the value in row 1, column 2:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">grid[1][2]</span><br/>&#13;&#13;
10</p>&#13;&#13;
<p class="indent">Working with columns is a little trickier than working with rows, because each column is spread over multiple lists. To access a column, we need to aggregate one value from each row. We can do that with a loop, which incrementally builds a new list representing a column. Here, I obtain column 1:</p>&#13;&#13;
<p class="programs">   &gt;&gt;&gt; <span class="codestrong1">column = []</span><br/>&#13;&#13;
   &gt;&gt;&gt; <span class="codestrong1">for i in range(len(grid)):</span><br/>&#13;&#13;
<span class="ent">❶</span> ...     <span class="codestrong1">column.append(grid[i][1])</span><br/>&#13;&#13;
   ...<br/>&#13;&#13;
   &gt;&gt;&gt; <span class="codestrong1">column</span><br/>&#13;&#13;
   [13, 12, 6, 8]</p>&#13;&#13;
<p class="indent">Notice how the first index (the row) varies, but the second (the column) does not <span class="ent">❶</span>. This picks out each value with the same column index.</p>&#13;&#13;
<p class="indent">What about summing rows and columns? To sum a row, we can use the <span class="literal">sum</span> function. Here’s the sum of row 0:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">sum(grid[0])</span><br/>&#13;&#13;
26</p>&#13;&#13;
<p class="indent">We can also use a loop, like this:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">total = 0</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">for value in grid[0]:</span><br/>&#13;&#13;
...     <span class="codestrong1">total = total + value</span><br/>&#13;&#13;
<span epub:type="pagebreak" id="page_131"/>&#13;&#13;
...<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">total</span><br/>&#13;&#13;
26</p>&#13;&#13;
<p class="indent">Using <span class="literal">sum</span> is the easier option, so we’ll use that.</p>&#13;&#13;
<p class="indent">To sum a column, we can build a <span class="literal">column</span> list and use <span class="literal">sum</span> on that, or we can calculate it directly without making a new list. Here’s the latter approach for column 1:</p>&#13;&#13;
<p class="programs">&gt;&gt;&gt; <span class="codestrong1">total = 0</span><br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">for i in range(len(grid)):</span><br/>&#13;&#13;
...     <span class="codestrong1">total = total + grid[i][1]</span><br/>&#13;&#13;
...<br/>&#13;&#13;
&gt;&gt;&gt; <span class="codestrong1">total</span><br/>&#13;&#13;
39</p>&#13;&#13;
<div class="sidebar">&#13;&#13;
<p class="sb-title"><strong>CONCEPT CHECK</strong></p>&#13;&#13;
<p class="sidebarp">What is the output of the following code?</p>&#13;&#13;
<p class="programs">lst = [[1, 1],<br/>&#13;&#13;
       [2, 3, 4]]<br/>&#13;&#13;
x = 0<br/>&#13;&#13;
<br/>&#13;&#13;
for i in range(len(lst)):<br/>&#13;&#13;
    for j in range(len(lst[0])):<br/>&#13;&#13;
        x = x + lst[i][j]<br/>&#13;&#13;
<br/>&#13;&#13;
print(x)</p>&#13;&#13;
<p class="alphat">A. <span class="literal">2</span></p>&#13;&#13;
<p class="alpha">B. <span class="literal">7</span></p>&#13;&#13;
<p class="alpha">C. <span class="literal">11</span></p>&#13;&#13;
<p class="alpha">D. This code produces an error (it uses an invalid index)</p>&#13;&#13;
<p class="sb-noindent1">Answer: B. The variable <span class="literal">i</span> goes through the values 0 and 1 (because the length of <span class="literal">lst</span> is 2); the variable <span class="literal">j</span> also goes through the values 0 and 1 (because the length of <span class="literal">lst[0]</span> is 2). The values in the list that are summed are therefore those where each index is 0 or 1. In particular, this does not include the <span class="literal">4</span> at <span class="literal">lst[1][2]</span>.</p>&#13;&#13;
</div>&#13;&#13;
<span epub:type="pagebreak" id="page_132"/>&#13;&#13;
<div class="sidebar">&#13;&#13;
<p class="sb-title"><strong>CONCEPT CHECK</strong></p>&#13;&#13;
<p class="sidebarp">The following code contains two <span class="literal">print</span> calls. What is the output?</p>&#13;&#13;
<p class="programs">lst = [[5, 10], [15, 20]]<br/>&#13;&#13;
x = lst[0]<br/>&#13;&#13;
x[0] = 99<br/>&#13;&#13;
print(lst)<br/>&#13;&#13;
<br/>&#13;&#13;
lst = [[5, 10], [15, 20]]<br/>&#13;&#13;
y = lst[0]<br/>&#13;&#13;
y = y + [99]<br/>&#13;&#13;
print(lst)</p>&#13;&#13;
<p class="alphat">A.</p>&#13;&#13;
<p class="programs1">[[99, 10], [15, 20]]<br/>&#13;&#13;
[[5, 10], [15, 20]]</p>&#13;&#13;
<p class="alpha">B.</p>&#13;&#13;
<p class="programs1">[[99, 10], [15, 20]]<br/>&#13;&#13;
[[5, 10, 99], [15, 20]]</p>&#13;&#13;
<p class="alpha">C.</p>&#13;&#13;
<p class="programs1">[[5, 10], [15, 20]]<br/>&#13;&#13;
[[5, 10], [15, 20]]</p>&#13;&#13;
<p class="alpha">D.</p>&#13;&#13;
<p class="programs1">[[5, 10], [15, 20]]<br/>&#13;&#13;
[[5, 10, 99], [15, 20]]</p>&#13;&#13;
<p class="sb-noindent1">Answer: A. <span class="literal">x</span> refers to the first row of <span class="literal">lst</span>; it’s another way to reference <span class="literal">lst[0]</span>. Therefore, when we do <span class="literal">x[0] = 99</span>, that change is also reflected when looking at the list through <span class="literal">lst</span>.</p>&#13;&#13;
<p class="sidebarp">Next, <span class="literal">y</span> also refers to the first row of <span class="literal">lst</span>. But then we assign a new list to <span class="literal">y</span>—and it’s that list, not the first row of <span class="literal">lst</span>, that has the <span class="literal">99</span> appended to it.</p>&#13;&#13;
</div>&#13;&#13;
<h3 class="h3" id="ch05lev1sec16">Solving the Problem</h3>&#13;&#13;
<p class="noindent">Our code to solve this problem is in <a href="ch05.xhtml#ch05ex06">Listing 5-6</a>.</p>&#13;&#13;
<p class="programs">for dataset in range(10):<br/>&#13;&#13;
 <span class="ent">❶</span> lst = input().split()<br/>&#13;&#13;
    franchisees = int(lst[0])<br/>&#13;&#13;
    days = int(lst[1])<br/>&#13;&#13;
<span epub:type="pagebreak" id="page_133"/>    grid = []<br/>&#13;&#13;
<br/>&#13;&#13;
 <span class="ent">❷</span> for i in range(days):<br/>&#13;&#13;
        row = input().split()<br/>&#13;&#13;
     <span class="ent">❸</span> for j in range(franchisees):<br/>&#13;&#13;
            row[j] = int(row[j])<br/>&#13;&#13;
     <span class="ent">❹</span> grid.append(row)<br/>&#13;&#13;
<br/>&#13;&#13;
    bonuses = 0<br/>&#13;&#13;
<br/>&#13;&#13;
 <span class="ent">❺</span> for row in grid:<br/>&#13;&#13;
     <span class="ent">❻</span> total = sum(row)<br/>&#13;&#13;
        if total % 13 == 0:<br/>&#13;&#13;
            bonuses = bonuses + total // 13<br/>&#13;&#13;
<br/>&#13;&#13;
 <span class="ent">❼</span> for col_index in range(franchisees):<br/>&#13;&#13;
        total = 0<br/>&#13;&#13;
     <span class="ent">❽</span> for row_index in range(days):<br/>&#13;&#13;
            total = total + grid[row_index][col_index]<br/>&#13;&#13;
        if total % 13 == 0:<br/>&#13;&#13;
            bonuses = bonuses + total // 13<br/>&#13;&#13;
<br/>&#13;&#13;
    print(bonuses)</p>&#13;&#13;
<p class="ex-caption" id="ch05ex06"><em>Listing 5-6: Solving Baker Bonus</em></p>&#13;&#13;
<p class="indent">As with School Trip, the input contains 10 test cases, so we place all of our code inside a loop that iterates 10 times.</p>&#13;&#13;
<p class="indent">For each test case, we read the first line of input and call <span class="literal">split</span> to break it into a list <span class="ent">❶</span>. That list will contain two values—the number of franchisees and the number of days—and we convert them to integers and assign them to appropriately named variables.</p>&#13;&#13;
<p class="indent">The <span class="literal">grid</span> variable begins as an empty list. It will ultimately refer to a list of rows, where each row is a list of sales for a given day.</p>&#13;&#13;
<p class="indent">We use a range <span class="literal">for</span> loop to loop once for each day <span class="ent">❷</span>. We then read a row from the input and call <span class="literal">split</span> to split it into a list of individual sales values. These values are strings right now, so we use a nested loop to convert them all to integers <span class="ent">❸</span>. Then, we add the row to our grid <span class="ent">❹</span>.</p>&#13;&#13;
<p class="indent">We’ve now read the input and stored the grid. It’s time to add up the number of bonuses. We take that in two steps: first for the bonuses from the rows and second for the bonuses from the columns.</p>&#13;&#13;
<p class="indent">To find the bonuses from the rows, we use a <span class="literal">for</span> loop on <span class="literal">grid</span> <span class="ent">❺</span>. As with any <span class="literal">for</span> loop on a list, it gives us its values one at a time. Here, each value is a list, so <span class="literal">row</span> refers to a different list on each iteration. The <span class="literal">sum</span> function works on any list of numbers, so we use it here to add up the values in the current row <span class="ent">❻</span>. If the sum is divisible by 13, then we add the number of bonuses.</p>&#13;&#13;
<p class="indent">We can’t loop through columns of the list like we did rows, so we have to resort to looping through indices. We accomplish that by using a range <span class="literal">for</span> <span epub:type="pagebreak" id="page_134"/>loop through the indices of the columns <span class="ent">❼</span>. Using <span class="literal">sum</span> is not an option for summing the current column, so we’ll need a nested loop. That nested loop goes through the rows <span class="ent">❽</span>, adding up each value in the desired column. We then check whether that total is divisible by 13 and add any bonuses if it is.</p>&#13;&#13;
<p class="indent">We finish by printing the total number of bonuses.</p>&#13;&#13;
<p class="indent">Judge time! If you submit our code, you should see that all test cases pass.</p>&#13;&#13;
<h3 class="h3" id="ch05lev1sec17">Summary</h3>&#13;&#13;
<p class="noindent">In this chapter, we learned about lists, which help us work with collections of whatever type we choose. Lists of numbers, lists of strings, lists of lists: Python supports whatever we need. We also learned about list methods and why sorting a list can make it easier to process the values in a list.</p>&#13;&#13;
<p class="indent">In contrast to strings, lists are mutable, which means that we can change their contents. This helps us more easily manipulate lists, but we must be careful to modify the list that we think we’re modifying.</p>&#13;&#13;
<p class="indent">We’re at the point in our learning where we can write programs with many lines of code. We can direct what our programs do using <span class="literal">if</span> statements and loops. We can store and manipulate information using strings and lists. We can write programs to solve challenging problems. Such programs can become difficult to design and read. Fortunately, there’s a tool we can use to help us organize our programs to keep their complexity under control, and we’ll learn that tool in the next chapter. Working through some of the following exercises may deepen your appreciation of the difficulty in writing larger amounts of code. Then you’ll be ready to continue!</p>&#13;&#13;
<h3 class="h3" id="ch05lev1sec18">Chapter Exercises</h3>&#13;&#13;
<p class="noindent">Here are some exercises for you to try.</p>&#13;&#13;
<ol>&#13;&#13;
<li class="noindent">DMOJ problem <span class="literal">ccc07j3</span>, Deal or No Deal Calculator</li>&#13;&#13;
<li class="noindent">DMOJ problem <span class="literal">coci17c1p1</span>, Cezar</li>&#13;&#13;
<li class="noindent">DMOJ problem <span class="literal">coci18c2p1</span>, Preokret</li>&#13;&#13;
<li class="noindent">DMOJ problem <span class="literal">ccc00s2</span>, Babbling Brooks (Check out Python’s <span class="literal">round</span> function.)</li>&#13;&#13;
<li class="noindent">DMOJ problem <span class="literal">ecoo18r1p1</span>, Willow’s Wild Ride</li>&#13;&#13;
<li class="noindent">DMOJ problem <span class="literal">ecoo19r1p1</span>, Free Shirts</li>&#13;&#13;
<li class="noindent">DMOJ problem <span class="literal">dmopc14c7p2</span>, Tides</li>&#13;&#13;
<li class="noindent">DMOJ problem <span class="literal">wac3p3</span>, Wesley Plays DDR</li>&#13;&#13;
<li class="noindent">DMOJ problem <span class="literal">ecoo18r1p2</span>, Rue’s Rings (If you use f-strings here, you’ll need a way to include the <span class="literal">{</span> and <span class="literal">}</span> symbols themselves. You can include a <span class="literal">{</span> in the f-string by using <span class="literal">{{</span> and a <span class="literal">}</span> by using <span class="literal">}}</span>.)</li>&#13;&#13;
<li class="noindent">DMOJ problem <span class="literal">coci19c5p1</span>, Emacs</li>&#13;&#13;
<li class="noindent"><span epub:type="pagebreak" id="page_135"/>DMOJ problem <span class="literal">coci20c2p1</span>, Crtanje (You’ll need to support rows from –100 to 100. But how do we support negative-indexed rows when Python lists start at index 0? Here’s a trick: use index <span class="literal">x + 100</span> any time you need access to row <span class="literal">x</span>. That shifts the row numbers to be between 0 and 200 rather than between –100 and 100. Also, one small annoyance here with strings: <span class="literal">\</span> is a special character, so you’ll have to use <span class="literal">'\\'</span> rather than <span class="literal">'\'</span> if you want a <span class="literal">\</span> character.)</li>&#13;&#13;
<li class="noindent">DMOJ problem <span class="literal">dmopc19c5p2</span>, Charlie’s Crazy Conquest (You’ll have to be careful with indices and the game rules for this one!)</li>&#13;&#13;
</ol>&#13;&#13;
<h3 class="h3" id="ch05lev1sec19">Notes</h3>&#13;&#13;
<p class="noindent">Village Neighborhood is originally from the 2018 Canadian Computing Competition, Senior Level. School Trip is originally from the 2017 Educational Computing Organization of Ontario Programming Contest, Round 1. Baker Bonus is originally from the 2017 Educational Computing Organization of Ontario Programming Contest, Round 3.</p>&#13;&#13;
<span epub:type="pagebreak" id="page_136"/>&#13;&#13;
</div></body></html>