- en: '**INTRODUCTION**'
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**介绍**'
- en: '![Image](Images/comm-1.jpg)'
  id: totrans-1
  prefs: []
  type: TYPE_IMG
  zh: '![图片](Images/comm-1.jpg)'
- en: 'With this book, I want to help you become a Python expert. To do this, we’re
    going to focus on *Python one-liners*: concise, useful programs packed into a
    single line of Python. Focusing on one-liners will help you read and write code
    faster and more concisely, and will improve your understanding of the language.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这本书，我希望帮助你成为 Python 专家。为此，我们将专注于*Python 单行代码*：将有用的程序浓缩成一行 Python 代码。专注于单行代码将帮助你更快、更简洁地阅读和编写代码，并提高你对语言的理解。
- en: There are five more reasons I think learning Python one-liners will help you
    improve and are worth studying.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 还有五个理由，我认为学习 Python 单行代码将帮助你提高，并且值得学习。
- en: First, by improving your core Python skills, you’ll be able to overcome many
    of the small programming weaknesses that hold you back. It’s hard to make progress
    without a profound understanding of the basics. Single lines of code are the basic
    building block of any program. Understanding these basic building blocks will
    help you master high-level complexity without feeling overwhelmed.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 第一，通过提升你的核心 Python 技能，你将能够克服许多制约你进步的小编程弱点。没有对基础的深刻理解，很难取得进展。单行代码是任何程序的基本构建块。理解这些基本构建块将帮助你掌握高级复杂性，而不会感到不知所措。
- en: Second, you’ll learn how to leverage wildly popular Python libraries, such as
    those for data science and machine learning. The book consists of five one-liner
    chapters, each addressing a different area of Python, from regular expressions
    to machine learning. This approach will give you an overview of possible Python
    applications you can build, as well as teach you how to use these powerful libraries.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 第二，你将学会如何利用广受欢迎的 Python 库，例如用于数据科学和机器学习的库。本书由五个单行代码章节组成，每一章涉及 Python 的不同领域，从正则表达式到机器学习。这种方法将给你一个关于可以构建的
    Python 应用程序的概览，并教你如何使用这些强大的库。
- en: Third, you’ll learn to write more Pythonic code. Python beginners, especially
    those coming from other programming languages, often write code in un-Pythonic
    ways. We’ll cover Python-specific concepts like list comprehension, multiple assignment,
    and slicing, all of which will help you write code that’s easily readable and
    sharable with other programmers in the field.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 第三，你将学会编写更 Pythonic 的代码。Python 初学者，尤其是那些来自其他编程语言的人，往往会以非 Pythonic 的方式编写代码。我们将介绍
    Python 特有的概念，如列表推导式、多重赋值和切片，这些都将帮助你编写易于阅读且能够与其他开发者分享的代码。
- en: Fourth, studying Python one-liners forces you to think clearly and concisely.
    When you’re making every single code symbol count, there’s no room for sparse
    and unfocused coding.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 第四，学习 Python 单行代码迫使你清晰而简洁地思考。当你让每个代码符号都发挥作用时，就没有空间进行冗长和不专注的编码。
- en: 'Fifth, your new one-liner skill set will allow you to see through overly complicated
    Python codebases, and impress friends and interviewers alike. You may also find
    it fun and satisfying to solve challenging programming problems with a single
    line of code. And you wouldn’t be alone: a vibrant online community of Python
    geeks compete for the most compressed, most Pythonic solutions to various practical
    (and not-so-practical) problems.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 第五，你新的单行代码技能将帮助你透过复杂的 Python 代码库，给朋友和面试官留下深刻印象。你也可能会发现用一行代码解决挑战性编程问题既有趣又令人满意。而且你并不孤单：一个充满活力的
    Python 极客社区正在竞争解决各种实际（或不太实际）问题的最精简、最 Pythonic 的解决方案。
- en: '**Python One-Liner Example**'
  id: totrans-9
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**Python 单行代码示例**'
- en: The central thesis of this book is that learning Python one-liners is both fundamental
    to understanding more-advanced codebases and an excellent tool for improving your
    skills. Before understanding what’s going on in a codebase with thousands of lines,
    you must understand the meaning of a single line of code.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的核心论点是，学习 Python 单行代码既是理解更高级代码库的基础，也是提升编程技能的绝佳工具。在理解一个拥有成千上万行代码的代码库之前，你必须理解一行代码的含义。
- en: Let’s have a quick look at a Python one-liner. Don’t worry if you don’t fully
    understand it. You will master this one-liner in [Chapter 6](ch06.xhtml#ch06).
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们快速看一下一个 Python 单行代码。不要担心如果你还没完全理解它。你将在[第六章](ch06.xhtml#ch06)掌握这行代码。
- en: '[PRE0]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: This one-liner is a beautiful and concise way of compressing the famous Quicksort
    algorithm, though the meaning may be difficult to grasp for many Python beginners
    and intermediates.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 这一行代码是压缩著名的快速排序算法的一种简洁优美的方式，尽管对许多 Python 初学者和中级开发者来说，其含义可能很难理解。
- en: 'Python one-liners often build on each other, so one-liners will increase in
    complexity throughout the book. In this book, we’ll start with simple one-liners
    that will become the basis for more-complex one-liners later. For example, the
    preceding Quicksort one-liner is difficult and long, based on the easier concept
    of list comprehension ➊. Here’s a simpler list comprehension that creates a list
    of squared numbers:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: Python 的一行代码往往是相互衔接的，所以本书中的一行代码会逐步增加复杂性。在这本书中，我们将从简单的一行代码开始，逐步构建起更复杂的代码。例如，前面的快速排序一行代码既困难又长，它是基于更简单的列表推导式概念
    ➊。下面是一个更简单的列表推导式，用来创建一个包含平方数的列表：
- en: '[PRE1]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: We can break this one-liner into even simpler one-liners that teach important
    Python basics, such as variable assignments, math operators, data structures,
    `for` loops, membership operators, and the `range()` function—all of which happens
    in a single line of Python!
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以将这一行代码拆解成更简单的一行代码，教会你 Python 的重要基础知识，比如变量赋值、数学运算符、数据结构、`for` 循环、成员运算符和 `range()`
    函数——这些都在一行 Python 代码中完成！
- en: Know that *basic* doesn’t mean *trivial*. All the one-liners we’ll look at are
    useful, and each chapter addresses a separate area or discipline in computer science,
    giving you a broad perspective on the power of Python.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 请知道，*基础*并不意味着*琐碎*。我们要看的所有一行代码都是有用的，每一章都涉及计算机科学中的一个独立领域，给你一个广阔的视角，展示 Python 的强大功能。
- en: '**A Note on Readability**'
  id: totrans-18
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**关于可读性的说明**'
- en: '*The Zen of Python* comprises 19 guiding principles for the Python programming
    languages. You can read it in your Python shell by entering `import this`:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '*Python之禅*包括了19条指导原则，针对 Python 编程语言。你可以通过在 Python shell 中输入`import this`来阅读它：'
- en: '[PRE2]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'According to *The Zen of Python*, “Readability counts.” One-liners are minimalistic
    programs to solve problems. In many cases, rewriting a piece of code as a Python
    one-liner will improve readability and make the code more Pythonic. An example
    is using *list comprehension* to reduce the creation of lists into a single line
    of code. Have a look at the following example:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 根据*Python之禅*，“可读性很重要。”一行代码是解决问题的极简程序。在许多情况下，将一段代码重写成 Python 一行代码会提高可读性，并使代码更符合
    Python 风格。一个例子是使用*列表推导式*将创建列表的过程压缩成一行代码。看下面的例子：
- en: '[PRE3]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'In this code snippet, we need five lines of code to create a list of the first
    10 square numbers and print it to the shell. However, it’s much better to use
    a one-liner solution that accomplishes the same thing in a more readable and concise
    way:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 在这段代码中，我们需要五行代码来创建前 10 个平方数的列表并将其打印到 shell。然而，使用一行代码的解决方案要好得多，它能以更具可读性和更简洁的方式完成相同的任务：
- en: '[PRE4]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The output is the same, but the one-liner builds on the more Pythonic concept
    of list comprehension. It’s easier to read and more concise.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 输出结果是一样的，但这一行代码建立在更符合 Python 风格的列表推导式概念上。它更容易阅读，且更简洁。
- en: However, Python one-liners can also be hard to understand. In some cases, writing
    a solution as a Python one-liner isn’t more readable. But just as the chess master
    must know all possible moves before deciding which one is best, you must know
    all ways of expressing your thoughts in code so that you can decide on the best
    one. Going for *the most beautiful* solution is not a low-priority matter; it’s
    at the core of the Python ecosystem. As *The Zen of Python* teaches, “Beautiful
    is better than ugly.”
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，Python 的一行代码有时也难以理解。在某些情况下，写一个 Python 一行代码并不一定更具可读性。但正如国际象棋大师必须知道所有可能的棋步才能决定哪一步最优一样，你必须了解所有表达思路的方式，这样你才能决定最好的实现方式。追求*最美的*解决方案并非低优先级的问题；它是
    Python 生态系统的核心。正如*Python之禅*所教，“美胜于丑。”
- en: '**Who Is This Book For?**'
  id: totrans-27
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**这本书适合谁？**'
- en: Are you a beginner- to intermediate-level Python coder? Like many of your peers,
    you may be stuck in your coding progress. This book can help you out. You’ve read
    a lot of programming tutorials online. You’ve written your own source code and
    successfully shipped small projects. You’ve finished a basic programming course
    and read a programming textbook or two. Maybe you’ve even finished a technical
    program in college, where you’ve learned about the basics of computer science
    and programming.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 你是一个初学到中级水平的 Python 编程者吗？像你身边的许多人一样，你可能在编程进展上遇到了一些瓶颈。这本书可以帮助你。你已经读了很多在线编程教程。你写过自己的源代码，并成功发布了一些小项目。你已经完成了基础编程课程，并阅读过一两本编程教材。也许你甚至完成了大学里的技术课程，学习了计算机科学和编程的基础知识。
- en: Perhaps you’re limited by certain beliefs, like that most coders understand
    source code much faster than you, or that you’re nowhere near the top 10 percent
    of programmers. If you want to reach an advanced coding level and join the top
    coding experts, you need to learn new applicable skills.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 也许你受限于某些信念，比如认为大多数程序员比你更快理解源代码，或者认为自己远没有达到程序员的前10%。如果你想达到更高的编码水平并加入顶尖的编程专家行列，你需要学习新的实用技能。
- en: I can relate because when I started out studying computer science 10 years ago,
    I struggled with the belief that I knew nothing about coding. At the same time,
    it seemed that all my peers were already very experienced and proficient.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 我能理解，因为在我十年前开始学习计算机科学时，我也曾困惑于自己对编程一无所知。同时，似乎所有的同龄人都已经非常有经验并且熟练。
- en: In this book, I want to help you overcome these limiting beliefs and push you
    one step further toward Python mastery.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，我希望帮助你克服这些限制性信念，并推动你迈向Python大师的一步。
- en: '**What Will You Learn?**'
  id: totrans-32
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**你将学到什么？**'
- en: Here is an overview of what you will learn.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是你将学到的内容概述。
- en: '**[Chapter 1: Python Refresher](ch01.xhtml#ch01)** Introduces the very basics
    of Python to refresh your knowledge.'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '**[第1章：Python复习](ch01.xhtml#ch01)** 介绍了Python的基础知识，帮助你刷新记忆。'
- en: '**[Chapter 2: Python Tricks](ch02.xhtml#ch02)** Contains 10 one-liner tricks
    to help you master the basics, such as list comprehension, file input, the functions
    `lambda`, `map()`, and `zip()`, the `all()` quantifier, slicing, and basic list
    arithmetic. You’ll also learn how to use, manipulate, and leverage data structures
    to solve various day-to-day problems.'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '**[第2章：Python技巧](ch02.xhtml#ch02)** 包含10个一行代码技巧，帮助你掌握基础内容，如列表推导式、文件输入、`lambda`函数、`map()`和`zip()`、`all()`量词、切片和基本的列表运算。你还将学习如何使用、操作和利用数据结构来解决日常问题。'
- en: '**[Chapter 3: Data Science](ch03.xhtml#ch03)** Contains 10 one-liners for data
    science, building on the NumPy library. NumPy is at the heart of Python’s powerful
    machine learning and data science capabilities. You’ll learn elementary NumPy
    basics such as array, shape, axis, type, broadcasting, advanced indexing, slicing,
    sorting, searching, aggregating, and statistics.'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '**[第3章：数据科学](ch03.xhtml#ch03)** 包含10个用于数据科学的一行代码，基于NumPy库构建。NumPy是Python强大机器学习和数据科学能力的核心。你将学习NumPy的基础知识，如数组、形状、轴、类型、广播、高级索引、切片、排序、搜索、聚合和统计。'
- en: '**[Chapter 4: Machine Learning](ch04.xhtml#ch04)** Covers 10 one-liners for
    machine learning with Python’s scikit-learn library. You’ll learn about regression
    algorithms that predict values. Examples of these include linear regression, K-Nearest
    Neighbors, and neural networks. You’ll also learn classification algorithms such
    as logistic regression, decision-tree learning, support-vector machines, and random
    forests. Furthermore, you’ll learn about how to calculate basic statistics of
    multidimensional data arrays, and the K-Means algorithm for unsupervised learning.
    These algorithms and methods are among the most important algorithms in the field
    of machine learning.'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '**[第4章：机器学习](ch04.xhtml#ch04)** 涵盖了10个用于机器学习的简洁代码，使用Python的scikit-learn库。你将学习回归算法来预测值，诸如线性回归、K近邻和神经网络等示例。你还将学习分类算法，如逻辑回归、决策树学习、支持向量机和随机森林。此外，你将学习如何计算多维数据数组的基本统计数据，以及用于无监督学习的K均值算法。这些算法和方法是机器学习领域最重要的算法之一。'
- en: '**[Chapter 5: Regular Expressions](ch05.xhtml#ch05)** Contains 10 one-liners
    to help you achieve more with regular expressions. You’ll learn about various
    basic regular expressions that you can combine (and recombine) in order to create
    more-advanced regular expressions, using grouping and named groups, negative lookaheads,
    escaped characters, whitespaces, character sets (and negative characters sets),
    and greedy/nongreedy operators.'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '**[第5章：正则表达式](ch05.xhtml#ch05)** 包含10个一行代码，帮助你更好地使用正则表达式。你将学习各种基础的正则表达式，可以通过组合（和重新组合）来创建更复杂的正则表达式，使用分组和命名分组、负向前瞻、转义字符、空白字符、字符集（和否定字符集）、贪婪/非贪婪操作符。'
- en: '**[Chapter 6: Algorithms](ch06.xhtml#ch06)** Contains 10 one-liner algorithms
    addressing a wide range of computer science topics, including anagrams, palindromes,
    supersets, permutations, factorials, prime numbers, Fibonacci numbers, obfuscation,
    searching, and algorithmic sorting. Many of these form the basis of more-advanced
    algorithms and contain the seeds of a thorough algorithmic education.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '**[第6章：算法](ch06.xhtml#ch06)** 包含了10个单行算法，涉及广泛的计算机科学主题，包括字谜、回文、超集、排列、阶乘、素数、斐波那契数、混淆、搜索和算法排序。许多算法构成了更高级算法的基础，并包含了深入算法教育的种子。'
- en: '**[Afterword](ch07_afterword.xhtml#afterword)** Concludes this book and releases
    you into the real world, packed with your new and improved Python coding skills.'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '**[后记](ch07_afterword.xhtml#afterword)** 总结了本书，并将你释放到真实的世界中，带着你新获得的、更强的Python编程技能。'
- en: '**Online Resources**'
  id: totrans-41
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**在线资源**'
- en: 'To enhance the training material in this book, I’ve added supplementary resources
    that you can find online at [*https://pythononeliners.com/*](https://pythononeliners.com/)
    or [*http://www.nostarch.com/pythononeliners/*](http://www.nostarch.com/pythononeliners/).
    The interactive resources include the following:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 为了增强本书的训练材料，我添加了额外的资源，你可以在网上找到，链接地址是 [*https://pythononeliners.com/*](https://pythononeliners.com/)
    或 [*http://www.nostarch.com/pythononeliners/*](http://www.nostarch.com/pythononeliners/)。这些互动资源包括以下内容：
- en: '**Python cheat sheets** You can download those Python cheat sheets as printable
    PDFs and pin them to your wall. The cheat sheets contain essential Python language
    features, and if you study them thoroughly, you can refresh your Python skills
    and ensure that you’ve closed any knowledge gap you may have.'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '**Python备忘单** 你可以下载这些Python备忘单作为可打印的PDF文件，并将它们钉在墙上。备忘单包含了Python语言的核心特性，如果你仔细学习它们，你可以刷新你的Python技能，并确保填补任何知识空白。'
- en: '**One-liner video lessons** As part of my Python email course, I’ve recorded
    many Python one-liner lessons from this book, which you can access for free. Those
    lessons can assist you in your learning and provide a multimedia learning experience.'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '**单行代码视频课程** 作为我的Python邮件课程的一部分，我录制了很多来自本书的Python单行代码课程，你可以免费访问。这些课程将帮助你学习，并提供多媒体学习体验。'
- en: '**Python puzzles** You can visit the online resources to solve Python puzzles
    and use the *Finxter.com* app for free to test and train your Python skills and
    measure your learning progress as you go through the book.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '**Python谜题** 你可以访问在线资源来解决Python谜题，并使用*Finxter.com*应用免费测试和训练你的Python技能，随着你阅读本书，你还可以衡量自己的学习进度。'
- en: '**Code files and Jupyter notebooks** You must roll up your sleeves and start
    working with code to make progress toward Python mastery. Take your time to play
    around with various parameter values and input data. For your convenience, I’ve
    added all Python one-liners as executable code files.'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '**代码文件和Jupyter笔记本** 你必须挽起袖子，开始动手编写代码，才能朝着Python精通的目标迈进。花点时间玩弄不同的参数值和输入数据。为了方便你，我已经将所有Python单行代码作为可执行代码文件添加进来。'
