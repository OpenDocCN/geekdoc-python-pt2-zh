- en: '[A](nsp-venkitachalam503045-0008.xhtml#rappa)'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[A](nsp-venkitachalam503045-0008.xhtml#rappa)'
- en: Python Installation
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Python 安装
- en: '![](images/nsp-venkitachalam503045-circle-image.jpg)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![](images/nsp-venkitachalam503045-circle-image.jpg)'
- en: This appendix covers how to install Python, as well as the external modules
    and code used in the book. Installation for the hardware projects using Raspberry
    Pi is covered in [Appendix B](nsp-venkitachalam503045-0032.xhtml#appb). The projects
    in this book have been tested with Python 3.9.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本附录涵盖了如何安装 Python，以及书中使用的外部模块和代码。使用 Raspberry Pi 进行硬件项目的安装在[附录 B](nsp-venkitachalam503045-0032.xhtml#appb)中进行了说明。本书中的项目已使用
    Python 3.9 进行测试。
- en: '[Installing Source Code for the Book’s Projects](nsp-venkitachalam503045-0008.xhtml#rah1801)'
  id: totrans-4
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[为本书项目安装源代码](nsp-venkitachalam503045-0008.xhtml#rah1801)'
- en: You can download source code for the book’s projects from [https://github.com/mkvenkit/pp2e](https://github.com/mkvenkit/pp2e).
    Use the Download ZIP option at this site to retrieve the code.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以从 [https://github.com/mkvenkit/pp2e](https://github.com/mkvenkit/pp2e) 下载本书项目的源代码。使用该网站的
    "Download ZIP" 选项来获取代码。
- en: Once you download and extract the code, you need to add the path to the *common*
    folder in the downloaded code (generally *pp-master/common/*) to your `PYTHONPATH`
    environment variable so that modules can find and use these Python files.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 下载并解压代码后，你需要将下载的代码中的 *common* 文件夹路径（通常是 *pp-master/common/*）添加到 `PYTHONPATH`
    环境变量中，这样模块才能找到并使用这些 Python 文件。
- en: 'On Windows, you can do this by creating a `PYTHONPATH` environment variable
    or adding to one if it already exists. On macOS, you can add this line to your
    *.profile* file in your home directory (or create a file there if needed):'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Windows 上，你可以通过创建一个 `PYTHONPATH` 环境变量或在已存在的变量中添加来实现此操作。在 macOS 上，你可以将这一行添加到你的家目录中的
    *.profile* 文件（如果需要，可以在该目录下创建该文件）：
- en: export PYTHONPATH=$PYTHONPATH:`path_to_common_folder`
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: export PYTHONPATH=$PYTHONPATH:`path_to_common_folder`
- en: Fill in the path to the common folder as appropriate.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 根据需要填写 *common* 文件夹的路径。
- en: Linux users can do something similar to macOS, in their *.bashrc*, *.bash_profile*,
    or *.cshrc/.login* files as appropriate. Use the `echo $SHELL` command to see
    the default shell.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: Linux 用户可以像 macOS 一样，在适当的 *.bashrc*、*.bash_profile* 或 *.cshrc/.login* 文件中进行类似的操作。使用
    `echo $SHELL` 命令查看默认的 shell。
- en: '[Installing Python and Python Modules](nsp-venkitachalam503045-0008.xhtml#rah1802)'
  id: totrans-11
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[安装 Python 和 Python 模块](nsp-venkitachalam503045-0008.xhtml#rah1802)'
- en: I recommend using the Anaconda distribution of Python to run the book’s projects,
    since it already comes with most of the Python modules you’ll need. This section
    covers the installation process on Windows, macOS, and Linux.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 我推荐使用 Anaconda 发行版的 Python 来运行本书的项目，因为它已经包含了你将需要的大多数 Python 模块。本节介绍了在 Windows、macOS
    和 Linux 上的安装过程。
- en: '[Windows](nsp-venkitachalam503045-0008.xhtml#rbh1801)'
  id: totrans-13
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[Windows](nsp-venkitachalam503045-0008.xhtml#rbh1801)'
- en: Visit [https://www.anaconda.com](https://www.anaconda.com) and download Anaconda
    Distribution for Windows. Once the installation is complete, bring up the Anaconda
    prompt (type **Anaconda prompt** in the search bar), which you’ll use to run your
    programs. Just `cd` into the book’s code directory and you’re ready to go.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 访问 [https://www.anaconda.com](https://www.anaconda.com) 并下载适用于 Windows 的 Anaconda
    发行版。安装完成后，启动 Anaconda 提示符（在搜索栏中输入 **Anaconda prompt**），你将使用它来运行你的程序。只需 `cd` 到本书的代码目录，你就准备好了。
- en: 'It’s also useful to add the location of Anaconda and its supporting files into
    your `Path` environment variable (type **Edit Environment Variables** in the search
    bar):'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 将 Anaconda 及其支持文件的位置添加到你的 `Path` 环境变量中也是非常有用的（在搜索栏中输入 **Edit Environment Variables**）：
- en: '`C:\Users\mahes\anaconda3`'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '`C:\Users\mahes\anaconda3`'
- en: '`C:\Users\mahes\anaconda3`\Scripts'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '`C:\Users\mahes\anaconda3`\Scripts'
- en: '`C:\Users\mahes\anaconda3`\Library\bin'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '`C:\Users\mahes\anaconda3`\Library\bin'
- en: In this case, my Anaconda installation directory was `C:\Users\mahes\anaconda3\`.
    Modify this as necessary.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在我的案例中，我的 Anaconda 安装目录是 `C:\Users\mahes\anaconda3\`。根据需要进行修改。
- en: Installing GLFW
  id: totrans-20
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 安装 GLFW
- en: For the OpenGL-based 3D graphics projects in this book, you need the GLFW library,
    which you can download at [http://www.glfw.org](http://www.glfw.org). On Windows,
    after you install GLFW, set a `GLFW_LIBRARY` environment variable (type **Edit
    Environment Variables** in the search bar) to the full path of the installed *glfw3.dll*
    so that your Python binding for GLFW can find this library. The path will look
    something like *C:\glfw-3.0.4.bin.WIN32\lib-msvc120\glfw3.dll*.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本书中基于OpenGL的3D图形项目，你需要GLFW库，可以在[http://www.glfw.org](http://www.glfw.org)下载。在Windows上，安装GLFW后，设置一个`GLFW_LIBRARY`环境变量（在搜索栏中输入**编辑环境变量**）为已安装的*glfw3.dll*的完整路径，以便你的Python绑定能够找到这个库。路径大致如下：*C:\glfw-3.0.4.bin.WIN32\lib-msvc120\glfw3.dll*。
- en: 'To use GLFW with Python, you use a module called `pyglfw`, which consists of
    a single Python file called *glfw.py*. You don’t need to install `pyglfw` because
    it comes with the source code for the book; it’s in the *common* directory. Just
    in case you need to install a more recent version, here is the source: [https://github.com/rougier/pyglfw](https://github.com/rougier/pyglfw).'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 为了在Python中使用GLFW，你需要使用一个名为`pyglfw`的模块，它由一个名为*glfw.py*的Python文件组成。你不需要安装`pyglfw`，因为它随书中的源代码一起提供；它位于*common*目录下。万一你需要安装更新的版本，源代码可以在这里找到：[https://github.com/rougier/pyglfw](https://github.com/rougier/pyglfw)。
- en: You also need to ensure that your graphics card drivers are installed on your
    computer. This is a good thing in general since many programs (especially games)
    make use of the graphics processing unit (GPU).
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 你还需要确保计算机上已安装图形卡驱动程序。一般来说，这是一件好事，因为许多程序（尤其是游戏）都利用图形处理单元（GPU）。
- en: Installing Additional Modules
  id: totrans-24
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 安装额外模块
- en: 'You need to install a few additional modules that aren’t part of the standard
    Anaconda Distribution. Run the following commands at the Anaconda prompt:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要安装一些额外的模块，这些模块不属于标准的Anaconda发行版。请在Anaconda提示符下运行以下命令：
- en: '`conda install -c anaconda pyaudio`'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '`conda install -c anaconda pyaudio`'
- en: '`conda install -c anaconda pyopengl`'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '`conda install -c anaconda pyopengl`'
- en: '[macOS](nsp-venkitachalam503045-0008.xhtml#rbh1802)'
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[macOS](nsp-venkitachalam503045-0008.xhtml#rbh1802)'
- en: 'Visit [https://www.anaconda.com](https://www.anaconda.com) and download Anaconda
    Distribution for macOS. Once it’s installed, bring up a Terminal application window
    and enter `which python`. The output should point to the version of Anaconda Python.
    If not, add the path manually to your *.profile* file. For example:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 访问[https://www.anaconda.com](https://www.anaconda.com)并下载适用于macOS的Anaconda发行版。安装完成后，打开终端应用窗口并输入`which
    python`。输出应该指向Anaconda Python的版本。如果不是，请手动将路径添加到你的*.profile*文件中。例如：
- en: export PYTHONPATH=`your_anaconda_install_dir_path`:$PYTHONPATH
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: export PYTHONPATH=`your_anaconda_install_dir_path`:$PYTHONPATH
- en: Fill in the path to your Anaconda installation directory as appropriate.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 根据需要填写你Anaconda安装目录的路径。
- en: Installing GLFW
  id: totrans-32
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 安装GLFW
- en: For the OpenGL-based 3D graphics projects in this book, you need the GLFW library,
    which you can download at [http://www.glfw.org](http://www.glfw.org). Choose the
    macOS **Pre-compiled Binaries** option and copy the downloaded folder to your
    *Home* folder. In my case, for example, my *Home* folder is */Users/mahesh/*.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本书中基于OpenGL的3D图形项目，你需要GLFW库，可以在[http://www.glfw.org](http://www.glfw.org)下载。选择macOS
    **预编译二进制文件**选项，并将下载的文件夹复制到你的*Home*文件夹中。例如，在我的情况下，我的*Home*文件夹是*/Users/mahesh/*。
- en: 'Now you need to add the following to your *.profile*, making changes to your
    path as appropriate:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你需要将以下内容添加到你的*.profile*中，并根据需要更改路径：
- en: export GLFW_LIBRARY=/`Users/mahesh`/glfw-3.3.8.bin.MACOS/lib-universal/libglfw.3.dylib
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: export GLFW_LIBRARY=/`Users/mahesh`/glfw-3.3.8.bin.MACOS/lib-universal/libglfw.3.dylib
- en: You may get a security warning when you first try to run a program that uses
    GLFW. You need to allow it to run in System Preferences under Security.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 当你首次尝试运行一个使用GLFW的程序时，可能会收到安全警告。你需要在系统偏好设置中的安全性选项中允许该程序运行。
- en: Installing Additional Modules
  id: totrans-37
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 安装额外模块
- en: 'Next, you need to install some additional modules that aren’t part of the standard
    Anaconda Distribution. In a Terminal window, run the following commands:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，你需要安装一些额外的模块，这些模块不属于标准的Anaconda发行版。在终端窗口中运行以下命令：
- en: '`conda install -c anaconda pyaudio`'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '`conda install -c anaconda pyaudio`'
- en: '`conda install -c anaconda pyopengl`'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '`conda install -c anaconda pyopengl`'
- en: '[Linux](nsp-venkitachalam503045-0008.xhtml#rbh1803)'
  id: totrans-41
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[Linux](nsp-venkitachalam503045-0008.xhtml#rbh1803)'
- en: 'Linux usually comes with Python, as well as all the development tools needed
    to build the required packages, built in. So you don’t need to install Anaconda
    Python. On most Linux distributions, you should be able to use `pip3` to get the
    packages required for the book. You can install a package using `pip3` like this:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: Linux 通常自带 Python 以及构建所需包的所有开发工具，因此你无需安装 Anaconda Python。在大多数 Linux 发行版上，你应该能够使用`pip3`来获取书中所需的包。你可以通过以下方式使用
    `pip3` 安装包：
- en: sudo pip3 install matplotlib
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: sudo pip3 install matplotlib
- en: 'The other way to install a package is to download the module source distribution
    for it, which is usually in a *.gz* or *.zip* file. Once you unzip these files
    into a folder, you can then install them as follows:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 安装包的另一种方式是下载该模块的源代码分发包，通常是*.gz*或*.zip*文件。解压这些文件到一个文件夹后，你可以按照以下方式安装它们：
- en: sudo python setup.py install
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: sudo python setup.py install
- en: Use one of these methods for each package needed for the book.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 对于书中需要的每个包，使用这些方法之一。
